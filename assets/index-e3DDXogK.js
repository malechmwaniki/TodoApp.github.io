(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function wE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Nd={exports:{}},gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function SS(){if(P_)return gl;P_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return gl.Fragment=t,gl.jsx=i,gl.jsxs=i,gl}var L_;function bS(){return L_||(L_=1,Nd.exports=SS()),Nd.exports}var lt=bS(),Vd={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function wS(){if(k_)return vt;k_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),V=Symbol.iterator;function F(N){return N===null||typeof N!="object"?null:(N=V&&N[V]||N["@@iterator"],typeof N=="function"?N:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,Z={};function at(N,K,et){this.props=N,this.context=K,this.refs=Z,this.updater=et||$}at.prototype.isReactComponent={},at.prototype.setState=function(N,K){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,K,"setState")},at.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function yt(){}yt.prototype=at.prototype;function dt(N,K,et){this.props=N,this.context=K,this.refs=Z,this.updater=et||$}var Qt=dt.prototype=new yt;Qt.constructor=dt,J(Qt,at.prototype),Qt.isPureReactComponent=!0;var Wt=Array.isArray;function Ut(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(N,K,et){var rt=et.ref;return{$$typeof:r,type:N,key:K,ref:rt!==void 0?rt:null,props:et}}function M(N,K){return I(N.type,K,N.props)}function O(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function U(N){var K={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(et){return K[et]})}var w=/\/+/g;function ie(N,K){return typeof N=="object"&&N!==null&&N.key!=null?U(""+N.key):K.toString(36)}function De(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(Ut,Ut):(N.status="pending",N.then(function(K){N.status==="pending"&&(N.status="fulfilled",N.value=K)},function(K){N.status==="pending"&&(N.status="rejected",N.reason=K)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function H(N,K,et,rt,gt){var St=typeof N;(St==="undefined"||St==="boolean")&&(N=null);var Mt=!1;if(N===null)Mt=!0;else switch(St){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(N.$$typeof){case r:case t:Mt=!0;break;case A:return Mt=N._init,H(Mt(N._payload),K,et,rt,gt)}}if(Mt)return gt=gt(N),Mt=rt===""?"."+ie(N,0):rt,Wt(gt)?(et="",Mt!=null&&(et=Mt.replace(w,"$&/")+"/"),H(gt,K,et,"",function(ss){return ss})):gt!=null&&(O(gt)&&(gt=M(gt,et+(gt.key==null||N&&N.key===gt.key?"":(""+gt.key).replace(w,"$&/")+"/")+Mt)),K.push(gt)),1;Mt=0;var Oe=rt===""?".":rt+":";if(Wt(N))for(var re=0;re<N.length;re++)rt=N[re],St=Oe+ie(rt,re),Mt+=H(rt,K,et,St,gt);else if(re=F(N),typeof re=="function")for(N=re.call(N),re=0;!(rt=N.next()).done;)rt=rt.value,St=Oe+ie(rt,re++),Mt+=H(rt,K,et,St,gt);else if(St==="object"){if(typeof N.then=="function")return H(De(N),K,et,rt,gt);throw K=String(N),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function tt(N,K,et){if(N==null)return N;var rt=[],gt=0;return H(N,rt,"","",function(St){return K.call(et,St,gt++)}),rt}function ht(N){if(N._status===-1){var K=N._result;K=K(),K.then(function(et){(N._status===0||N._status===-1)&&(N._status=1,N._result=et)},function(et){(N._status===0||N._status===-1)&&(N._status=2,N._result=et)}),N._status===-1&&(N._status=0,N._result=K)}if(N._status===1)return N._result.default;throw N._result}var Pt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},jt={map:tt,forEach:function(N,K,et){tt(N,function(){K.apply(this,arguments)},et)},count:function(N){var K=0;return tt(N,function(){K++}),K},toArray:function(N){return tt(N,function(K){return K})||[]},only:function(N){if(!O(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return vt.Activity=S,vt.Children=jt,vt.Component=at,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=dt,vt.StrictMode=s,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,vt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return C.H.useMemoCache(N)}},vt.cache=function(N){return function(){return N.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(N,K,et){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var rt=J({},N.props),gt=N.key;if(K!=null)for(St in K.key!==void 0&&(gt=""+K.key),K)!b.call(K,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&K.ref===void 0||(rt[St]=K[St]);var St=arguments.length-2;if(St===1)rt.children=et;else if(1<St){for(var Mt=Array(St),Oe=0;Oe<St;Oe++)Mt[Oe]=arguments[Oe+2];rt.children=Mt}return I(N.type,gt,rt)},vt.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},vt.createElement=function(N,K,et){var rt,gt={},St=null;if(K!=null)for(rt in K.key!==void 0&&(St=""+K.key),K)b.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(gt[rt]=K[rt]);var Mt=arguments.length-2;if(Mt===1)gt.children=et;else if(1<Mt){for(var Oe=Array(Mt),re=0;re<Mt;re++)Oe[re]=arguments[re+2];gt.children=Oe}if(N&&N.defaultProps)for(rt in Mt=N.defaultProps,Mt)gt[rt]===void 0&&(gt[rt]=Mt[rt]);return I(N,St,gt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(N){return{$$typeof:p,render:N}},vt.isValidElement=O,vt.lazy=function(N){return{$$typeof:A,_payload:{_status:-1,_result:N},_init:ht}},vt.memo=function(N,K){return{$$typeof:_,type:N,compare:K===void 0?null:K}},vt.startTransition=function(N){var K=C.T,et={};C.T=et;try{var rt=N(),gt=C.S;gt!==null&&gt(et,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ut,Pt)}catch(St){Pt(St)}finally{K!==null&&et.types!==null&&(K.types=et.types),C.T=K}},vt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},vt.use=function(N){return C.H.use(N)},vt.useActionState=function(N,K,et){return C.H.useActionState(N,K,et)},vt.useCallback=function(N,K){return C.H.useCallback(N,K)},vt.useContext=function(N){return C.H.useContext(N)},vt.useDebugValue=function(){},vt.useDeferredValue=function(N,K){return C.H.useDeferredValue(N,K)},vt.useEffect=function(N,K){return C.H.useEffect(N,K)},vt.useEffectEvent=function(N){return C.H.useEffectEvent(N)},vt.useId=function(){return C.H.useId()},vt.useImperativeHandle=function(N,K,et){return C.H.useImperativeHandle(N,K,et)},vt.useInsertionEffect=function(N,K){return C.H.useInsertionEffect(N,K)},vt.useLayoutEffect=function(N,K){return C.H.useLayoutEffect(N,K)},vt.useMemo=function(N,K){return C.H.useMemo(N,K)},vt.useOptimistic=function(N,K){return C.H.useOptimistic(N,K)},vt.useReducer=function(N,K,et){return C.H.useReducer(N,K,et)},vt.useRef=function(N){return C.H.useRef(N)},vt.useState=function(N){return C.H.useState(N)},vt.useSyncExternalStore=function(N,K,et){return C.H.useSyncExternalStore(N,K,et)},vt.useTransition=function(){return C.H.useTransition()},vt.version="19.2.0",vt}var z_;function Tm(){return z_||(z_=1,Vd.exports=wS()),Vd.exports}var nn=Tm();const RS=wE(nn);var Md={exports:{}},yl={},xd={exports:{}},Ud={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function IS(){return B_||(B_=1,(function(r){function t(H,tt){var ht=H.length;H.push(tt);t:for(;0<ht;){var Pt=ht-1>>>1,jt=H[Pt];if(0<l(jt,tt))H[Pt]=tt,H[ht]=jt,ht=Pt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var tt=H[0],ht=H.pop();if(ht!==tt){H[0]=ht;t:for(var Pt=0,jt=H.length,N=jt>>>1;Pt<N;){var K=2*(Pt+1)-1,et=H[K],rt=K+1,gt=H[rt];if(0>l(et,ht))rt<jt&&0>l(gt,et)?(H[Pt]=gt,H[rt]=ht,Pt=rt):(H[Pt]=et,H[K]=ht,Pt=K);else if(rt<jt&&0>l(gt,ht))H[Pt]=gt,H[rt]=ht,Pt=rt;else break t}}return tt}function l(H,tt){var ht=H.sortIndex-tt.sortIndex;return ht!==0?ht:H.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],A=1,S=null,V=3,F=!1,$=!1,J=!1,Z=!1,at=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Qt(H){for(var tt=i(_);tt!==null;){if(tt.callback===null)s(_);else if(tt.startTime<=H)s(_),tt.sortIndex=tt.expirationTime,t(y,tt);else break;tt=i(_)}}function Wt(H){if(J=!1,Qt(H),!$)if(i(y)!==null)$=!0,Ut||(Ut=!0,U());else{var tt=i(_);tt!==null&&De(Wt,tt.startTime-H)}}var Ut=!1,C=-1,b=5,I=-1;function M(){return Z?!0:!(r.unstable_now()-I<b)}function O(){if(Z=!1,Ut){var H=r.unstable_now();I=H;var tt=!0;try{t:{$=!1,J&&(J=!1,yt(C),C=-1),F=!0;var ht=V;try{e:{for(Qt(H),S=i(y);S!==null&&!(S.expirationTime>H&&M());){var Pt=S.callback;if(typeof Pt=="function"){S.callback=null,V=S.priorityLevel;var jt=Pt(S.expirationTime<=H);if(H=r.unstable_now(),typeof jt=="function"){S.callback=jt,Qt(H),tt=!0;break e}S===i(y)&&s(y),Qt(H)}else s(y);S=i(y)}if(S!==null)tt=!0;else{var N=i(_);N!==null&&De(Wt,N.startTime-H),tt=!1}}break t}finally{S=null,V=ht,F=!1}tt=void 0}}finally{tt?U():Ut=!1}}}var U;if(typeof dt=="function")U=function(){dt(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ie=w.port2;w.port1.onmessage=O,U=function(){ie.postMessage(null)}}else U=function(){at(O,0)};function De(H,tt){C=at(function(){H(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(H){switch(V){case 1:case 2:case 3:var tt=3;break;default:tt=V}var ht=V;V=tt;try{return H()}finally{V=ht}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ht=V;V=H;try{return tt()}finally{V=ht}},r.unstable_scheduleCallback=function(H,tt,ht){var Pt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Pt+ht:Pt):ht=Pt,H){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=ht+jt,H={id:A++,callback:tt,priorityLevel:H,startTime:ht,expirationTime:jt,sortIndex:-1},ht>Pt?(H.sortIndex=ht,t(_,H),i(y)===null&&H===i(_)&&(J?(yt(C),C=-1):J=!0,De(Wt,ht-Pt))):(H.sortIndex=jt,t(y,H),$||F||($=!0,Ut||(Ut=!0,U()))),H},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(H){var tt=V;return function(){var ht=V;V=tt;try{return H.apply(this,arguments)}finally{V=ht}}}})(Ud)),Ud}var q_;function CS(){return q_||(q_=1,xd.exports=IS()),xd.exports}var Pd={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function DS(){if(j_)return Ye;j_=1;var r=Tm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,A)},Ye.flushSync=function(y){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=_,s.p=A,s.d.f()}},Ye.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(y,_))},Ye.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Ye.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:V,fetchPriority:F}):A==="script"&&s.d.X(y,{crossOrigin:S,integrity:V,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);s.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(y)},Ye.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin);s.d.L(y,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=p(_.as,_.crossOrigin);s.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(y)},Ye.requestFormReset=function(y){s.d.r(y)},Ye.unstable_batchedUpdates=function(y,_){return y(_)},Ye.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.0",Ye}var H_;function OS(){if(H_)return Pd.exports;H_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Pd.exports=DS(),Pd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function NS(){if(F_)return yl;F_=1;var r=CS(),t=Tm(),i=OS();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(s(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,V=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),at=Symbol.for("react.profiler"),yt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Qt=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),Ut=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case at:return"Profiler";case Z:return"StrictMode";case Wt:return"Suspense";case Ut:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case dt:return e.displayName||"Context";case yt:return(e._context.displayName||"Context")+".Consumer";case Qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var De=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Pt=[],jt=-1;function N(e){return{current:e}}function K(e){0>jt||(e.current=Pt[jt],Pt[jt]=null,jt--)}function et(e,n){jt++,Pt[jt]=e.current,e.current=n}var rt=N(null),gt=N(null),St=N(null),Mt=N(null);function Oe(e,n){switch(et(St,n),et(gt,e),et(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?s_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=s_(n),e=a_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(rt),et(rt,e)}function re(){K(rt),K(gt),K(St)}function ss(e){e.memoizedState!==null&&et(Mt,e);var n=rt.current,a=a_(n,e.type);n!==a&&(et(gt,e),et(rt,a))}function $s(e){gt.current===e&&(K(rt),K(gt)),Mt.current===e&&(K(Mt),fl._currentValue=ht)}var Zs,Js;function ei(e){if(Zs===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Zs=n&&n[1]||"",Js=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zs+e+Js}var ho=!1;function as(e,n){if(!e||ho)return"";ho=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var z=q}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(q){z=q}e.call(Q.prototype)}}else{try{throw Error()}catch(q){z=q}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),k=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===k.length)for(o=R.length-1,h=k.length-1;1<=o&&0<=h&&R[o]!==k[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==k[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==k[h]){var j=`
`+R[o].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=o&&0<=h);break}}}finally{ho=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ei(a):""}function fo(e,n){switch(e.tag){case 26:case 27:case 5:return ei(e.type);case 16:return ei("Lazy");case 13:return e.child!==n&&n!==null?ei("Suspense Fallback"):ei("Suspense");case 19:return ei("SuspenseList");case 0:case 15:return as(e.type,!1);case 11:return as(e.type.render,!1);case 1:return as(e.type,!0);case 31:return ei("Activity");default:return""}}function mo(e){try{var n="",a=null;do n+=fo(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,Ne=r.unstable_scheduleCallback,or=r.unstable_cancelCallback,Vh=r.unstable_shouldYield,Wl=r.unstable_requestPaint,We=r.unstable_now,os=r.unstable_getCurrentPriorityLevel,po=r.unstable_ImmediatePriority,go=r.unstable_UserBlockingPriority,lr=r.unstable_NormalPriority,Mh=r.unstable_LowPriority,tu=r.unstable_IdlePriority,eu=r.log,nu=r.unstable_setDisableYieldValue,zn=null,ze=null;function bn(e){if(typeof eu=="function"&&nu(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(zn,e)}catch{}}var ce=Math.clz32?Math.clz32:ru,iu=Math.log,Ws=Math.LN2;function ru(e){return e>>>=0,e===0?32:31-(iu(e)/Ws|0)|0}var ni=256,ls=262144,ge=4194304;function ii(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ri(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ii(o):(g&=E,g!==0?h=ii(g):a||(a=E&~e,a!==0&&(h=ii(a))))):(E=o&~f,E!==0?h=ii(E):g!==0?h=ii(g):a||(a=o&~e,a!==0&&(h=ii(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Bn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function xh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var e=ge;return ge<<=1,(ge&62914560)===0&&(ge=4194304),e}function si(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function us(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Uh(e,n,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,k=e.hiddenUpdates;for(a=g&~a;0<a;){var j=31-ce(a),Q=1<<j;E[j]=0,R[j]=-1;var z=k[j];if(z!==null)for(k[j]=null,j=0;j<z.length;j++){var q=z[j];q!==null&&(q.lane&=-536870913)}a&=~Q}o!==0&&cs(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function cs(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ce(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function yo(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-ce(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function _o(e,n){var a=n&-n;return a=(a&42)!==0?1:hs(a),(a&(e.suspendedLanes|n))!==0?0:a}function hs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function au(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:D_(e.type))}function qn(e,n){var a=tt.p;try{return tt.p=e,n()}finally{tt.p=a}}var jn=Math.random().toString(36).slice(2),ye="__reactFiber$"+jn,xe="__reactProps$"+jn,ai="__reactContainer$"+jn,ta="__reactEvents$"+jn,Ph="__reactListeners$"+jn,ou="__reactHandles$"+jn,lu="__reactResources$"+jn,oi="__reactMarker$"+jn;function ea(e){delete e[ye],delete e[xe],delete e[ta],delete e[Ph],delete e[ou]}function li(e){var n=e[ye];if(n)return n;for(var a=e.parentNode;a;){if(n=a[ai]||a[ye]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=d_(e);e!==null;){if(a=e[ye])return a;e=d_(e)}return n}e=a,a=e.parentNode}return null}function wn(e){if(e=e[ye]||e[ai]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function ui(e){var n=e[lu];return n||(n=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(e){e[oi]=!0}var vo=new Set,Eo={};function ci(e,n){hi(e,n),hi(e+"Capture",n)}function hi(e,n){for(Eo[e]=n,e=0;e<n.length;e++)vo.add(n[e])}var To=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ao={},So={};function uu(e){return pe.call(So,e)?!0:pe.call(Ao,e)?!1:To.test(e)?So[e]=!0:(Ao[e]=!0,!1)}function na(e,n,a){if(uu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function mn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function ve(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ur(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bo(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ht(e){if(!e._valueTracker){var n=ur(e)?"checked":"value";e._valueTracker=bo(e,n,""+e[n])}}function fs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=ur(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function fi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ds=/[\n"\\]/g;function rn(e){return e.replace(ds,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ia(e,n,a,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?wo(e,g,Ue(n)):a!=null?wo(e,g,Ue(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function cu(e,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ht(e);return}a=a!=null?""+Ue(a):"",n=n!=null?""+Ue(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Ht(e)}function wo(e,n,a){n==="number"&&fi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function cr(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ue(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function hu(e,n,a){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ue(a):""}function hr(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(De(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ue(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Ht(e)}function sn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ro(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||fu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Io(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Ro(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Ro(e,f,n[f])}function ra(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(e){return fr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var Co=null;function Rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dr=null,di=null;function ms(e){var n=wn(e);if(n&&(e=n.stateNode)){var a=e[xe]||null;t:switch(e=n.stateNode,n.type){case"input":if(ia(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[xe]||null;if(!h)throw Error(s(90));ia(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&fs(o)}break t;case"textarea":hu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&cr(e,!!a.multiple,n,!1)}}}var aa=!1;function mr(e,n,a){if(aa)return e(n,a);aa=!0;try{var o=e(n);return o}finally{if(aa=!1,(dr!==null||di!==null)&&(ac(),dr&&(n=dr,e=di,di=dr=null,ms(n),e)))for(n=0;n<e.length;n++)ms(e[n])}}function Fn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[xe]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ps=!1;if(In)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){ps=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{ps=!1}var mi=null,Do=null,gs=null;function Oo(){if(gs)return gs;var e,n=Do,a=n.length,o,h="value"in mi?mi.value:mi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return gs=h.slice(e,1<o?1-o:void 0)}function ys(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function Gn(){return!1}function Be(e){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ni:Gn,this.isPropagationStopped=Gn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=Be(Vi),pr=S({},Vi,{view:0,detail:0}),No=Be(pr),gr,oa,gi,la=S({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(gr=e.screenX-gi.screenX,oa=e.screenY-gi.screenY):oa=gr=0,gi=e),gr)},movementY:function(e){return"movementY"in e?e.movementY:oa}}),Vo=Be(la),_s=S({},la,{dataTransfer:0}),mu=Be(_s),pu=S({},pr,{relatedTarget:0}),vs=Be(pu),Mo=S({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=Be(Mo),ua=S({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yu=Be(ua),_u=S({},Vi,{data:0}),yi=Be(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tu[e])?!!n[e]:!1}function yr(){return Au}var tn=S({},pr,{key:function(e){if(e.key){var n=vu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yr,charCode:function(e){return e.type==="keypress"?ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Su=Be(tn),bu=S({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=Be(bu),u=S({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yr}),m=Be(u),v=S({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Be(v),P=S({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Be(P),W=S({},Vi,{newState:0,oldState:0}),Tt=Be(W),he=[9,13,27,32],zt=In&&"CompositionEvent"in window,se=null;In&&"documentMode"in document&&(se=document.documentMode);var Cn=In&&"TextEvent"in window&&!se,_i=In&&(!zt||se&&8<se&&11>=se),Qn=" ",Kn=!1;function Es(e,n){switch(e){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ha=!1;function K0(e,n){switch(e){case"compositionend":return ca(n);case"keypress":return n.which!==32?null:(Kn=!0,Qn);case"textInput":return e=n.data,e===Qn&&Kn?null:e;default:return null}}function Y0(e,n){if(ha)return e==="compositionend"||!zt&&Es(e,n)?(e=Oo(),gs=Do=mi=null,ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _i&&n.locale!=="ko"?null:n.data;default:return null}}var X0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!X0[e.type]:n==="textarea"}function yp(e,n,a,o){dr?di?di.push(o):di=[o]:dr=o,n=dc(n,"onChange"),0<n.length&&(a=new pi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var xo=null,Uo=null;function $0(e){Wy(e,0)}function wu(e){var n=dn(e);if(fs(n))return e}function _p(e,n){if(e==="change")return n}var vp=!1;if(In){var Lh;if(In){var kh="oninput"in document;if(!kh){var Ep=document.createElement("div");Ep.setAttribute("oninput","return;"),kh=typeof Ep.oninput=="function"}Lh=kh}else Lh=!1;vp=Lh&&(!document.documentMode||9<document.documentMode)}function Tp(){xo&&(xo.detachEvent("onpropertychange",Ap),Uo=xo=null)}function Ap(e){if(e.propertyName==="value"&&wu(Uo)){var n=[];yp(n,Uo,e,Rn(e)),mr($0,n)}}function Z0(e,n,a){e==="focusin"?(Tp(),xo=n,Uo=a,xo.attachEvent("onpropertychange",Ap)):e==="focusout"&&Tp()}function J0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wu(Uo)}function W0(e,n){if(e==="click")return wu(n)}function tA(e,n){if(e==="input"||e==="change")return wu(n)}function eA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:eA;function Po(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!pe.call(n,h)||!pn(e[h],n[h]))return!1}return!0}function Sp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bp(e,n){var a=Sp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Sp(a)}}function wp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?wp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Rp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=fi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=fi(e.document)}return n}function zh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var nA=In&&"documentMode"in document&&11>=document.documentMode,fa=null,Bh=null,Lo=null,qh=!1;function Ip(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qh||fa==null||fa!==fi(o)||(o=fa,"selectionStart"in o&&zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Lo&&Po(Lo,o)||(Lo=o,o=dc(Bh,"onSelect"),0<o.length&&(n=new pi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=fa)))}function Ts(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var da={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionrun:Ts("Transition","TransitionRun"),transitionstart:Ts("Transition","TransitionStart"),transitioncancel:Ts("Transition","TransitionCancel"),transitionend:Ts("Transition","TransitionEnd")},jh={},Cp={};In&&(Cp=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function As(e){if(jh[e])return jh[e];if(!da[e])return e;var n=da[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Cp)return jh[e]=n[a];return e}var Dp=As("animationend"),Op=As("animationiteration"),Np=As("animationstart"),iA=As("transitionrun"),rA=As("transitionstart"),sA=As("transitioncancel"),Vp=As("transitionend"),Mp=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function Yn(e,n){Mp.set(e,n),ci(n,[e])}var Ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dn=[],ma=0,Fh=0;function Iu(){for(var e=ma,n=Fh=ma=0;n<e;){var a=Dn[n];Dn[n++]=null;var o=Dn[n];Dn[n++]=null;var h=Dn[n];Dn[n++]=null;var f=Dn[n];if(Dn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&xp(a,h,f)}}function Cu(e,n,a,o){Dn[ma++]=e,Dn[ma++]=n,Dn[ma++]=a,Dn[ma++]=o,Fh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Gh(e,n,a,o){return Cu(e,n,a,o),Du(e)}function Ss(e,n){return Cu(e,null,null,n),Du(e)}function xp(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ce(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Du(e){if(50<sl)throw sl=0,ed=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var pa={};function aA(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,a,o){return new aA(e,n,a,o)}function Qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xi(e,n){var a=e.alternate;return a===null?(a=gn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Up(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ou(e,n,a,o,h,f){var g=0;if(o=e,typeof e=="function")Qh(e)&&(g=1);else if(typeof e=="string")g=hS(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=gn(31,a,n,h),e.elementType=I,e.lanes=f,e;case J:return bs(a.children,h,f,n);case Z:g=8,h|=24;break;case at:return e=gn(12,a,n,h|2),e.elementType=at,e.lanes=f,e;case Wt:return e=gn(13,a,n,h),e.elementType=Wt,e.lanes=f,e;case Ut:return e=gn(19,a,n,h),e.elementType=Ut,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:g=10;break t;case yt:g=9;break t;case Qt:g=11;break t;case C:g=14;break t;case b:g=16,o=null;break t}g=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=gn(g,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function bs(e,n,a,o){return e=gn(7,e,o,n),e.lanes=a,e}function Kh(e,n,a){return e=gn(6,e,null,n),e.lanes=a,e}function Pp(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Yh(e,n,a){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Lp=new WeakMap;function On(e,n){if(typeof e=="object"&&e!==null){var a=Lp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:mo(n)},Lp.set(e,n),n)}return{value:e,source:n,stack:mo(n)}}var ga=[],ya=0,Nu=null,ko=0,Nn=[],Vn=0,_r=null,vi=1,Ei="";function Ui(e,n){ga[ya++]=ko,ga[ya++]=Nu,Nu=e,ko=n}function kp(e,n,a){Nn[Vn++]=vi,Nn[Vn++]=Ei,Nn[Vn++]=_r,_r=e;var o=vi;e=Ei;var h=32-ce(o)-1;o&=~(1<<h),a+=1;var f=32-ce(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,vi=1<<32-ce(n)+h|a<<h|o,Ei=f+e}else vi=1<<f|a<<h|o,Ei=e}function Xh(e){e.return!==null&&(Ui(e,1),kp(e,1,0))}function $h(e){for(;e===Nu;)Nu=ga[--ya],ga[ya]=null,ko=ga[--ya],ga[ya]=null;for(;e===_r;)_r=Nn[--Vn],Nn[Vn]=null,Ei=Nn[--Vn],Nn[Vn]=null,vi=Nn[--Vn],Nn[Vn]=null}function zp(e,n){Nn[Vn++]=vi,Nn[Vn++]=Ei,Nn[Vn++]=_r,vi=n.id,Ei=n.overflow,_r=e}var qe=null,te=null,Vt=!1,vr=null,Mn=!1,Zh=Error(s(519));function Er(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zo(On(n,e)),Zh}function Bp(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[ye]=e,n[xe]=o,a){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(a=0;a<ol.length;a++)Rt(ol[a],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),cu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),hr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||i_(n.textContent,a)?(o.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),o.onScroll!=null&&Rt("scroll",n),o.onScrollEnd!=null&&Rt("scrollend",n),o.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||Er(e,!0)}function qp(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:qe=qe.return}}function _a(e){if(e!==qe)return!1;if(!Vt)return qp(e),Vt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||gd(e.type,e.memoizedProps)),a=!a),a&&te&&Er(e),qp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));te=f_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));te=f_(e)}else n===27?(n=te,xr(e.type)?(e=Td,Td=null,te=e):te=n):te=qe?Un(e.stateNode.nextSibling):null;return!0}function ws(){te=qe=null,Vt=!1}function Jh(){var e=vr;return e!==null&&(un===null?un=e:un.push.apply(un,e),vr=null),e}function zo(e){vr===null?vr=[e]:vr.push(e)}var Wh=N(null),Rs=null,Pi=null;function Tr(e,n,a){et(Wh,n._currentValue),n._currentValue=a}function Li(e){e._currentValue=Wh.current,K(Wh)}function tf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function ef(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),tf(f.return,a,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),tf(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function va(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=h.type;pn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Mt.current){if(g=h.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(fl):e=[fl])}h=h.return}e!==null&&ef(n,e,a,o),n.flags|=262144}function Vu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Is(e){Rs=e,Pi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return jp(Rs,e)}function Mu(e,n){return Rs===null&&Is(e),jp(e,n)}function jp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Pi===null){if(e===null)throw Error(s(308));Pi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Pi=Pi.next=n;return a}var oA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},lA=r.unstable_scheduleCallback,uA=r.unstable_NormalPriority,Ee={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new oA,data:new Map,refCount:0}}function Bo(e){e.refCount--,e.refCount===0&&lA(uA,function(){e.controller.abort()})}var qo=null,rf=0,Ea=0,Ta=null;function cA(e,n){if(qo===null){var a=qo=[];rf=0,Ea=od(),Ta={status:"pending",value:void 0,then:function(o){a.push(o)}}}return rf++,n.then(Hp,Hp),n}function Hp(){if(--rf===0&&qo!==null){Ta!==null&&(Ta.status="fulfilled");var e=qo;qo=null,Ea=0,Ta=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function hA(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Fp=H.S;H.S=function(e,n){Iy=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&cA(e,n),Fp!==null&&Fp(e,n)};var Cs=N(null);function sf(){var e=Cs.current;return e!==null?e:Zt.pooledCache}function xu(e,n){n===null?et(Cs,Cs.current):et(Cs,n.pool)}function Gp(){var e=sf();return e===null?null:{parent:Ee._currentValue,pool:e}}var Aa=Error(s(460)),af=Error(s(474)),Uu=Error(s(542)),Pu={then:function(){}};function Qp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Kp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Hn,Hn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Xp(e),e;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Xp(e),e}throw Os=n,Aa}}function Ds(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Os=a,Aa):a}}var Os=null;function Yp(){if(Os===null)throw Error(s(459));var e=Os;return Os=null,e}function Xp(e){if(e===Aa||e===Uu)throw Error(s(483))}var Sa=null,jo=0;function Lu(e){var n=jo;return jo+=1,Sa===null&&(Sa=[]),Kp(Sa,e,n)}function Ho(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ku(e,n){throw n.$$typeof===V?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function $p(e){function n(x,D){if(e){var L=x.deletions;L===null?(x.deletions=[D],x.flags|=16):L.push(D)}}function a(x,D){if(!e)return null;for(;D!==null;)n(x,D),D=D.sibling;return null}function o(x){for(var D=new Map;x!==null;)x.key!==null?D.set(x.key,x):D.set(x.index,x),x=x.sibling;return D}function h(x,D){return x=xi(x,D),x.index=0,x.sibling=null,x}function f(x,D,L){return x.index=L,e?(L=x.alternate,L!==null?(L=L.index,L<D?(x.flags|=67108866,D):L):(x.flags|=67108866,D)):(x.flags|=1048576,D)}function g(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,D,L,G){return D===null||D.tag!==6?(D=Kh(L,x.mode,G),D.return=x,D):(D=h(D,L),D.return=x,D)}function R(x,D,L,G){var ut=L.type;return ut===J?j(x,D,L.props.children,G,L.key):D!==null&&(D.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Ds(ut)===D.type)?(D=h(D,L.props),Ho(D,L),D.return=x,D):(D=Ou(L.type,L.key,L.props,null,x.mode,G),Ho(D,L),D.return=x,D)}function k(x,D,L,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Yh(L,x.mode,G),D.return=x,D):(D=h(D,L.children||[]),D.return=x,D)}function j(x,D,L,G,ut){return D===null||D.tag!==7?(D=bs(L,x.mode,G,ut),D.return=x,D):(D=h(D,L),D.return=x,D)}function Q(x,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Kh(""+D,x.mode,L),D.return=x,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return L=Ou(D.type,D.key,D.props,null,x.mode,L),Ho(L,D),L.return=x,L;case $:return D=Yh(D,x.mode,L),D.return=x,D;case b:return D=Ds(D),Q(x,D,L)}if(De(D)||U(D))return D=bs(D,x.mode,L,null),D.return=x,D;if(typeof D.then=="function")return Q(x,Lu(D),L);if(D.$$typeof===dt)return Q(x,Mu(x,D),L);ku(x,D)}return null}function z(x,D,L,G){var ut=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ut!==null?null:E(x,D,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case F:return L.key===ut?R(x,D,L,G):null;case $:return L.key===ut?k(x,D,L,G):null;case b:return L=Ds(L),z(x,D,L,G)}if(De(L)||U(L))return ut!==null?null:j(x,D,L,G,null);if(typeof L.then=="function")return z(x,D,Lu(L),G);if(L.$$typeof===dt)return z(x,D,Mu(x,L),G);ku(x,L)}return null}function q(x,D,L,G,ut){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(L)||null,E(D,x,""+G,ut);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case F:return x=x.get(G.key===null?L:G.key)||null,R(D,x,G,ut);case $:return x=x.get(G.key===null?L:G.key)||null,k(D,x,G,ut);case b:return G=Ds(G),q(x,D,L,G,ut)}if(De(G)||U(G))return x=x.get(L)||null,j(D,x,G,ut,null);if(typeof G.then=="function")return q(x,D,L,Lu(G),ut);if(G.$$typeof===dt)return q(x,D,L,Mu(D,G),ut);ku(D,G)}return null}function st(x,D,L,G){for(var ut=null,Lt=null,ot=D,bt=D=0,Ct=null;ot!==null&&bt<L.length;bt++){ot.index>bt?(Ct=ot,ot=null):Ct=ot.sibling;var kt=z(x,ot,L[bt],G);if(kt===null){ot===null&&(ot=Ct);break}e&&ot&&kt.alternate===null&&n(x,ot),D=f(kt,D,bt),Lt===null?ut=kt:Lt.sibling=kt,Lt=kt,ot=Ct}if(bt===L.length)return a(x,ot),Vt&&Ui(x,bt),ut;if(ot===null){for(;bt<L.length;bt++)ot=Q(x,L[bt],G),ot!==null&&(D=f(ot,D,bt),Lt===null?ut=ot:Lt.sibling=ot,Lt=ot);return Vt&&Ui(x,bt),ut}for(ot=o(ot);bt<L.length;bt++)Ct=q(ot,x,bt,L[bt],G),Ct!==null&&(e&&Ct.alternate!==null&&ot.delete(Ct.key===null?bt:Ct.key),D=f(Ct,D,bt),Lt===null?ut=Ct:Lt.sibling=Ct,Lt=Ct);return e&&ot.forEach(function(zr){return n(x,zr)}),Vt&&Ui(x,bt),ut}function ft(x,D,L,G){if(L==null)throw Error(s(151));for(var ut=null,Lt=null,ot=D,bt=D=0,Ct=null,kt=L.next();ot!==null&&!kt.done;bt++,kt=L.next()){ot.index>bt?(Ct=ot,ot=null):Ct=ot.sibling;var zr=z(x,ot,kt.value,G);if(zr===null){ot===null&&(ot=Ct);break}e&&ot&&zr.alternate===null&&n(x,ot),D=f(zr,D,bt),Lt===null?ut=zr:Lt.sibling=zr,Lt=zr,ot=Ct}if(kt.done)return a(x,ot),Vt&&Ui(x,bt),ut;if(ot===null){for(;!kt.done;bt++,kt=L.next())kt=Q(x,kt.value,G),kt!==null&&(D=f(kt,D,bt),Lt===null?ut=kt:Lt.sibling=kt,Lt=kt);return Vt&&Ui(x,bt),ut}for(ot=o(ot);!kt.done;bt++,kt=L.next())kt=q(ot,x,bt,kt.value,G),kt!==null&&(e&&kt.alternate!==null&&ot.delete(kt.key===null?bt:kt.key),D=f(kt,D,bt),Lt===null?ut=kt:Lt.sibling=kt,Lt=kt);return e&&ot.forEach(function(AS){return n(x,AS)}),Vt&&Ui(x,bt),ut}function $t(x,D,L,G){if(typeof L=="object"&&L!==null&&L.type===J&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case F:t:{for(var ut=L.key;D!==null;){if(D.key===ut){if(ut=L.type,ut===J){if(D.tag===7){a(x,D.sibling),G=h(D,L.props.children),G.return=x,x=G;break t}}else if(D.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Ds(ut)===D.type){a(x,D.sibling),G=h(D,L.props),Ho(G,L),G.return=x,x=G;break t}a(x,D);break}else n(x,D);D=D.sibling}L.type===J?(G=bs(L.props.children,x.mode,G,L.key),G.return=x,x=G):(G=Ou(L.type,L.key,L.props,null,x.mode,G),Ho(G,L),G.return=x,x=G)}return g(x);case $:t:{for(ut=L.key;D!==null;){if(D.key===ut)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){a(x,D.sibling),G=h(D,L.children||[]),G.return=x,x=G;break t}else{a(x,D);break}else n(x,D);D=D.sibling}G=Yh(L,x.mode,G),G.return=x,x=G}return g(x);case b:return L=Ds(L),$t(x,D,L,G)}if(De(L))return st(x,D,L,G);if(U(L)){if(ut=U(L),typeof ut!="function")throw Error(s(150));return L=ut.call(L),ft(x,D,L,G)}if(typeof L.then=="function")return $t(x,D,Lu(L),G);if(L.$$typeof===dt)return $t(x,D,Mu(x,L),G);ku(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(a(x,D.sibling),G=h(D,L),G.return=x,x=G):(a(x,D),G=Kh(L,x.mode,G),G.return=x,x=G),g(x)):a(x,D)}return function(x,D,L,G){try{jo=0;var ut=$t(x,D,L,G);return Sa=null,ut}catch(ot){if(ot===Aa||ot===Uu)throw ot;var Lt=gn(29,ot,null,x.mode);return Lt.lanes=G,Lt.return=x,Lt}finally{}}}var Ns=$p(!0),Zp=$p(!1),Ar=!1;function of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Sr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function br(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Du(e),xp(e,null,a),n}return Cu(e,o,n,a),Du(e)}function Fo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,yo(e,a)}}function uf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var cf=!1;function Go(){if(cf){var e=Ta;if(e!==null)throw e}}function Qo(e,n,a,o){cf=!1;var h=e.updateQueue;Ar=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,k=R.next;R.next=null,g===null?f=k:g.next=k,g=R;var j=e.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==g&&(E===null?j.firstBaseUpdate=k:E.next=k,j.lastBaseUpdate=R))}if(f!==null){var Q=h.baseState;g=0,j=k=R=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(It&z)===z:(o&z)===z){z!==0&&z===Ea&&(cf=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=e,ft=E;z=n;var $t=a;switch(ft.tag){case 1:if(st=ft.payload,typeof st=="function"){Q=st.call($t,Q,z);break t}Q=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ft.payload,z=typeof st=="function"?st.call($t,Q,z):st,z==null)break t;Q=S({},Q,z);break t;case 2:Ar=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(k=j=q,R=Q):j=j.next=q,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);j===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=k,h.lastBaseUpdate=j,f===null&&(h.shared.lanes=0),Dr|=g,e.lanes=g,e.memoizedState=Q}}function Jp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Wp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Jp(a[e],n)}var ba=N(null),zu=N(0);function tg(e,n){e=Qi,et(zu,e),et(ba,n),Qi=e|n.baseLanes}function hf(){et(zu,Qi),et(ba,ba.current)}function ff(){Qi=zu.current,K(ba),K(zu)}var yn=N(null),xn=null;function wr(e){var n=e.alternate;et(fe,fe.current&1),et(yn,e),xn===null&&(n===null||ba.current!==null||n.memoizedState!==null)&&(xn=e)}function df(e){et(fe,fe.current),et(yn,e),xn===null&&(xn=e)}function eg(e){e.tag===22?(et(fe,fe.current),et(yn,e),xn===null&&(xn=e)):Rr()}function Rr(){et(fe,fe.current),et(yn,yn.current)}function _n(e){K(yn),xn===e&&(xn=null),K(fe)}var fe=N(0);function Bu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||vd(a)||Ed(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ki=0,At=null,Yt=null,Te=null,qu=!1,wa=!1,Vs=!1,ju=0,Ko=0,Ra=null,fA=0;function le(){throw Error(s(321))}function mf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!pn(e[a],n[a]))return!1;return!0}function pf(e,n,a,o,h,f){return ki=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?kg:Of,Vs=!1,f=a(o,h),Vs=!1,wa&&(f=ig(n,a,o,h)),ng(e),f}function ng(e){H.H=$o;var n=Yt!==null&&Yt.next!==null;if(ki=0,Te=Yt=At=null,qu=!1,Ko=0,Ra=null,n)throw Error(s(300));e===null||Ae||(e=e.dependencies,e!==null&&Vu(e)&&(Ae=!0))}function ig(e,n,a,o){At=e;var h=0;do{if(wa&&(Ra=null),Ko=0,wa=!1,25<=h)throw Error(s(301));if(h+=1,Te=Yt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=zg,f=n(a,o)}while(wa);return f}function dA(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Yo(n):n,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(At.flags|=1024),n}function gf(){var e=ju!==0;return ju=0,e}function yf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function _f(e){if(qu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}qu=!1}ki=0,Te=Yt=At=null,wa=!1,Ko=ju=0,Ra=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?At.memoizedState=Te=e:Te=Te.next=e,Te}function de(){if(Yt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var n=Te===null?At.memoizedState:Te.next;if(n!==null)Te=n,Yt=e;else{if(e===null)throw At.alternate===null?Error(s(467)):Error(s(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Te===null?At.memoizedState=Te=e:Te=Te.next=e}return Te}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yo(e){var n=Ko;return Ko+=1,Ra===null&&(Ra=[]),e=Kp(Ra,e,n),n=At,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?kg:Of),e}function Fu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Yo(e);if(e.$$typeof===dt)return je(e)}throw Error(s(438,String(e)))}function vf(e){var n=null,a=At.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Hu(),At.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=M;return n.index++,a}function zi(e,n){return typeof n=="function"?n(e):n}function Gu(e){var n=de();return Ef(n,Yt,e)}function Ef(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,k=n,j=!1;do{var Q=k.lane&-536870913;if(Q!==k.lane?(It&Q)===Q:(ki&Q)===Q){var z=k.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),Q===Ea&&(j=!0);else if((ki&z)===z){k=k.next,z===Ea&&(j=!0);continue}else Q={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=Q,g=f):R=R.next=Q,At.lanes|=z,Dr|=z;Q=k.action,Vs&&a(f,Q),f=k.hasEagerState?k.eagerState:a(f,Q)}else z={lane:Q,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=z,g=f):R=R.next=z,At.lanes|=Q,Dr|=Q;k=k.next}while(k!==null&&k!==n);if(R===null?g=f:R.next=E,!pn(f,e.memoizedState)&&(Ae=!0,j&&(a=Ta,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Tf(e){var n=de(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);pn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function rg(e,n,a){var o=At,h=de(),f=Vt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!pn((Yt||h).memoizedState,a);if(g&&(h.memoizedState=a,Ae=!0),h=h.queue,bf(og.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(o.flags|=2048,Ia(9,{destroy:void 0},ag.bind(null,o,h,a,n),null),Zt===null)throw Error(s(349));f||(ki&127)!==0||sg(o,n,a)}return a}function sg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=At.updateQueue,n===null?(n=Hu(),At.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function ag(e,n,a,o){n.value=a,n.getSnapshot=o,lg(n)&&ug(e)}function og(e,n,a){return a(function(){lg(n)&&ug(e)})}function lg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!pn(e,a)}catch{return!0}}function ug(e){var n=Ss(e,2);n!==null&&cn(n,e,2)}function Af(e){var n=en();if(typeof e=="function"){var a=e;if(e=a(),Vs){bn(!0);try{a()}finally{bn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},n}function cg(e,n,a,o){return e.baseState=a,Ef(e,Yt,typeof o=="function"?o:zi)}function mA(e,n,a,o,h){if(Yu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,hg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function hg(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=a(h,o),R=H.S;R!==null&&R(g,E),fg(e,n,E)}catch(k){Sf(e,n,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=a(h,o),fg(e,n,f)}catch(k){Sf(e,n,k)}}function fg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){dg(e,n,o)},function(o){return Sf(e,n,o)}):dg(e,n,a)}function dg(e,n,a){n.status="fulfilled",n.value=a,mg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,hg(e,a)))}function Sf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,mg(n),n=n.next;while(n!==o)}e.action=null}function mg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function pg(e,n){return n}function gg(e,n){if(Vt){var a=Zt.formState;if(a!==null){t:{var o=At;if(Vt){if(te){e:{for(var h=te,f=Mn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Un(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=Un(h.nextSibling),o=h.data==="F!";break t}}Er(o)}o=!1}o&&(n=a[0])}}return a=en(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pg,lastRenderedState:n},a.queue=o,a=Ug.bind(null,At,o),o.dispatch=a,o=Af(!1),f=Df.bind(null,At,!1,o.queue),o=en(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=mA.bind(null,At,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function yg(e){var n=de();return _g(n,Yt,e)}function _g(e,n,a){if(n=Ef(e,n,pg)[0],e=Gu(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Yo(n)}catch(g){throw g===Aa?Uu:g}else o=n;n=de();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(At.flags|=2048,Ia(9,{destroy:void 0},pA.bind(null,h,a),null)),[o,f,e]}function pA(e,n){e.action=n}function vg(e){var n=de(),a=Yt;if(a!==null)return _g(n,a,e);de(),n=n.memoizedState,a=de();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Ia(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=Hu(),At.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Eg(){return de().memoizedState}function Qu(e,n,a,o){var h=en();At.flags|=e,h.memoizedState=Ia(1|n,{destroy:void 0},a,o===void 0?null:o)}function Ku(e,n,a,o){var h=de();o=o===void 0?null:o;var f=h.memoizedState.inst;Yt!==null&&o!==null&&mf(o,Yt.memoizedState.deps)?h.memoizedState=Ia(n,f,a,o):(At.flags|=e,h.memoizedState=Ia(1|n,f,a,o))}function Tg(e,n){Qu(8390656,8,e,n)}function bf(e,n){Ku(2048,8,e,n)}function gA(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=Hu(),At.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Ag(e){var n=de().memoizedState;return gA({ref:n,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Sg(e,n){return Ku(4,2,e,n)}function bg(e,n){return Ku(4,4,e,n)}function wg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Rg(e,n,a){a=a!=null?a.concat([e]):null,Ku(4,4,wg.bind(null,n,e),a)}function wf(){}function Ig(e,n){var a=de();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&mf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Cg(e,n){var a=de();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&mf(n,o[1]))return o[0];if(o=e(),Vs){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[o,n],o}function Rf(e,n,a){return a===void 0||(ki&1073741824)!==0&&(It&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Dy(),At.lanes|=e,Dr|=e,a)}function Dg(e,n,a,o){return pn(a,n)?a:ba.current!==null?(e=Rf(e,a,o),pn(e,n)||(Ae=!0),e):(ki&42)===0||(ki&1073741824)!==0&&(It&261930)===0?(Ae=!0,e.memoizedState=a):(e=Dy(),At.lanes|=e,Dr|=e,n)}function Og(e,n,a,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,Df(e,!1,n,a);try{var R=h(),k=H.S;if(k!==null&&k(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var j=hA(R,o);Xo(e,n,j,Tn(e))}else Xo(e,n,o,Tn(e))}catch(Q){Xo(e,n,{then:function(){},status:"rejected",reason:Q},Tn())}finally{tt.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function yA(){}function If(e,n,a,o){if(e.tag!==5)throw Error(s(476));var h=Ng(e).queue;Og(e,h,n,ht,a===null?yA:function(){return Vg(e),a(o)})}function Ng(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Vg(e){var n=Ng(e);n.next===null&&(n=e.alternate.memoizedState),Xo(e,n.next.queue,{},Tn())}function Cf(){return je(fl)}function Mg(){return de().memoizedState}function xg(){return de().memoizedState}function _A(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Tn();e=Sr(a);var o=br(n,e,a);o!==null&&(cn(o,n,a),Fo(o,n,a)),n={cache:nf()},e.payload=n;return}n=n.return}}function vA(e,n,a){var o=Tn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Yu(e)?Pg(n,a):(a=Gh(e,n,a,o),a!==null&&(cn(a,e,o),Lg(a,n,o)))}function Ug(e,n,a){var o=Tn();Xo(e,n,a,o)}function Xo(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))Pg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,pn(E,g))return Cu(e,n,h,0),Zt===null&&Iu(),!1}catch{}finally{}if(a=Gh(e,n,h,o),a!==null)return cn(a,e,o),Lg(a,n,o),!0}return!1}function Df(e,n,a,o){if(o={lane:2,revertLane:od(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(n)throw Error(s(479))}else n=Gh(e,a,o,2),n!==null&&cn(n,e,2)}function Yu(e){var n=e.alternate;return e===At||n!==null&&n===At}function Pg(e,n){wa=qu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Lg(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,yo(e,a)}}var $o={readContext:je,use:Fu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};$o.useEffectEvent=le;var kg={readContext:je,use:Fu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:je,useEffect:Tg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Qu(4194308,4,wg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Qu(4194308,4,e,n)},useInsertionEffect:function(e,n){Qu(4,2,e,n)},useMemo:function(e,n){var a=en();n=n===void 0?null:n;var o=e();if(Vs){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=en();if(a!==void 0){var h=a(n);if(Vs){bn(!0);try{a(n)}finally{bn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=vA.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=Af(e);var n=e.queue,a=Ug.bind(null,At,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:wf,useDeferredValue:function(e,n){var a=en();return Rf(a,e,n)},useTransition:function(){var e=Af(!1);return e=Og.bind(null,At,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=At,h=en();if(Vt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Zt===null)throw Error(s(349));(It&127)!==0||sg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Tg(og.bind(null,o,f,e),[e]),o.flags|=2048,Ia(9,{destroy:void 0},ag.bind(null,o,f,a,n),null),a},useId:function(){var e=en(),n=Zt.identifierPrefix;if(Vt){var a=Ei,o=vi;a=(o&~(1<<32-ce(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=ju++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=fA++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Cf,useFormState:gg,useActionState:gg,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Df.bind(null,At,!0,a),a.dispatch=n,[e,n]},useMemoCache:vf,useCacheRefresh:function(){return en().memoizedState=_A.bind(null,At)},useEffectEvent:function(e){var n=en(),a={impl:e};return n.memoizedState=a,function(){if((Bt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Of={readContext:je,use:Fu,useCallback:Ig,useContext:je,useEffect:bf,useImperativeHandle:Rg,useInsertionEffect:Sg,useLayoutEffect:bg,useMemo:Cg,useReducer:Gu,useRef:Eg,useState:function(){return Gu(zi)},useDebugValue:wf,useDeferredValue:function(e,n){var a=de();return Dg(a,Yt.memoizedState,e,n)},useTransition:function(){var e=Gu(zi)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Yo(e),n]},useSyncExternalStore:rg,useId:Mg,useHostTransitionStatus:Cf,useFormState:yg,useActionState:yg,useOptimistic:function(e,n){var a=de();return cg(a,Yt,e,n)},useMemoCache:vf,useCacheRefresh:xg};Of.useEffectEvent=Ag;var zg={readContext:je,use:Fu,useCallback:Ig,useContext:je,useEffect:bf,useImperativeHandle:Rg,useInsertionEffect:Sg,useLayoutEffect:bg,useMemo:Cg,useReducer:Tf,useRef:Eg,useState:function(){return Tf(zi)},useDebugValue:wf,useDeferredValue:function(e,n){var a=de();return Yt===null?Rf(a,e,n):Dg(a,Yt.memoizedState,e,n)},useTransition:function(){var e=Tf(zi)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Yo(e),n]},useSyncExternalStore:rg,useId:Mg,useHostTransitionStatus:Cf,useFormState:vg,useActionState:vg,useOptimistic:function(e,n){var a=de();return Yt!==null?cg(a,Yt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:vf,useCacheRefresh:xg};zg.useEffectEvent=Ag;function Nf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Vf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Tn(),h=Sr(o);h.payload=n,a!=null&&(h.callback=a),n=br(e,h,o),n!==null&&(cn(n,e,o),Fo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Tn(),h=Sr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=br(e,h,o),n!==null&&(cn(n,e,o),Fo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Tn(),o=Sr(a);o.tag=2,n!=null&&(o.callback=n),n=br(e,o,a),n!==null&&(cn(n,e,a),Fo(n,e,a))}};function Bg(e,n,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Po(a,o)||!Po(h,f):!0}function qg(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Vf.enqueueReplaceState(n,n.state,null)}function Ms(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function jg(e){Ru(e)}function Hg(e){console.error(e)}function Fg(e){Ru(e)}function Xu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Gg(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(e,n,a){return a=Sr(a),a.tag=3,a.payload={element:null},a.callback=function(){Xu(e,n)},a}function Qg(e){return e=Sr(e),e.tag=3,e}function Kg(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Gg(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Gg(n,a,o),typeof h!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function EA(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&va(n,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return xn===null?oc():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Pu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),rd(e,o,h)),!1;case 22:return a.flags|=65536,o===Pu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),rd(e,o,h)),!1}throw Error(s(435,a.tag))}return rd(e,o,h),oc(),!1}if(Vt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Zh&&(e=Error(s(422),{cause:o}),zo(On(e,a)))):(o!==Zh&&(n=Error(s(423),{cause:o}),zo(On(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=On(o,a),h=Mf(e.stateNode,o,h),uf(e,h),ue!==4&&(ue=2)),!1;var f=Error(s(520),{cause:o});if(f=On(f,a),rl===null?rl=[f]:rl.push(f),ue!==4&&(ue=2),n===null)return!0;o=On(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Mf(a.stateNode,o,e),uf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Or===null||!Or.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Qg(h),Kg(h,e,a,o),uf(a,h),!1}a=a.return}while(a!==null);return!1}var xf=Error(s(461)),Ae=!1;function He(e,n,a,o){n.child=e===null?Zp(n,null,a,o):Ns(n,e.child,a,o)}function Yg(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Is(n),o=pf(e,n,a,g,f,h),E=gf(),e!==null&&!Ae?(yf(e,n,h),Bi(e,n,h)):(Vt&&E&&Xh(n),n.flags|=1,He(e,n,o,h),n.child)}function Xg(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Qh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,$g(e,n,f,o,h)):(e=Ou(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!jf(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Po,a(g,o)&&e.ref===n.ref)return Bi(e,n,h)}return n.flags|=1,e=xi(f,o),e.ref=n.ref,e.return=n,n.child=e}function $g(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Po(f,o)&&e.ref===n.ref)if(Ae=!1,n.pendingProps=o=f,jf(e,h))(e.flags&131072)!==0&&(Ae=!0);else return n.lanes=e.lanes,Bi(e,n,h)}return Uf(e,n,a,o,h)}function Zg(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Jg(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&xu(n,f!==null?f.cachePool:null),f!==null?tg(n,f):hf(),eg(n);else return o=n.lanes=536870912,Jg(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(xu(n,f.cachePool),tg(n,f),Rr(),n.memoizedState=null):(e!==null&&xu(n,null),hf(),Rr());return He(e,n,h,a),n.child}function Zo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Jg(e,n,a,o,h){var f=sf();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&xu(n,null),hf(),eg(n),e!==null&&va(e,n,o,!0),n.childLanes=h,null}function $u(e,n){return n=Ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Wg(e,n,a){return Ns(n,e.child,null,a),e=$u(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function TA(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=$u(n,o),n.lanes=536870912,Zo(null,e);if(df(n),(e=te)?(e=h_(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_r!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},a=Pp(e),a.return=n,n.child=a,qe=n,te=null)):e=null,e===null)throw Er(n);return n.lanes=536870912,null}return $u(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(df(n),h)if(n.flags&256)n.flags&=-257,n=Wg(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Ae||va(e,n,a,!1),h=(a&e.childLanes)!==0,Ae||h){if(o=Zt,o!==null&&(g=_o(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ss(e,g),cn(o,e,g),xf;oc(),n=Wg(e,n,a)}else e=f.treeContext,te=Un(g.nextSibling),qe=n,Vt=!0,vr=null,Mn=!1,e!==null&&zp(n,e),n=$u(n,o),n.flags|=4096;return n}return e=xi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Zu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Uf(e,n,a,o,h){return Is(n),a=pf(e,n,a,o,void 0,h),o=gf(),e!==null&&!Ae?(yf(e,n,h),Bi(e,n,h)):(Vt&&o&&Xh(n),n.flags|=1,He(e,n,a,h),n.child)}function ty(e,n,a,o,h,f){return Is(n),n.updateQueue=null,a=ig(n,o,a,h),ng(e),o=gf(),e!==null&&!Ae?(yf(e,n,f),Bi(e,n,f)):(Vt&&o&&Xh(n),n.flags|=1,He(e,n,a,f),n.child)}function ey(e,n,a,o,h){if(Is(n),n.stateNode===null){var f=pa,g=a.contextType;typeof g=="object"&&g!==null&&(f=je(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},of(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?je(g):pa,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Nf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Vf.enqueueReplaceState(f,f.state,null),Qo(n,o,f,h),Go(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Ms(a,E);f.props=R;var k=f.context,j=a.contextType;g=pa,typeof j=="object"&&j!==null&&(g=je(j));var Q=a.getDerivedStateFromProps;j=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,j||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==g)&&qg(n,f,o,g),Ar=!1;var z=n.memoizedState;f.state=z,Qo(n,o,f,h),Go(),k=n.memoizedState,E||z!==k||Ar?(typeof Q=="function"&&(Nf(n,a,Q,o),k=n.memoizedState),(R=Ar||Bg(n,a,R,o,z,k,g))?(j||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=k),f.props=o,f.state=k,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,lf(e,n),g=n.memoizedProps,j=Ms(a,g),f.props=j,Q=n.pendingProps,z=f.context,k=a.contextType,R=pa,typeof k=="object"&&k!==null&&(R=je(k)),E=a.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||z!==R)&&qg(n,f,o,R),Ar=!1,z=n.memoizedState,f.state=z,Qo(n,o,f,h),Go();var q=n.memoizedState;g!==Q||z!==q||Ar||e!==null&&e.dependencies!==null&&Vu(e.dependencies)?(typeof E=="function"&&(Nf(n,a,E,o),q=n.memoizedState),(j=Ar||Bg(n,a,j,o,z,q,R)||e!==null&&e.dependencies!==null&&Vu(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=j):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Zu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ns(n,e.child,null,h),n.child=Ns(n,null,a,h)):He(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Bi(e,n,h),e}function ny(e,n,a,o){return ws(),n.flags|=256,He(e,n,a,o),n.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(e){return{baseLanes:e,cachePool:Gp()}}function kf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=En),e}function iy(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(h?wr(n):Rr(),(e=te)?(e=h_(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_r!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},a=Pp(e),a.return=n,n.child=a,qe=n,te=null)):e=null,e===null)throw Er(n);return Ed(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Rr(),h=n.mode,E=Ju({mode:"hidden",children:E},h),o=bs(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Lf(a),o.childLanes=kf(e,g,a),n.memoizedState=Pf,Zo(null,o)):(wr(n),zf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(wr(n),n.flags&=-257,n=Bf(e,n,a)):n.memoizedState!==null?(Rr(),n.child=e.child,n.flags|=128,n=null):(Rr(),E=o.fallback,h=n.mode,o=Ju({mode:"visible",children:o.children},h),E=bs(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ns(n,e.child,null,a),o=n.child,o.memoizedState=Lf(a),o.childLanes=kf(e,g,a),n.memoizedState=Pf,n=Zo(null,o));else if(wr(n),Ed(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var k=g.dgst;g=k,o=Error(s(419)),o.stack="",o.digest=g,zo({value:o,source:null,stack:null}),n=Bf(e,n,a)}else if(Ae||va(e,n,a,!1),g=(a&e.childLanes)!==0,Ae||g){if(g=Zt,g!==null&&(o=_o(g,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,Ss(e,o),cn(g,e,o),xf;vd(E)||oc(),n=Bf(e,n,a)}else vd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,te=Un(E.nextSibling),qe=n,Vt=!0,vr=null,Mn=!1,e!==null&&zp(n,e),n=zf(n,o.children),n.flags|=4096);return n}return h?(Rr(),E=o.fallback,h=n.mode,R=e.child,k=R.sibling,o=xi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,k!==null?E=xi(k,E):(E=bs(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Zo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Lf(a):(h=E.cachePool,h!==null?(R=Ee._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Gp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=kf(e,g,a),n.memoizedState=Pf,Zo(e.child,o)):(wr(n),a=e.child,e=a.sibling,a=xi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=a,n.memoizedState=null,a)}function zf(e,n){return n=Ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ju(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function Bf(e,n,a){return Ns(n,e.child,null,a),e=zf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ry(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),tf(e.return,n,a)}function qf(e,n,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function sy(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(fe,g),He(e,n,o,a),o=Vt?ko:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ry(e,a,n);else if(e.tag===19)ry(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Bu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),qf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Bu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}qf(n,!0,a,null,f,o);break;case"together":qf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Bi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Dr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(va(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=xi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=xi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function jf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Vu(e)))}function AA(e,n,a){switch(n.tag){case 3:Oe(n,n.stateNode.containerInfo),Tr(n,Ee,e.memoizedState.cache),ws();break;case 27:case 5:ss(n);break;case 4:Oe(n,n.stateNode.containerInfo);break;case 10:Tr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,df(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(wr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?iy(e,n,a):(wr(n),e=Bi(e,n,a),e!==null?e.sibling:null);wr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(va(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return sy(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(fe,fe.current),o)break;return null;case 22:return n.lanes=0,Zg(e,n,a,n.pendingProps);case 24:Tr(n,Ee,e.memoizedState.cache)}return Bi(e,n,a)}function ay(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ae=!0;else{if(!jf(e,a)&&(n.flags&128)===0)return Ae=!1,AA(e,n,a);Ae=(e.flags&131072)!==0}else Ae=!1,Vt&&(n.flags&1048576)!==0&&kp(n,ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ds(n.elementType),n.type=e,typeof e=="function")Qh(e)?(o=Ms(e,o),n.tag=1,n=ey(null,n,e,o,a)):(n.tag=0,n=Uf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Qt){n.tag=11,n=Yg(null,n,e,o,a);break t}else if(h===C){n.tag=14,n=Xg(null,n,e,o,a);break t}}throw n=ie(e)||e,Error(s(306,n,""))}}return n;case 0:return Uf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Ms(o,n.pendingProps),ey(e,n,o,h,a);case 3:t:{if(Oe(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,lf(e,n),Qo(n,o,null,a);var g=n.memoizedState;if(o=g.cache,Tr(n,Ee,o),o!==f.cache&&ef(n,[Ee],a,!0),Go(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ny(e,n,o,a);break t}else if(o!==h){h=On(Error(s(424)),n),zo(h),n=ny(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(te=Un(e.firstChild),qe=n,Vt=!0,vr=null,Mn=!0,a=Zp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ws(),o===h){n=Bi(e,n,a);break t}He(e,n,o,a)}n=n.child}return n;case 26:return Zu(e,n),e===null?(a=y_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Vt||(a=n.type,e=n.pendingProps,o=mc(St.current).createElement(a),o[ye]=n,o[xe]=e,Fe(o,a,e),_e(o),n.stateNode=o):n.memoizedState=y_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ss(n),e===null&&Vt&&(o=n.stateNode=m_(n.type,n.pendingProps,St.current),qe=n,Mn=!0,h=te,xr(n.type)?(Td=h,te=Un(o.firstChild)):te=h),He(e,n,n.pendingProps.children,a),Zu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((h=o=te)&&(o=JA(o,n.type,n.pendingProps,Mn),o!==null?(n.stateNode=o,qe=n,te=Un(o.firstChild),Mn=!1,h=!0):h=!1),h||Er(n)),ss(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,gd(h,f)?o=null:g!==null&&gd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=pf(e,n,dA,null,null,a),fl._currentValue=h),Zu(e,n),He(e,n,o,a),n.child;case 6:return e===null&&Vt&&((e=a=te)&&(a=WA(a,n.pendingProps,Mn),a!==null?(n.stateNode=a,qe=n,te=null,e=!0):e=!1),e||Er(n)),null;case 13:return iy(e,n,a);case 4:return Oe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ns(n,null,o,a):He(e,n,o,a),n.child;case 11:return Yg(e,n,n.type,n.pendingProps,a);case 7:return He(e,n,n.pendingProps,a),n.child;case 8:return He(e,n,n.pendingProps.children,a),n.child;case 12:return He(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Tr(n,n.type,o.value),He(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Is(n),h=je(h),o=o(h),n.flags|=1,He(e,n,o,a),n.child;case 14:return Xg(e,n,n.type,n.pendingProps,a);case 15:return $g(e,n,n.type,n.pendingProps,a);case 19:return sy(e,n,a);case 31:return TA(e,n,a);case 22:return Zg(e,n,a,n.pendingProps);case 24:return Is(n),o=je(Ee),e===null?(h=sf(),h===null&&(h=Zt,f=nf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},of(n),Tr(n,Ee,h)):((e.lanes&a)!==0&&(lf(e,n),Qo(n,null,null,a),Go()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Tr(n,Ee,o)):(o=f.cache,Tr(n,Ee,o),o!==h.cache&&ef(n,[Ee],a,!0))),He(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function qi(e){e.flags|=4}function Hf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(My())e.flags|=8192;else throw Os=Pu,af}else e.flags&=-16777217}function oy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!A_(n))if(My())e.flags|=8192;else throw Os=Pu,af}function Wu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?su():536870912,e.lanes|=n,Na|=n)}function Jo(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function SA(e,n,a){var o=n.pendingProps;switch($h(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Li(Ee),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(_a(n)?qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jh())),ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(qi(n),f!==null?(ee(n),oy(n,f)):(ee(n),Hf(n,h,null,o,a))):f?f!==e.memoizedState?(qi(n),ee(n),oy(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&qi(n),ee(n),Hf(n,h,e,o,a)),null;case 27:if($s(n),a=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ee(n),null}e=rt.current,_a(n)?Bp(n):(e=m_(h,o,a),n.stateNode=e,qi(n))}return ee(n),null;case 5:if($s(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ee(n),null}if(f=rt.current,_a(n))Bp(n);else{var g=mc(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[ye]=n,f[xe]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&qi(n)}}return ee(n),Hf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=St.current,_a(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ye]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||i_(e.nodeValue,a)),e||Er(n,!0)}else e=mc(e).createTextNode(o),e[ye]=n,n.stateNode=e}return ee(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=_a(n),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ye]=n}else ws(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else a=Jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=_a(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ye]=n}else ws(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=Jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Wu(n,n.updateQueue),ee(n),null);case 4:return re(),e===null&&hd(n.stateNode.containerInfo),ee(n),null;case 10:return Li(n.type),ee(n),null;case 19:if(K(fe),o=n.memoizedState,o===null)return ee(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Jo(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Bu(e),f!==null){for(n.flags|=128,Jo(o,!1),e=f.updateQueue,n.updateQueue=e,Wu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Up(a,e),a=a.sibling;return et(fe,fe.current&1|2),Vt&&Ui(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&We()>rc&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Bu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Wu(n,e),Jo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return ee(n),null}else 2*We()-o.renderingStartTime>rc&&a!==536870912&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,a=fe.current,et(fe,h?a&1|2:a&1),Vt&&Ui(n,o.treeForkCount),e):(ee(n),null);case 22:case 23:return _n(n),ff(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),a=n.updateQueue,a!==null&&Wu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&K(Cs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Li(Ee),ee(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function bA(e,n){switch($h(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(Ee),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return $s(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(s(340));ws()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ws()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(fe),null;case 4:return re(),null;case 10:return Li(n.type),null;case 22:case 23:return _n(n),ff(),e!==null&&K(Cs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(Ee),null;case 25:return null;default:return null}}function ly(e,n){switch($h(n),n.tag){case 3:Li(Ee),re();break;case 26:case 27:case 5:$s(n);break;case 4:re();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:K(fe);break;case 10:Li(n.type);break;case 22:case 23:_n(n),ff(),e!==null&&K(Cs);break;case 24:Li(Ee)}}function Wo(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){Gt(n,n.return,E)}}function Ir(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=a,k=E;try{k()}catch(j){Gt(h,R,j)}}}o=o.next}while(o!==f)}}catch(j){Gt(n,n.return,j)}}function uy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Wp(n,a)}catch(o){Gt(e,e.return,o)}}}function cy(e,n,a){a.props=Ms(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Gt(e,n,o)}}function tl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Gt(e,n,h)}}function Ti(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Gt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Gt(e,n,h)}else a.current=null}function hy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Gt(e,e.return,h)}}function Ff(e,n,a){try{var o=e.stateNode;QA(o,e.type,a,n),o[xe]=n}catch(h){Gt(e,e.return,h)}}function fy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xr(e.type)||e.tag===4}function Gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||fy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Hn));else if(o!==4&&(o===27&&xr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Qf(e,n,a),e=e.sibling;e!==null;)Qf(e,n,a),e=e.sibling}function tc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&xr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(tc(e,n,a),e=e.sibling;e!==null;)tc(e,n,a),e=e.sibling}function dy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,o,a),n[ye]=e,n[xe]=a}catch(f){Gt(e,e.return,f)}}var ji=!1,Se=!1,Kf=!1,my=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function wA(e,n){if(e=e.containerInfo,md=Tc,e=Rp(e),zh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,R=-1,k=0,j=0,Q=e,z=null;e:for(;;){for(var q;Q!==a||h!==0&&Q.nodeType!==3||(E=g+h),Q!==f||o!==0&&Q.nodeType!==3||(R=g+o),Q.nodeType===3&&(g+=Q.nodeValue.length),(q=Q.firstChild)!==null;)z=Q,Q=q;for(;;){if(Q===e)break e;if(z===a&&++k===h&&(E=g),z===f&&++j===o&&(R=g),(q=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=q}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(pd={focusedElem:e,selectionRange:a},Tc=!1,Pe=n;Pe!==null;)if(n=Pe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Pe=e;else for(;Pe!==null;){switch(n=Pe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var st=Ms(a.type,h);e=o.getSnapshotBeforeUpdate(st,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Gt(a,a.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)_d(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_d(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Pe=e;break}Pe=n.return}}function py(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Fi(e,a),o&4&&Wo(5,a);break;case 1:if(Fi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(g){Gt(a,a.return,g)}else{var h=Ms(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Gt(a,a.return,g)}}o&64&&uy(a),o&512&&tl(a,a.return);break;case 3:if(Fi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Wp(e,n)}catch(g){Gt(a,a.return,g)}}break;case 27:n===null&&o&4&&dy(a);case 26:case 5:Fi(e,a),n===null&&o&4&&hy(a),o&512&&tl(a,a.return);break;case 12:Fi(e,a);break;case 31:Fi(e,a),o&4&&_y(e,a);break;case 13:Fi(e,a),o&4&&vy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=xA.bind(null,a),tS(e,a))));break;case 22:if(o=a.memoizedState!==null||ji,!o){n=n!==null&&n.memoizedState!==null||Se,h=ji;var f=Se;ji=o,(Se=n)&&!f?Gi(e,a,(a.subtreeFlags&8772)!==0):Fi(e,a),ji=h,Se=f}break;case 30:break;default:Fi(e,a)}}function gy(e){var n=e.alternate;n!==null&&(e.alternate=null,gy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ea(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,an=!1;function Hi(e,n,a){for(a=a.child;a!==null;)yy(e,n,a),a=a.sibling}function yy(e,n,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:Se||Ti(a,n),Hi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Se||Ti(a,n);var o=ae,h=an;xr(a.type)&&(ae=a.stateNode,an=!1),Hi(e,n,a),ul(a.stateNode),ae=o,an=h;break;case 5:Se||Ti(a,n);case 6:if(o=ae,h=an,ae=null,Hi(e,n,a),ae=o,an=h,ae!==null)if(an)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(f){Gt(a,n,f)}else try{ae.removeChild(a.stateNode)}catch(f){Gt(a,n,f)}break;case 18:ae!==null&&(an?(e=ae,u_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),za(e)):u_(ae,a.stateNode));break;case 4:o=ae,h=an,ae=a.stateNode.containerInfo,an=!0,Hi(e,n,a),ae=o,an=h;break;case 0:case 11:case 14:case 15:Ir(2,a,n),Se||Ir(4,a,n),Hi(e,n,a);break;case 1:Se||(Ti(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&cy(a,n,o)),Hi(e,n,a);break;case 21:Hi(e,n,a);break;case 22:Se=(o=Se)||a.memoizedState!==null,Hi(e,n,a),Se=o;break;default:Hi(e,n,a)}}function _y(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{za(e)}catch(a){Gt(n,n.return,a)}}}function vy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{za(e)}catch(a){Gt(n,n.return,a)}}function RA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new my),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new my),n;default:throw Error(s(435,e.tag))}}function ec(e,n){var a=RA(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=UA.bind(null,e,o);o.then(h,h)}})}function on(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(xr(E.type)){ae=E.stateNode,an=!1;break t}break;case 5:ae=E.stateNode,an=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(ae===null)throw Error(s(160));yy(f,g,h),ae=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ey(n,e),n=n.sibling}var Xn=null;function Ey(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(Ir(3,e,e.return),Wo(3,e),Ir(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(Se||a===null||Ti(a,a.return)),o&64&&ji&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Xn;if(on(n,e),ln(e),o&512&&(Se||a===null||Ti(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[oi]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,a),f[ye]=e,_e(f),o=f;break t;case"link":var g=E_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;case"meta":if(g=E_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[ye]=e,_e(f),o=f}e.stateNode=o}else T_(h,e.type,e.stateNode);else e.stateNode=v_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?T_(h,e.type,e.stateNode):v_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ff(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(Se||a===null||Ti(a,a.return)),a!==null&&o&4&&Ff(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(Se||a===null||Ti(a,a.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(st){Gt(e,e.return,st)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Ff(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Kf=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(st){Gt(e,e.return,st)}}break;case 3:if(yc=null,h=Xn,Xn=pc(n.containerInfo),on(n,e),Xn=h,ln(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{za(n.containerInfo)}catch(st){Gt(e,e.return,st)}Kf&&(Kf=!1,Ty(e));break;case 4:o=Xn,Xn=pc(e.stateNode.containerInfo),on(n,e),ln(e),Xn=o;break;case 12:on(n,e),ln(e);break;case 31:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ic=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,k=ji,j=Se;if(ji=k||h,Se=j||R,on(n,e),Se=j,ji=k,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||ji||Se||xs(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Q=R.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(st){Gt(R,R.return,st)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(st){Gt(R,R.return,st)}}}else if(n.tag===18){if(a===null){R=n;try{var q=R.stateNode;h?c_(q,!0):c_(R.stateNode,!1)}catch(st){Gt(R,R.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,ec(e,a))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(fy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Gf(e);tc(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(sn(g,""),a.flags&=-33);var E=Gf(e);tc(e,E,g);break;case 3:case 4:var R=a.stateNode.containerInfo,k=Gf(e);Qf(e,k,R);break;default:throw Error(s(161))}}catch(j){Gt(e,e.return,j)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ty(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ty(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Fi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)py(e,n.alternate,n),n=n.sibling}function xs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ir(4,n,n.return),xs(n);break;case 1:Ti(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&cy(n,n.return,a),xs(n);break;case 27:ul(n.stateNode);case 26:case 5:Ti(n,n.return),xs(n);break;case 22:n.memoizedState===null&&xs(n);break;case 30:xs(n);break;default:xs(n)}e=e.sibling}}function Gi(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,a),Wo(4,f);break;case 1:if(Gi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Gt(o,o.return,k)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Jp(R[h],E)}catch(k){Gt(o,o.return,k)}}a&&g&64&&uy(f),tl(f,f.return);break;case 27:dy(f);case 26:case 5:Gi(h,f,a),a&&o===null&&g&4&&hy(f),tl(f,f.return);break;case 12:Gi(h,f,a);break;case 31:Gi(h,f,a),a&&g&4&&_y(h,f);break;case 13:Gi(h,f,a),a&&g&4&&vy(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,a),tl(f,f.return);break;case 30:break;default:Gi(h,f,a)}n=n.sibling}}function Yf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Bo(a))}function Xf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bo(e))}function $n(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ay(e,n,a,o),n=n.sibling}function Ay(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(e,n,a,o),h&2048&&Wo(9,n);break;case 1:$n(e,n,a,o);break;case 3:$n(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bo(e)));break;case 12:if(h&2048){$n(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Gt(n,n.return,R)}}else $n(e,n,a,o);break;case 31:$n(e,n,a,o);break;case 13:$n(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?$n(e,n,a,o):el(e,n):f._visibility&2?$n(e,n,a,o):(f._visibility|=2,Ca(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Yf(g,n);break;case 24:$n(e,n,a,o),h&2048&&Xf(n.alternate,n);break;default:$n(e,n,a,o)}}function Ca(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=a,R=o,k=g.flags;switch(g.tag){case 0:case 11:case 15:Ca(f,g,E,R,h),Wo(8,g);break;case 23:break;case 22:var j=g.stateNode;g.memoizedState!==null?j._visibility&2?Ca(f,g,E,R,h):el(f,g):(j._visibility|=2,Ca(f,g,E,R,h)),h&&k&2048&&Yf(g.alternate,g);break;case 24:Ca(f,g,E,R,h),h&&k&2048&&Xf(g.alternate,g);break;default:Ca(f,g,E,R,h)}n=n.sibling}}function el(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:el(a,o),h&2048&&Yf(o.alternate,o);break;case 24:el(a,o),h&2048&&Xf(o.alternate,o);break;default:el(a,o)}n=n.sibling}}var nl=8192;function Da(e,n,a){if(e.subtreeFlags&nl)for(e=e.child;e!==null;)Sy(e,n,a),e=e.sibling}function Sy(e,n,a){switch(e.tag){case 26:Da(e,n,a),e.flags&nl&&e.memoizedState!==null&&fS(a,Xn,e.memoizedState,e.memoizedProps);break;case 5:Da(e,n,a);break;case 3:case 4:var o=Xn;Xn=pc(e.stateNode.containerInfo),Da(e,n,a),Xn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=nl,nl=16777216,Da(e,n,a),nl=o):Da(e,n,a));break;default:Da(e,n,a)}}function by(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function il(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Pe=o,Ry(o,e)}by(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wy(e),e=e.sibling}function wy(e){switch(e.tag){case 0:case 11:case 15:il(e),e.flags&2048&&Ir(9,e,e.return);break;case 3:il(e);break;case 12:il(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,nc(e)):il(e);break;default:il(e)}}function nc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Pe=o,Ry(o,e)}by(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ir(8,n,n.return),nc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,nc(n));break;default:nc(n)}e=e.sibling}}function Ry(e,n){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:Ir(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Bo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Pe=o;else t:for(a=e;Pe!==null;){o=Pe;var h=o.sibling,f=o.return;if(gy(o),o===a){Pe=null;break t}if(h!==null){h.return=f,Pe=h;break t}Pe=f}}}var IA={getCacheForType:function(e){var n=je(Ee),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return je(Ee).controller.signal}},CA=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Zt=null,wt=null,It=0,Ft=0,vn=null,Cr=!1,Oa=!1,$f=!1,Qi=0,ue=0,Dr=0,Us=0,Zf=0,En=0,Na=0,rl=null,un=null,Jf=!1,ic=0,Iy=0,rc=1/0,sc=null,Or=null,Ve=0,Nr=null,Va=null,Ki=0,Wf=0,td=null,Cy=null,sl=0,ed=null;function Tn(){return(Bt&2)!==0&&It!==0?It&-It:H.T!==null?od():au()}function Dy(){if(En===0)if((It&536870912)===0||Vt){var e=ls;ls<<=1,(ls&3932160)===0&&(ls=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,n,a){(e===Zt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Ma(e,0),Vr(e,It,En,!1)),us(e,a),((Bt&2)===0||e!==Zt)&&(e===Zt&&((Bt&2)===0&&(Us|=a),ue===4&&Vr(e,It,En,!1)),Ai(e))}function Oy(e,n,a){if((Bt&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Bn(e,n),h=o?NA(e,n):id(e,n,!0),f=o;do{if(h===0){Oa&&!o&&Vr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!DA(a)){h=id(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=rl;var R=E.current.memoizedState.isDehydrated;if(R&&(Ma(E,g).flags|=256),g=id(E,g,!1),g!==2){if($f&&!R){E.errorRecoveryDisabledLanes|=f,Us|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ma(e,0),Vr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Vr(o,n,En,!Cr);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=ic+300-We(),10<h)){if(Vr(o,n,En,!Cr),ri(o,0,!0)!==0)break t;Ki=n,o.timeoutHandle=o_(Ny.bind(null,o,a,un,sc,Jf,n,En,Us,Na,Cr,f,"Throttled",-0,0),h);break t}Ny(o,a,un,sc,Jf,n,En,Us,Na,Cr,f,null,-0,0)}}break}while(!0);Ai(e)}function Ny(e,n,a,o,h,f,g,E,R,k,j,Q,z,q){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},Sy(n,f,Q);var st=(f&62914560)===f?ic-We():(f&4194048)===f?Iy-We():0;if(st=dS(Q,st),st!==null){Ki=f,e.cancelPendingCommit=st(zy.bind(null,e,n,f,a,o,h,g,E,R,j,Q,null,z,q)),Vr(e,f,g,!k);return}}zy(e,n,f,a,o,h,g,E,R)}function DA(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vr(e,n,a,o){n&=~Zf,n&=~Us,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ce(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&cs(e,a,n)}function ac(){return(Bt&6)===0?(al(0),!1):!0}function nd(){if(wt!==null){if(Ft===0)var e=wt.return;else e=wt,Pi=Rs=null,_f(e),Sa=null,jo=0,e=wt;for(;e!==null;)ly(e.alternate,e),e=e.return;wt=null}}function Ma(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,XA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ki=0,nd(),Zt=e,wt=a=xi(e.current,null),It=n,Ft=0,vn=null,Cr=!1,Oa=Bn(e,n),$f=!1,Na=En=Zf=Us=Dr=ue=0,un=rl=null,Jf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ce(o),f=1<<h;n|=e[h],o&=~f}return Qi=n,Iu(),a}function Vy(e,n){At=null,H.H=$o,n===Aa||n===Uu?(n=Yp(),Ft=3):n===af?(n=Yp(),Ft=4):Ft=n===xf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,wt===null&&(ue=1,Xu(e,On(n,e.current)))}function My(){var e=yn.current;return e===null?!0:(It&4194048)===It?xn===null:(It&62914560)===It||(It&536870912)!==0?e===xn:!1}function xy(){var e=H.H;return H.H=$o,e===null?$o:e}function Uy(){var e=H.A;return H.A=IA,e}function oc(){ue=4,Cr||(It&4194048)!==It&&yn.current!==null||(Oa=!0),(Dr&134217727)===0&&(Us&134217727)===0||Zt===null||Vr(Zt,It,En,!1)}function id(e,n,a){var o=Bt;Bt|=2;var h=xy(),f=Uy();(Zt!==e||It!==n)&&(sc=null,Ma(e,n)),n=!1;var g=ue;t:do try{if(Ft!==0&&wt!==null){var E=wt,R=vn;switch(Ft){case 8:nd(),g=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var k=Ft;if(Ft=0,vn=null,xa(e,E,R,k),a&&Oa){g=0;break t}break;default:k=Ft,Ft=0,vn=null,xa(e,E,R,k)}}OA(),g=ue;break}catch(j){Vy(e,j)}while(!0);return n&&e.shellSuspendCounter++,Pi=Rs=null,Bt=o,H.H=h,H.A=f,wt===null&&(Zt=null,It=0,Iu()),g}function OA(){for(;wt!==null;)Py(wt)}function NA(e,n){var a=Bt;Bt|=2;var o=xy(),h=Uy();Zt!==e||It!==n?(sc=null,rc=We()+500,Ma(e,n)):Oa=Bn(e,n);t:do try{if(Ft!==0&&wt!==null){n=wt;var f=vn;e:switch(Ft){case 1:Ft=0,vn=null,xa(e,n,f,1);break;case 2:case 9:if(Qp(f)){Ft=0,vn=null,Ly(n);break}n=function(){Ft!==2&&Ft!==9||Zt!==e||(Ft=7),Ai(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Qp(f)?(Ft=0,vn=null,Ly(n)):(Ft=0,vn=null,xa(e,n,f,7));break;case 5:var g=null;switch(wt.tag){case 26:g=wt.memoizedState;case 5:case 27:var E=wt;if(g?A_(g):E.stateNode.complete){Ft=0,vn=null;var R=E.sibling;if(R!==null)wt=R;else{var k=E.return;k!==null?(wt=k,lc(k)):wt=null}break e}}Ft=0,vn=null,xa(e,n,f,5);break;case 6:Ft=0,vn=null,xa(e,n,f,6);break;case 8:nd(),ue=6;break t;default:throw Error(s(462))}}VA();break}catch(j){Vy(e,j)}while(!0);return Pi=Rs=null,H.H=o,H.A=h,Bt=a,wt!==null?0:(Zt=null,It=0,Iu(),ue)}function VA(){for(;wt!==null&&!Vh();)Py(wt)}function Py(e){var n=ay(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,n===null?lc(e):wt=n}function Ly(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=ty(a,n,n.pendingProps,n.type,void 0,It);break;case 11:n=ty(a,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:_f(n);default:ly(a,n),n=wt=Up(n,Qi),n=ay(a,n,Qi)}e.memoizedProps=e.pendingProps,n===null?lc(e):wt=n}function xa(e,n,a,o){Pi=Rs=null,_f(n),Sa=null,jo=0;var h=n.return;try{if(EA(e,h,n,a,It)){ue=1,Xu(e,On(a,e.current)),wt=null;return}}catch(f){if(h!==null)throw wt=h,f;ue=1,Xu(e,On(a,e.current)),wt=null;return}n.flags&32768?(Vt||o===1?e=!0:Oa||(It&536870912)!==0?e=!1:(Cr=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),ky(n,e)):lc(n)}function lc(e){var n=e;do{if((n.flags&32768)!==0){ky(n,Cr);return}e=n.return;var a=SA(n.alternate,n,Qi);if(a!==null){wt=a;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=e}while(n!==null);ue===0&&(ue=5)}function ky(e,n){do{var a=bA(e.alternate,e);if(a!==null){a.flags&=32767,wt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){wt=e;return}wt=e=a}while(e!==null);ue=6,wt=null}function zy(e,n,a,o,h,f,g,E,R){e.cancelPendingCommit=null;do uc();while(Ve!==0);if((Bt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Fh,Uh(e,a,f,g,E,R),e===Zt&&(wt=Zt=null,It=0),Va=n,Nr=e,Ki=a,Wf=f,td=h,Cy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,PA(lr,function(){return Fy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=tt.p,tt.p=2,g=Bt,Bt|=4;try{wA(e,n,a)}finally{Bt=g,tt.p=h,H.T=o}}Ve=1,By(),qy(),jy()}}function By(){if(Ve===1){Ve=0;var e=Nr,n=Va,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=tt.p;tt.p=2;var h=Bt;Bt|=4;try{Ey(n,e);var f=pd,g=Rp(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&wp(E.ownerDocument.documentElement,E)){if(R!==null&&zh(E)){var k=R.start,j=R.end;if(j===void 0&&(j=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(j,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var q=z.getSelection(),st=E.textContent.length,ft=Math.min(R.start,st),$t=R.end===void 0?ft:Math.min(R.end,st);!q.extend&&ft>$t&&(g=$t,$t=ft,ft=g);var x=bp(E,ft),D=bp(E,$t);if(x&&D&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var L=Q.createRange();L.setStart(x.node,x.offset),q.removeAllRanges(),ft>$t?(q.addRange(L),q.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),q.addRange(L))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var G=Q[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Tc=!!md,pd=md=null}finally{Bt=h,tt.p=o,H.T=a}}e.current=n,Ve=2}}function qy(){if(Ve===2){Ve=0;var e=Nr,n=Va,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=tt.p;tt.p=2;var h=Bt;Bt|=4;try{py(e,n.alternate,n)}finally{Bt=h,tt.p=o,H.T=a}}Ve=3}}function jy(){if(Ve===4||Ve===3){Ve=0,Wl();var e=Nr,n=Va,a=Ki,o=Cy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,Va=Nr=null,Hy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Or=null),Oi(a),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=tt.p,tt.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,tt.p=h}}(Ki&3)!==0&&uc(),Ai(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ed?sl++:(sl=0,ed=e):sl=0,al(0)}}function Hy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Bo(n)))}function uc(){return By(),qy(),jy(),Fy()}function Fy(){if(Ve!==5)return!1;var e=Nr,n=Wf;Wf=0;var a=Oi(Ki),o=H.T,h=tt.p;try{tt.p=32>a?32:a,H.T=null,a=td,td=null;var f=Nr,g=Ki;if(Ve=0,Va=Nr=null,Ki=0,(Bt&6)!==0)throw Error(s(331));var E=Bt;if(Bt|=4,wy(f.current),Ay(f,f.current,g,a),Bt=E,al(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{tt.p=h,H.T=o,Hy(e,n)}}function Gy(e,n,a){n=On(a,n),n=Mf(e.stateNode,n,2),e=br(e,n,2),e!==null&&(us(e,2),Ai(e))}function Gt(e,n,a){if(e.tag===3)Gy(e,e,a);else for(;n!==null;){if(n.tag===3){Gy(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Or===null||!Or.has(o))){e=On(a,e),a=Qg(2),o=br(n,a,2),o!==null&&(Kg(a,o,n,e),us(o,2),Ai(o));break}}n=n.return}}function rd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new CA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||($f=!0,h.add(a),e=MA.bind(null,e,n,a),n.then(e,e))}function MA(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Zt===e&&(It&a)===a&&(ue===4||ue===3&&(It&62914560)===It&&300>We()-ic?(Bt&2)===0&&Ma(e,0):Zf|=a,Na===It&&(Na=0)),Ai(e)}function Qy(e,n){n===0&&(n=su()),e=Ss(e,n),e!==null&&(us(e,n),Ai(e))}function xA(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Qy(e,a)}function UA(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Qy(e,a)}function PA(e,n){return Ne(e,n)}var cc=null,Ua=null,sd=!1,hc=!1,ad=!1,Mr=0;function Ai(e){e!==Ua&&e.next===null&&(Ua===null?cc=Ua=e:Ua=Ua.next=e),hc=!0,sd||(sd=!0,kA())}function al(e,n){if(!ad&&hc){ad=!0;do for(var a=!1,o=cc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ce(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,$y(o,f))}else f=It,f=ri(o,o===Zt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Bn(o,f)||(a=!0,$y(o,f));o=o.next}while(a);ad=!1}}function LA(){Ky()}function Ky(){hc=sd=!1;var e=0;Mr!==0&&YA()&&(e=Mr);for(var n=We(),a=null,o=cc;o!==null;){var h=o.next,f=Yy(o,n);f===0?(o.next=null,a===null?cc=h:a.next=h,h===null&&(Ua=a)):(a=o,(e!==0||(f&3)!==0)&&(hc=!0)),o=h}Ve!==0&&Ve!==5||al(e),Mr!==0&&(Mr=0)}function Yy(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,R=h[g];R===-1?((E&a)===0||(E&o)!==0)&&(h[g]=xh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Zt,a=It,a=ri(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&or(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Bn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&or(o),Oi(a)){case 2:case 8:a=go;break;case 32:a=lr;break;case 268435456:a=tu;break;default:a=lr}return o=Xy.bind(null,e),a=Ne(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&or(o),e.callbackPriority=2,e.callbackNode=null,2}function Xy(e,n){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(uc()&&e.callbackNode!==a)return null;var o=It;return o=ri(e,e===Zt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Oy(e,o,n),Yy(e,We()),e.callbackNode!=null&&e.callbackNode===a?Xy.bind(null,e):null)}function $y(e,n){if(uc())return null;Oy(e,n,!0)}function kA(){$A(function(){(Bt&6)!==0?Ne(po,LA):Ky()})}function od(){if(Mr===0){var e=Ea;e===0&&(e=ni,ni<<=1,(ni&261888)===0&&(ni=256)),Mr=e}return Mr}function Zy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sa(""+e)}function Jy(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function zA(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=Zy((h[xe]||null).action),g=o.submitter;g&&(n=(n=g[xe]||null)?Zy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new pi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Mr!==0){var R=g?Jy(h,g):new FormData(h);If(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Jy(h,g):new FormData(h),If(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ld=0;ld<Hh.length;ld++){var ud=Hh[ld],BA=ud.toLowerCase(),qA=ud[0].toUpperCase()+ud.slice(1);Yn(BA,"on"+qA)}Yn(Dp,"onAnimationEnd"),Yn(Op,"onAnimationIteration"),Yn(Np,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(iA,"onTransitionRun"),Yn(rA,"onTransitionStart"),Yn(sA,"onTransitionCancel"),Yn(Vp,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function Wy(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,k=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(j){Ru(j)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,k=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(j){Ru(j)}h.currentTarget=null,f=R}}}}function Rt(e,n){var a=n[ta];a===void 0&&(a=n[ta]=new Set);var o=e+"__bubble";a.has(o)||(t_(n,e,2,!1),a.add(o))}function cd(e,n,a){var o=0;n&&(o|=4),t_(a,e,o,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function hd(e){if(!e[fc]){e[fc]=!0,vo.forEach(function(a){a!=="selectionchange"&&(jA.has(a)||cd(a,!1,e),cd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[fc]||(n[fc]=!0,cd("selectionchange",!1,n))}}function t_(e,n,a,o){switch(D_(n)){case 2:var h=gS;break;case 8:h=yS;break;default:h=Rd}a=h.bind(null,n,a,e),h=void 0,!ps||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function fd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=li(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}mr(function(){var k=f,j=Rn(a),Q=[];t:{var z=Mp.get(e);if(z!==void 0){var q=pi,st=e;switch(e){case"keypress":if(ys(a)===0)break t;case"keydown":case"keyup":q=Su;break;case"focusin":st="focus",q=vs;break;case"focusout":st="blur",q=vs;break;case"beforeblur":case"afterblur":q=vs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Dp:case Op:case Np:q=gu;break;case Vp:q=T;break;case"scroll":case"scrollend":q=No;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Mi;break;case"toggle":case"beforetoggle":q=Tt}var ft=(n&4)!==0,$t=!ft&&(e==="scroll"||e==="scrollend"),x=ft?z!==null?z+"Capture":null:z;ft=[];for(var D=k,L;D!==null;){var G=D;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||x===null||(G=Fn(D,x),G!=null&&ft.push(ll(D,G,L))),$t)break;D=D.return}0<ft.length&&(z=new q(z,st,null,a,j),Q.push({event:z,listeners:ft}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&a!==Co&&(st=a.relatedTarget||a.fromElement)&&(li(st)||st[ai]))break t;if((q||z)&&(z=j.window===j?j:(z=j.ownerDocument)?z.defaultView||z.parentWindow:window,q?(st=a.relatedTarget||a.toElement,q=k,st=st?li(st):null,st!==null&&($t=c(st),ft=st.tag,st!==$t||ft!==5&&ft!==27&&ft!==6)&&(st=null)):(q=null,st=k),q!==st)){if(ft=Vo,G="onMouseLeave",x="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Mi,G="onPointerLeave",x="onPointerEnter",D="pointer"),$t=q==null?z:dn(q),L=st==null?z:dn(st),z=new ft(G,D+"leave",q,a,j),z.target=$t,z.relatedTarget=L,G=null,li(j)===k&&(ft=new ft(x,D+"enter",st,a,j),ft.target=L,ft.relatedTarget=$t,G=ft),$t=G,q&&st)e:{for(ft=HA,x=q,D=st,L=0,G=x;G;G=ft(G))L++;G=0;for(var ut=D;ut;ut=ft(ut))G++;for(;0<L-G;)x=ft(x),L--;for(;0<G-L;)D=ft(D),G--;for(;L--;){if(x===D||D!==null&&x===D.alternate){ft=x;break e}x=ft(x),D=ft(D)}ft=null}else ft=null;q!==null&&e_(Q,z,q,ft,!1),st!==null&&$t!==null&&e_(Q,$t,st,ft,!0)}}t:{if(z=k?dn(k):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Lt=_p;else if(gp(z))if(vp)Lt=tA;else{Lt=J0;var ot=Z0}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?k&&ra(k.elementType)&&(Lt=_p):Lt=W0;if(Lt&&(Lt=Lt(e,k))){yp(Q,Lt,a,j);break t}ot&&ot(e,z,k),e==="focusout"&&k&&z.type==="number"&&k.memoizedProps.value!=null&&wo(z,"number",z.value)}switch(ot=k?dn(k):window,e){case"focusin":(gp(ot)||ot.contentEditable==="true")&&(fa=ot,Bh=k,Lo=null);break;case"focusout":Lo=Bh=fa=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,Ip(Q,a,j);break;case"selectionchange":if(nA)break;case"keydown":case"keyup":Ip(Q,a,j)}var bt;if(zt)t:{switch(e){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else ha?Es(e,a)&&(Ct="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ct="onCompositionStart");Ct&&(_i&&a.locale!=="ko"&&(ha||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&ha&&(bt=Oo()):(mi=j,Do="value"in mi?mi.value:mi.textContent,ha=!0)),ot=dc(k,Ct),0<ot.length&&(Ct=new yi(Ct,e,null,a,j),Q.push({event:Ct,listeners:ot}),bt?Ct.data=bt:(bt=ca(a),bt!==null&&(Ct.data=bt)))),(bt=Cn?K0(e,a):Y0(e,a))&&(Ct=dc(k,"onBeforeInput"),0<Ct.length&&(ot=new yi("onBeforeInput","beforeinput",null,a,j),Q.push({event:ot,listeners:Ct}),ot.data=bt)),zA(Q,e,k,a,j)}Wy(Q,n)})}function ll(e,n,a){return{instance:e,listener:n,currentTarget:a}}function dc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Fn(e,a),h!=null&&o.unshift(ll(e,h,f)),h=Fn(e,n),h!=null&&o.push(ll(e,h,f))),e.tag===3)return o;e=e.return}return[]}function HA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function e_(e,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,R=E.alternate,k=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||k===null||(R=k,h?(k=Fn(a,f),k!=null&&g.unshift(ll(a,k,R))):h||(k=Fn(a,f),k!=null&&g.push(ll(a,k,R)))),a=a.return}g.length!==0&&e.push({event:n,listeners:g})}var FA=/\r\n?/g,GA=/\u0000|\uFFFD/g;function n_(e){return(typeof e=="string"?e:""+e).replace(FA,`
`).replace(GA,"")}function i_(e,n){return n=n_(n),n_(e)===n}function Xt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,a,o);break;case"style":Io(e,o,f);break;case"data":if(n!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=sa(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Xt(e,n,"name",h.name,h,null),Xt(e,n,"formEncType",h.formEncType,h,null),Xt(e,n,"formMethod",h.formMethod,h,null),Xt(e,n,"formTarget",h.formTarget,h,null)):(Xt(e,n,"encType",h.encType,h,null),Xt(e,n,"method",h.method,h,null),Xt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=sa(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=sa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),na(e,"popover",o);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":na(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=du.get(a)||a,na(e,a,o))}}function dd(e,n,a,o,h,f){switch(a){case"style":Io(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[xe]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):na(e,a,o)}}}function Fe(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(e,n,f,g,a,null)}}h&&Xt(e,n,"srcSet",a.srcSet,a,null),o&&Xt(e,n,"src",a.src,a,null);return;case"input":Rt("invalid",e);var E=f=g=h=null,R=null,k=null;for(o in a)if(a.hasOwnProperty(o)){var j=a[o];if(j!=null)switch(o){case"name":h=j;break;case"type":g=j;break;case"checked":R=j;break;case"defaultChecked":k=j;break;case"value":f=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Xt(e,n,o,j,a,null)}}cu(e,f,E,R,k,g,h,!1);return;case"select":Rt("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Xt(e,n,h,E,a,null)}n=f,a=g,e.multiple=!!o,n!=null?cr(e,!!o,n,!1):a!=null&&cr(e,!!o,a,!0);return;case"textarea":Rt("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Xt(e,n,g,E,a,null)}hr(e,o,h,f);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(o=a[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xt(e,n,R,o,a,null)}return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<ol.length;o++)Rt(ol[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(o=a[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(e,n,k,o,a,null)}return;default:if(ra(n)){for(j in a)a.hasOwnProperty(j)&&(o=a[j],o!==void 0&&dd(e,n,j,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Xt(e,n,E,o,a,null))}function QA(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,k=null,j=null;for(q in a){var Q=a[q];if(a.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Q;default:o.hasOwnProperty(q)||Xt(e,n,q,null,o,Q)}}for(var z in o){var q=o[z];if(Q=a[z],o.hasOwnProperty(z)&&(q!=null||Q!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":k=q;break;case"defaultChecked":j=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==Q&&Xt(e,n,z,q,o,Q)}}ia(e,g,E,R,k,j,f,h);return;case"select":q=g=E=z=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||Xt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Xt(e,n,h,f,o,R)}n=E,a=g,o=q,z!=null?cr(e,!!a,z,!1):!!o!=!!a&&(n!=null?cr(e,!!a,n,!0):cr(e,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Xt(e,n,g,h,o,f)}hu(e,z,q);return;case"option":for(var st in a)if(z=a[st],a.hasOwnProperty(st)&&z!=null&&!o.hasOwnProperty(st))switch(st){case"selected":e.selected=!1;break;default:Xt(e,n,st,null,o,z)}for(R in o)if(z=o[R],q=a[R],o.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null))switch(R){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Xt(e,n,R,z,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)z=a[ft],a.hasOwnProperty(ft)&&z!=null&&!o.hasOwnProperty(ft)&&Xt(e,n,ft,null,o,z);for(k in o)if(z=o[k],q=a[k],o.hasOwnProperty(k)&&z!==q&&(z!=null||q!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:Xt(e,n,k,z,o,q)}return;default:if(ra(n)){for(var $t in a)z=a[$t],a.hasOwnProperty($t)&&z!==void 0&&!o.hasOwnProperty($t)&&dd(e,n,$t,void 0,o,z);for(j in o)z=o[j],q=a[j],!o.hasOwnProperty(j)||z===q||z===void 0&&q===void 0||dd(e,n,j,z,o,q);return}}for(var x in a)z=a[x],a.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&Xt(e,n,x,null,o,z);for(Q in o)z=o[Q],q=a[Q],!o.hasOwnProperty(Q)||z===q||z==null&&q==null||Xt(e,n,Q,z,o,q)}function r_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function KA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&r_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],k=R.startTime;if(k>E)break;var j=R.transferSize,Q=R.initiatorType;j&&r_(Q)&&(R=R.responseEnd,g+=j*(R<E?1:(E-k)/(R-k)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var md=null,pd=null;function mc(e){return e.nodeType===9?e:e.ownerDocument}function s_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function gd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yd=null;function YA(){var e=window.event;return e&&e.type==="popstate"?e===yd?!1:(yd=e,!0):(yd=null,!1)}var o_=typeof setTimeout=="function"?setTimeout:void 0,XA=typeof clearTimeout=="function"?clearTimeout:void 0,l_=typeof Promise=="function"?Promise:void 0,$A=typeof queueMicrotask=="function"?queueMicrotask:typeof l_<"u"?function(e){return l_.resolve(null).then(e).catch(ZA)}:o_;function ZA(e){setTimeout(function(){throw e})}function xr(e){return e==="head"}function u_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),za(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")ul(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ul(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[oi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&ul(e.ownerDocument.body);a=h}while(a);za(n)}function c_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function _d(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_d(a),ea(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function JA(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[oi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function WA(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Un(e.nextSibling),e===null))return null;return e}function h_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Un(e.nextSibling),e===null))return null;return e}function vd(e){return e.data==="$?"||e.data==="$~"}function Ed(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function tS(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Un(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Td=null;function f_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Un(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function d_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function m_(e,n,a){switch(n=mc(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ul(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ea(e)}var Pn=new Map,p_=new Set;function pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=tt.d;tt.d={f:eS,r:nS,D:iS,C:rS,L:sS,m:aS,X:lS,S:oS,M:uS};function eS(){var e=Yi.f(),n=ac();return e||n}function nS(e){var n=wn(e);n!==null&&n.tag===5&&n.type==="form"?Vg(n):Yi.r(e)}var Pa=typeof document>"u"?null:document;function g_(e,n,a){var o=Pa;if(o&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),p_.has(h)||(p_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fe(n,"link",e),_e(n),o.head.appendChild(n)))}}function iS(e){Yi.D(e),g_("dns-prefetch",e,null)}function rS(e,n){Yi.C(e,n),g_("preconnect",e,n)}function sS(e,n,a){Yi.L(e,n,a);var o=Pa;if(o&&e&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(n){case"style":f=La(e);break;case"script":f=ka(e)}Pn.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Pn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(cl(f))||n==="script"&&o.querySelector(hl(f))||(n=o.createElement("link"),Fe(n,"link",e),_e(n),o.head.appendChild(n)))}}function aS(e,n){Yi.m(e,n);var a=Pa;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ka(e)}if(!Pn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Pn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(hl(f)))return}o=a.createElement("link"),Fe(o,"link",e),_e(o),a.head.appendChild(o)}}}function oS(e,n,a){Yi.S(e,n,a);var o=Pa;if(o&&e){var h=ui(o).hoistableStyles,f=La(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(cl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Pn.get(f))&&Ad(e,a);var R=g=o.createElement("link");_e(R),Fe(R,"link",e),R._p=new Promise(function(k,j){R.onload=k,R.onerror=j}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,gc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function lS(e,n){Yi.X(e,n);var a=Pa;if(a&&e){var o=ui(a).hoistableScripts,h=ka(e),f=o.get(h);f||(f=a.querySelector(hl(h)),f||(e=S({src:e,async:!0},n),(n=Pn.get(h))&&Sd(e,n),f=a.createElement("script"),_e(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function uS(e,n){Yi.M(e,n);var a=Pa;if(a&&e){var o=ui(a).hoistableScripts,h=ka(e),f=o.get(h);f||(f=a.querySelector(hl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Pn.get(h))&&Sd(e,n),f=a.createElement("script"),_e(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function y_(e,n,a,o){var h=(h=St.current)?pc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=La(a.href),a=ui(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=La(a.href);var f=ui(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(cl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Pn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(e,a),f||cS(h,e,a,g.state))),n&&o===null)throw Error(s(528,""));return g}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ka(a),a=ui(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function La(e){return'href="'+rn(e)+'"'}function cl(e){return'link[rel="stylesheet"]['+e+"]"}function __(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function cS(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",a),_e(n),e.head.appendChild(n))}function ka(e){return'[src="'+rn(e)+'"]'}function hl(e){return"script[async]"+e}function v_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return n.instance=o,_e(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_e(o),Fe(o,"style",h),gc(o,a.precedence,e),n.instance=o;case"stylesheet":h=La(a.href);var f=e.querySelector(cl(h));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;o=__(a),(h=Pn.get(h))&&Ad(o,h),f=(e.ownerDocument||e).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Fe(f,"link",o),n.state.loading|=4,gc(f,a.precedence,e),n.instance=f;case"script":return f=ka(a.src),(h=e.querySelector(hl(f)))?(n.instance=h,_e(h),h):(o=a,(h=Pn.get(f))&&(o=S({},a),Sd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),_e(h),Fe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,gc(o,a.precedence,e));return n.instance}function gc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var yc=null;function E_(e,n,a){if(yc===null){var o=new Map,h=yc=new Map;h.set(a,o)}else h=yc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[oi]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function T_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function hS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function A_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function fS(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=La(o.href),f=n.querySelector(cl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=_c.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,_e(f);return}f=n.ownerDocument||n,o=__(o),(h=Pn.get(h))&&Ad(o,h),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Fe(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=_c.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var bd=0;function dS(e,n){return e.stylesheets&&e.count===0&&Ec(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&bd===0&&(bd=62500*KA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>bd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vc=null;function Ec(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vc=new Map,n.forEach(mS,e),vc=null,_c.call(e))}function mS(e,n){if(!(n.state.loading&4)){var a=vc.get(e);if(a)var o=a.get(null);else{a=new Map,vc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=_c.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var fl={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function pS(e,n,a,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function S_(e,n,a,o,h,f,g,E,R,k,j,Q){return e=new pS(e,n,a,g,R,k,j,Q,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=nf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},of(f),e}function b_(e){return e?(e=pa,e):pa}function w_(e,n,a,o,h,f){h=b_(h),o.context===null?o.context=h:o.pendingContext=h,o=Sr(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=br(e,o,n),a!==null&&(cn(a,e,n),Fo(a,e,n))}function R_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function wd(e,n){R_(e,n),(e=e.alternate)&&R_(e,n)}function I_(e){if(e.tag===13||e.tag===31){var n=Ss(e,67108864);n!==null&&cn(n,e,67108864),wd(e,67108864)}}function C_(e){if(e.tag===13||e.tag===31){var n=Tn();n=hs(n);var a=Ss(e,n);a!==null&&cn(a,e,n),wd(e,n)}}var Tc=!0;function gS(e,n,a,o){var h=H.T;H.T=null;var f=tt.p;try{tt.p=2,Rd(e,n,a,o)}finally{tt.p=f,H.T=h}}function yS(e,n,a,o){var h=H.T;H.T=null;var f=tt.p;try{tt.p=8,Rd(e,n,a,o)}finally{tt.p=f,H.T=h}}function Rd(e,n,a,o){if(Tc){var h=Id(o);if(h===null)fd(e,n,o,Ac,a),O_(e,o);else if(vS(h,e,n,a,o))o.stopPropagation();else if(O_(e,o),n&4&&-1<_S.indexOf(e)){for(;h!==null;){var f=wn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ii(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-ce(g);E.entanglements[1]|=R,g&=~R}Ai(f),(Bt&6)===0&&(rc=We()+500,al(0))}}break;case 31:case 13:E=Ss(f,2),E!==null&&cn(E,f,2),ac(),wd(f,2)}if(f=Id(o),f===null&&fd(e,n,o,Ac,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else fd(e,n,o,null,a)}}function Id(e){return e=Rn(e),Cd(e)}var Ac=null;function Cd(e){if(Ac=null,e=li(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ac=e,null}function D_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(os()){case po:return 2;case go:return 8;case lr:case Mh:return 32;case tu:return 268435456;default:return 32}default:return 32}}var Dd=!1,Ur=null,Pr=null,Lr=null,dl=new Map,ml=new Map,kr=[],_S="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O_(e,n){switch(e){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(n.pointerId)}}function pl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=wn(n),n!==null&&I_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function vS(e,n,a,o,h){switch(n){case"focusin":return Ur=pl(Ur,e,n,a,o,h),!0;case"dragenter":return Pr=pl(Pr,e,n,a,o,h),!0;case"mouseover":return Lr=pl(Lr,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return dl.set(f,pl(dl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ml.set(f,pl(ml.get(f)||null,e,n,a,o,h)),!0}return!1}function N_(e){var n=li(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,qn(e.priority,function(){C_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,qn(e.priority,function(){C_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Id(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Co=o,a.target.dispatchEvent(o),Co=null}else return n=wn(a),n!==null&&I_(n),e.blockedOn=a,!1;n.shift()}return!0}function V_(e,n,a){Sc(e)&&a.delete(n)}function ES(){Dd=!1,Ur!==null&&Sc(Ur)&&(Ur=null),Pr!==null&&Sc(Pr)&&(Pr=null),Lr!==null&&Sc(Lr)&&(Lr=null),dl.forEach(V_),ml.forEach(V_)}function bc(e,n){e.blockedOn===n&&(e.blockedOn=null,Dd||(Dd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ES)))}var wc=null;function M_(e){wc!==e&&(wc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wc===e&&(wc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Cd(o||a)===null)continue;break}var f=wn(a);f!==null&&(e.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function za(e){function n(R){return bc(R,e)}Ur!==null&&bc(Ur,e),Pr!==null&&bc(Pr,e),Lr!==null&&bc(Lr,e),dl.forEach(n),ml.forEach(n);for(var a=0;a<kr.length;a++){var o=kr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<kr.length&&(a=kr[0],a.blockedOn===null);)N_(a),a.blockedOn===null&&kr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[xe]||null;if(typeof f=="function")g||M_(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[xe]||null)E=g.formAction;else if(Cd(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),M_(a)}}}function x_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Od(e){this._internalRoot=e}Rc.prototype.render=Od.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=Tn();w_(a,o,e,n,null,null)},Rc.prototype.unmount=Od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;w_(e.current,2,null,e,null,null),ac(),n[ai]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var n=au();e={blockedOn:null,target:e,priority:n};for(var a=0;a<kr.length&&n!==0&&n<kr[a].priority;a++);kr.splice(a,0,e),a===0&&N_(e)}};var U_=t.version;if(U_!=="19.2.0")throw Error(s(527,U_,"19.2.0"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var TS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{zn=Ic.inject(TS),ze=Ic}catch{}}return yl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",h=jg,f=Hg,g=Fg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=S_(e,1,!1,null,null,a,o,null,h,f,g,x_),e[ai]=n.current,hd(e),new Od(n)},yl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=jg,g=Hg,E=Fg,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=S_(e,1,!0,n,a??null,o,h,R,f,g,E,x_),n.context=b_(null),a=n.current,o=Tn(),o=hs(o),h=Sr(o),h.callback=null,br(a,h,o),a=o,n.current.lanes=a,us(n,a),Ai(n),e[ai]=n.current,hd(e),new Rc(n)},yl.version="19.2.0",yl}var G_;function VS(){if(G_)return Md.exports;G_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Md.exports=NS(),Md.exports}var MS=VS();const xS=wE(MS),we={inputContainer:{display:"flex",gap:"10px",marginBottom:"20px"},input:{flex:1,padding:"10px",borderRadius:"5px",border:"1px solid #ccc"},addButton:{padding:"10px 15px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},filterContainer:{display:"flex",justifyContent:"center",gap:"10px",marginBottom:"20px"},filterButton:{padding:"8px 12px",borderRadius:"5px",border:"none",cursor:"pointer",color:"white"},list:{listStyle:"none",padding:0},listItem:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",backgroundColor:"#fff",borderRadius:"5px",marginBottom:"10px"},text:{cursor:"pointer",flex:1,textAlign:"left"},timestamp:{fontSize:"10px",color:"gray"},actions:{display:"flex",gap:"5px"},editButton:{backgroundColor:"#ffa500",color:"white",border:"none",borderRadius:"5px",padding:"5px 8px",cursor:"pointer"},deleteButton:{backgroundColor:"#ff4d4f",color:"white",border:"none",borderRadius:"5px",padding:"5px 8px",cursor:"pointer"},editInput:{flex:1,padding:"8px",borderRadius:"5px",border:"1px solid #ccc"},saveButton:{padding:"8px 12px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},searchContainer:{marginBottom:"20px"},searchInput:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ccc"}};function US({onAdd:r}){const[t,i]=nn.useState(""),s=()=>{r(t),i("")};return lt.jsxs("div",{style:we.inputContainer,children:[lt.jsx("input",{type:"text",placeholder:"Add a new task...",value:t,onChange:l=>i(l.target.value),style:we.input}),lt.jsx("button",{onClick:s,style:we.addButton,children:"Add"})]})}function PS({todo:r,onToggle:t,onDelete:i,onEdit:s}){const[l,c]=nn.useState(!1),[d,p]=nn.useState(r.text),y=()=>{const _=d.trim();_&&_!==r.text&&s(_),c(!1)};return lt.jsxs("li",{style:we.listItem,children:[l?lt.jsxs("div",{style:we.editContainer,children:[lt.jsx("input",{value:d,onChange:_=>p(_.target.value),style:we.editInput,placeholder:"Edit your todo...",autoFocus:!0}),lt.jsx("button",{onClick:y,style:we.saveButton,children:"Save"}),lt.jsx("button",{onClick:()=>c(!1),style:we.cancelButton,children:"Cancel"})]}):lt.jsxs("div",{style:we.todoContainer,children:[lt.jsx("span",{onClick:t,style:{...we.text,textDecoration:r.completed?"line-through":"none",color:r.completed?"gray":"black",cursor:"pointer"},children:r.text}),lt.jsxs("div",{style:we.actions,children:[lt.jsx("button",{onClick:()=>c(!0),style:we.editButton,children:""}),lt.jsx("button",{onClick:i,style:we.deleteButton,children:""})]})]}),r.createdAt&&lt.jsx("div",{style:we.timestamp,children:new Date(r.createdAt).toLocaleString()})]})}function LS({todos:r,onToggle:t,onDelete:i,onEdit:s}){return!r||r.length===0?lt.jsx("p",{style:we.emptyState,children:"No tasks yet  add one above "}):lt.jsx("ul",{style:we.list,children:r.map(l=>lt.jsx(PS,{todo:l,onToggle:()=>t(l.id,l.completed),onDelete:()=>i(l.id),onEdit:c=>s(l.id,c)},l.id))})}function kS({filter:r,setFilter:t}){return lt.jsx("div",{style:we.filterContainer,children:["all","completed","pending"].map(i=>lt.jsx("button",{onClick:()=>t(i),style:{...we.filterButton,backgroundColor:r===i?"#007BFF":"#ccc"},children:i.charAt(0).toUpperCase()+i.slice(1)},i))})}function zS({searchTerm:r,setSearchTerm:t}){return lt.jsx("div",{style:we.searchContainer,children:lt.jsx("input",{type:"text",placeholder:"Search tasks...",value:r,onChange:i=>t(i.target.value),style:we.searchInput})})}const BS=()=>{};var Q_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},qS=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},IE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let V=(p&15)<<2|_>>6,F=_&63;y||(F=64,d||(V=64)),s.push(i[A],i[S],i[V],i[F])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(RE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):qS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||S==null)throw new jS;const V=c<<2|p>>4;if(s.push(V),_!==64){const F=p<<4&240|_>>2;if(s.push(F),S!==64){const $=_<<6&192|S;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class jS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HS=function(r){const t=RE(r);return IE.encodeByteArray(t,!0)},Gc=function(r){return HS(r).replace(/\./g,"")},CE=function(r){try{return IE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=()=>FS().__FIREBASE_DEFAULTS__,QS=()=>{if(typeof process>"u"||typeof Q_>"u")return;const r=Q_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},KS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&CE(r[1]);return t&&JSON.parse(t)},fh=()=>{try{return BS()||GS()||QS()||KS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},DE=r=>fh()?.emulatorHosts?.[r],YS=r=>{const t=DE(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},OE=()=>fh()?.config,NE=r=>fh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const wl={};function ZS(){const r={prod:[],emulator:[]};for(const t of Object.keys(wl))wl[t]?r.emulator.push(t):r.prod.push(t);return r}function JS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let K_=!1;function ME(r,t){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||wl[r]===t||wl[r]||K_)return;wl[r]=t;function i(V){return`__firebase__banner__${V}`}const s="__firebase__banner",c=ZS().prod.length>0;function d(){const V=document.getElementById(s);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,F){V.setAttribute("width","24"),V.setAttribute("id",F),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{K_=!0,d()},V}function A(V,F){V.setAttribute("id",F),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function S(){const V=JS(s),F=i("text"),$=document.getElementById(F)||document.createElement("span"),J=i("learnmore"),Z=document.getElementById(J)||document.createElement("a"),at=i("preprendIcon"),yt=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const dt=V.element;p(dt),A(Z,J);const Qt=_();y(yt,at),dt.append(yt,$,Z,Qt),document.body.appendChild(dt)}c?($.innerText="Preview backend disconnected.",yt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(yt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function t1(){const r=fh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function n1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function i1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r1(){const r=Je();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function s1(){return!t1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function a1(){try{return typeof indexedDB=="object"}catch{return!1}}function o1(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="FirebaseError";class ir extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=l1,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?u1(c,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ir(l,p,s)}}function u1(r,t){return r.replace(c1,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const c1=/\{\$([^}]+)}/g;function h1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function qs(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(Y_(c)&&Y_(d)){if(!qs(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function Y_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(r){const t=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function vl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function El(r){const t=r.indexOf("?");if(!t)return"";const i=r.indexOf("#",t);return r.substring(t,i>0?i:void 0)}function f1(r,t){const i=new d1(r,t);return i.subscribe.bind(i)}class d1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");m1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=Ld),l.error===void 0&&(l.error=Ld),l.complete===void 0&&(l.complete=Ld);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function m1(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ld(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(r){return r&&r._delegate?r._delegate:r}class js{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new XS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(y1(t))try{this.getOrInitializeService({instanceIdentifier:Ps})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Ps){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ps){return this.instances.has(t)}getOptions(t=Ps){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:g1(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ps){return this.component?this.component.multipleInstances?t:Ps:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function g1(r){return r===Ps?void 0:r}function y1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new p1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Dt||(Dt={}));const v1={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},E1=Dt.INFO,T1={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},A1=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=T1[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Am{constructor(t){this.name=t,this._logLevel=E1,this._logHandler=A1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?v1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const S1=(r,t)=>t.some(i=>r instanceof i);let X_,$_;function b1(){return X_||(X_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w1(){return $_||($_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xE=new WeakMap,Xd=new WeakMap,UE=new WeakMap,kd=new WeakMap,Sm=new WeakMap;function R1(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Gr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&xE.set(i,r)}).catch(()=>{}),Sm.set(t,r),t}function I1(r){if(Xd.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Xd.set(r,t)}let $d={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Xd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||UE.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Gr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function C1(r){$d=r($d)}function D1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(zd(this),t,...i);return UE.set(s,t.sort?t.sort():[t]),Gr(s)}:w1().includes(r)?function(...t){return r.apply(zd(this),t),Gr(xE.get(this))}:function(...t){return Gr(r.apply(zd(this),t))}}function O1(r){return typeof r=="function"?D1(r):(r instanceof IDBTransaction&&I1(r),S1(r,b1())?new Proxy(r,$d):r)}function Gr(r){if(r instanceof IDBRequest)return R1(r);if(kd.has(r))return kd.get(r);const t=O1(r);return t!==r&&(kd.set(r,t),Sm.set(t,r)),t}const zd=r=>Sm.get(r);function N1(r,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Gr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Gr(d.result),y.oldVersion,y.newVersion,Gr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const V1=["get","getKey","getAll","getAllKeys","count"],M1=["put","add","delete","clear"],Bd=new Map;function Z_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Bd.get(t))return Bd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=M1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||V1.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Bd.set(t,c),c}C1(r=>({...r,get:(t,i,s)=>Z_(t,i)||r.get(t,i,s),has:(t,i)=>!!Z_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(U1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function U1(r){return r.getComponent()?.type==="VERSION"}const Zd="@firebase/app",J_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new Am("@firebase/app"),P1="@firebase/app-compat",L1="@firebase/analytics-compat",k1="@firebase/analytics",z1="@firebase/app-check-compat",B1="@firebase/app-check",q1="@firebase/auth",j1="@firebase/auth-compat",H1="@firebase/database",F1="@firebase/data-connect",G1="@firebase/database-compat",Q1="@firebase/functions",K1="@firebase/functions-compat",Y1="@firebase/installations",X1="@firebase/installations-compat",$1="@firebase/messaging",Z1="@firebase/messaging-compat",J1="@firebase/performance",W1="@firebase/performance-compat",tb="@firebase/remote-config",eb="@firebase/remote-config-compat",nb="@firebase/storage",ib="@firebase/storage-compat",rb="@firebase/firestore",sb="@firebase/ai",ab="@firebase/firestore-compat",ob="firebase",lb="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="[DEFAULT]",ub={[Zd]:"fire-core",[P1]:"fire-core-compat",[k1]:"fire-analytics",[L1]:"fire-analytics-compat",[B1]:"fire-app-check",[z1]:"fire-app-check-compat",[q1]:"fire-auth",[j1]:"fire-auth-compat",[H1]:"fire-rtdb",[F1]:"fire-data-connect",[G1]:"fire-rtdb-compat",[Q1]:"fire-fn",[K1]:"fire-fn-compat",[Y1]:"fire-iid",[X1]:"fire-iid-compat",[$1]:"fire-fcm",[Z1]:"fire-fcm-compat",[J1]:"fire-perf",[W1]:"fire-perf-compat",[tb]:"fire-rc",[eb]:"fire-rc-compat",[nb]:"fire-gcs",[ib]:"fire-gcs-compat",[rb]:"fire-fst",[ab]:"fire-fst-compat",[sb]:"fire-vertex","fire-js":"fire-js",[ob]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=new Map,cb=new Map,Wd=new Map;function W_(r,t){try{r.container.addComponent(t)}catch(i){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Xa(r){const t=r.name;if(Wd.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;Wd.set(t,r);for(const i of Qc.values())W_(i,r);for(const i of cb.values())W_(i,r);return!0}function bm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function An(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new Bl("app","Firebase",hb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=lb;function PE(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s={name:Jd,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Qr.create("bad-app-name",{appName:String(l)});if(i||(i=OE()),!i)throw Qr.create("no-options");const c=Qc.get(l);if(c){if(qs(i,c.options)&&qs(s,c.config))return c;throw Qr.create("duplicate-app",{appName:l})}const d=new _1(l);for(const y of Wd.values())d.addComponent(y);const p=new fb(i,s,d);return Qc.set(l,p),p}function LE(r=Jd){const t=Qc.get(r);if(!t&&r===Jd&&OE())return PE();if(!t)throw Qr.create("no-app",{appName:r});return t}function Kr(r,t,i){let s=ub[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}Xa(new js(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="firebase-heartbeat-database",mb=1,Nl="firebase-heartbeat-store";let qd=null;function kE(){return qd||(qd=N1(db,mb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Nl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Qr.create("idb-open",{originalErrorMessage:r.message})})),qd}async function pb(r){try{const i=(await kE()).transaction(Nl),s=await i.objectStore(Nl).get(zE(r));return await i.done,s}catch(t){if(t instanceof ir)Wi.warn(t.message);else{const i=Qr.create("idb-get",{originalErrorMessage:t?.message});Wi.warn(i.message)}}}async function tv(r,t){try{const s=(await kE()).transaction(Nl,"readwrite");await s.objectStore(Nl).put(t,zE(r)),await s.done}catch(i){if(i instanceof ir)Wi.warn(i.message);else{const s=Qr.create("idb-set",{originalErrorMessage:i?.message});Wi.warn(s.message)}}}function zE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=1024,yb=30;class _b{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Eb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ev();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>yb){const l=Tb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Wi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ev(),{heartbeatsToSend:i,unsentEntries:s}=vb(this._heartbeatsCache.heartbeats),l=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Wi.warn(t),""}}}function ev(){return new Date().toISOString().substring(0,10)}function vb(r,t=gb){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),nv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),nv(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Eb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return a1()?o1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await pb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return tv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return tv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function nv(r){return Gc(JSON.stringify({version:2,heartbeats:r})).length}function Tb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(r){Xa(new js("platform-logger",t=>new x1(t),"PRIVATE")),Xa(new js("heartbeat",t=>new _b(t),"PRIVATE")),Kr(Zd,J_,r),Kr(Zd,J_,"esm2020"),Kr("fire-js","")}Ab("");var Sb="firebase",bb="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(Sb,bb,"app");var iv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yr,BE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,O,U){for(var w=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)w[ie-2]=arguments[ie];return b.prototype[O].apply(M,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,I){I||(I=0);const M=Array(16);if(typeof b=="string")for(var O=0;O<16;++O)M[O]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(O=0;O<16;++O)M[O]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],O=C.g[2];let U=C.g[3],w;w=b+(U^I&(O^U))+M[0]+3614090360&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(O^b&(I^O))+M[1]+3905402710&4294967295,U=b+(w<<12&4294967295|w>>>20),w=O+(I^U&(b^I))+M[2]+606105819&4294967295,O=U+(w<<17&4294967295|w>>>15),w=I+(b^O&(U^b))+M[3]+3250441966&4294967295,I=O+(w<<22&4294967295|w>>>10),w=b+(U^I&(O^U))+M[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(O^b&(I^O))+M[5]+1200080426&4294967295,U=b+(w<<12&4294967295|w>>>20),w=O+(I^U&(b^I))+M[6]+2821735955&4294967295,O=U+(w<<17&4294967295|w>>>15),w=I+(b^O&(U^b))+M[7]+4249261313&4294967295,I=O+(w<<22&4294967295|w>>>10),w=b+(U^I&(O^U))+M[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(O^b&(I^O))+M[9]+2336552879&4294967295,U=b+(w<<12&4294967295|w>>>20),w=O+(I^U&(b^I))+M[10]+4294925233&4294967295,O=U+(w<<17&4294967295|w>>>15),w=I+(b^O&(U^b))+M[11]+2304563134&4294967295,I=O+(w<<22&4294967295|w>>>10),w=b+(U^I&(O^U))+M[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(O^b&(I^O))+M[13]+4254626195&4294967295,U=b+(w<<12&4294967295|w>>>20),w=O+(I^U&(b^I))+M[14]+2792965006&4294967295,O=U+(w<<17&4294967295|w>>>15),w=I+(b^O&(U^b))+M[15]+1236535329&4294967295,I=O+(w<<22&4294967295|w>>>10),w=b+(O^U&(I^O))+M[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^O&(b^I))+M[6]+3225465664&4294967295,U=b+(w<<9&4294967295|w>>>23),w=O+(b^I&(U^b))+M[11]+643717713&4294967295,O=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(O^U))+M[0]+3921069994&4294967295,I=O+(w<<20&4294967295|w>>>12),w=b+(O^U&(I^O))+M[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^O&(b^I))+M[10]+38016083&4294967295,U=b+(w<<9&4294967295|w>>>23),w=O+(b^I&(U^b))+M[15]+3634488961&4294967295,O=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(O^U))+M[4]+3889429448&4294967295,I=O+(w<<20&4294967295|w>>>12),w=b+(O^U&(I^O))+M[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^O&(b^I))+M[14]+3275163606&4294967295,U=b+(w<<9&4294967295|w>>>23),w=O+(b^I&(U^b))+M[3]+4107603335&4294967295,O=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(O^U))+M[8]+1163531501&4294967295,I=O+(w<<20&4294967295|w>>>12),w=b+(O^U&(I^O))+M[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^O&(b^I))+M[2]+4243563512&4294967295,U=b+(w<<9&4294967295|w>>>23),w=O+(b^I&(U^b))+M[7]+1735328473&4294967295,O=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(O^U))+M[12]+2368359562&4294967295,I=O+(w<<20&4294967295|w>>>12),w=b+(I^O^U)+M[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^O)+M[8]+2272392833&4294967295,U=b+(w<<11&4294967295|w>>>21),w=O+(U^b^I)+M[11]+1839030562&4294967295,O=U+(w<<16&4294967295|w>>>16),w=I+(O^U^b)+M[14]+4259657740&4294967295,I=O+(w<<23&4294967295|w>>>9),w=b+(I^O^U)+M[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^O)+M[4]+1272893353&4294967295,U=b+(w<<11&4294967295|w>>>21),w=O+(U^b^I)+M[7]+4139469664&4294967295,O=U+(w<<16&4294967295|w>>>16),w=I+(O^U^b)+M[10]+3200236656&4294967295,I=O+(w<<23&4294967295|w>>>9),w=b+(I^O^U)+M[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^O)+M[0]+3936430074&4294967295,U=b+(w<<11&4294967295|w>>>21),w=O+(U^b^I)+M[3]+3572445317&4294967295,O=U+(w<<16&4294967295|w>>>16),w=I+(O^U^b)+M[6]+76029189&4294967295,I=O+(w<<23&4294967295|w>>>9),w=b+(I^O^U)+M[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^O)+M[12]+3873151461&4294967295,U=b+(w<<11&4294967295|w>>>21),w=O+(U^b^I)+M[15]+530742520&4294967295,O=U+(w<<16&4294967295|w>>>16),w=I+(O^U^b)+M[2]+3299628645&4294967295,I=O+(w<<23&4294967295|w>>>9),w=b+(O^(I|~U))+M[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~O))+M[7]+1126891415&4294967295,U=b+(w<<10&4294967295|w>>>22),w=O+(b^(U|~I))+M[14]+2878612391&4294967295,O=U+(w<<15&4294967295|w>>>17),w=I+(U^(O|~b))+M[5]+4237533241&4294967295,I=O+(w<<21&4294967295|w>>>11),w=b+(O^(I|~U))+M[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~O))+M[3]+2399980690&4294967295,U=b+(w<<10&4294967295|w>>>22),w=O+(b^(U|~I))+M[10]+4293915773&4294967295,O=U+(w<<15&4294967295|w>>>17),w=I+(U^(O|~b))+M[1]+2240044497&4294967295,I=O+(w<<21&4294967295|w>>>11),w=b+(O^(I|~U))+M[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~O))+M[15]+4264355552&4294967295,U=b+(w<<10&4294967295|w>>>22),w=O+(b^(U|~I))+M[6]+2734768916&4294967295,O=U+(w<<15&4294967295|w>>>17),w=I+(U^(O|~b))+M[13]+1309151649&4294967295,I=O+(w<<21&4294967295|w>>>11),w=b+(O^(I|~U))+M[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~O))+M[11]+3174756917&4294967295,U=b+(w<<10&4294967295|w>>>22),w=O+(b^(U|~I))+M[2]+718787259&4294967295,O=U+(w<<15&4294967295|w>>>17),w=I+(U^(O|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+U&4294967295}s.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,M=this.C;let O=this.h,U=0;for(;U<b;){if(O==0)for(;U<=I;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<b;)if(M[O++]=C.charCodeAt(U++),O==this.blockSize){l(this,M),O=0;break}}else for(;U<b;)if(M[O++]=C[U++],O==this.blockSize){l(this,M),O=0;break}}this.h=O,this.o+=b},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[b++]=this.g[I]>>>M&255;return C};function c(C,b){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;const I=[];let M=!0;for(let O=C.length-1;O>=0;O--){const U=C[O]|0;M&&U==b||(I[O]=U,M=!1)}this.g=I}var p={};function y(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return Z(_(-C));const b=[];let I=1;for(let M=0;C>=I;M++)b[M]=C/I|0,I*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return Z(A(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(b,8));let M=S;for(let U=0;U<C.length;U+=8){var O=Math.min(8,C.length-U);const w=parseInt(C.substring(U,U+O),b);O<8?(O=_(Math.pow(b,O)),M=M.j(O).add(_(w))):(M=M.j(I),M=M.add(_(w)))}return M}var S=y(0),V=y(1),F=y(16777216);r=d.prototype,r.m=function(){if(J(this))return-Z(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if($(this))return"0";if(J(this))return"-"+Z(this).toString(C);const b=_(Math.pow(C,6));var I=this;let M="";for(;;){const O=Qt(I,b).g;I=at(I,O.j(b));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=O,$(I))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function $(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function J(C){return C.h==-1}r.l=function(C){return C=at(this,C),J(C)?-1:$(C)?0:1};function Z(C){const b=C.g.length,I=[];for(let M=0;M<b;M++)I[M]=~C.g[M];return new d(I,~C.h).add(V)}r.abs=function(){return J(this)?Z(this):this},r.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let O=0;O<=b;O++){let U=M+(this.i(O)&65535)+(C.i(O)&65535),w=(U>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);M=w>>>16,U&=65535,w&=65535,I[O]=w<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function at(C,b){return C.add(Z(b))}r.j=function(C){if($(this)||$(C))return S;if(J(this))return J(C)?Z(this).j(Z(C)):Z(Z(this).j(C));if(J(C))return Z(this.j(Z(C)));if(this.l(F)<0&&C.l(F)<0)return _(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var M=0;M<2*b;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<C.g.length;O++){const U=this.i(M)>>>16,w=this.i(M)&65535,ie=C.i(O)>>>16,De=C.i(O)&65535;I[2*M+2*O]+=w*De,yt(I,2*M+2*O),I[2*M+2*O+1]+=U*De,yt(I,2*M+2*O+1),I[2*M+2*O+1]+=w*ie,yt(I,2*M+2*O+1),I[2*M+2*O+2]+=U*ie,yt(I,2*M+2*O+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new d(I,0)};function yt(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function dt(C,b){this.g=C,this.h=b}function Qt(C,b){if($(b))throw Error("division by zero");if($(C))return new dt(S,S);if(J(C))return b=Qt(Z(C),b),new dt(Z(b.g),Z(b.h));if(J(b))return b=Qt(C,Z(b)),new dt(Z(b.g),b.h);if(C.g.length>30){if(J(C)||J(b))throw Error("slowDivide_ only works with positive integers.");for(var I=V,M=b;M.l(C)<=0;)I=Wt(I),M=Wt(M);var O=Ut(I,1),U=Ut(M,1);for(M=Ut(M,2),I=Ut(I,2);!$(M);){var w=U.add(M);w.l(C)<=0&&(O=O.add(I),U=w),M=Ut(M,1),I=Ut(I,1)}return b=at(C,O.j(b)),new dt(O,b)}for(O=S;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=_(I),w=U.j(b);J(w)||w.l(C)>0;)I-=M,U=_(I),w=U.j(b);$(U)&&(U=V),O=O.add(U),C=at(C,w)}return new dt(O,C)}r.B=function(C){return Qt(this,C).h},r.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},r.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},r.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function Wt(C){const b=C.g.length+1,I=[];for(let M=0;M<b;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function Ut(C,b){const I=b>>5;b%=32;const M=C.g.length-I,O=[];for(let U=0;U<M;U++)O[U]=b>0?C.i(U+I)>>>b|C.i(U+I+1)<<32-b:C.i(U+I);return new d(O,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,BE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Yr=d}).apply(typeof iv<"u"?iv:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qE,Tl,jE,xc,tm,HE,FE,GE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var v=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break t;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,B){for(var W=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)W[Tt-2]=arguments[Tt];return m.prototype[P].apply(T,W)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function $(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const B=P.length||0;u.length=v+B;for(let W=0;W<B;W++)u[v+W]=P[W]}else u.push(P)}}class J{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function at(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class yt{constructor(){this.h=this.g=null}add(m,v){const T=dt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new J(()=>new Qt,u=>u.reset());class Qt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,Ut=!1,C=new yt,b=()=>{const u=Promise.resolve(void 0);Wt=()=>{u.then(I)}};function I(){for(var u;u=at();){try{u.h.call(u.g)}catch(v){Z(v)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ut=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ie,O),ie.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),H=0;function tt(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++H,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function jt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function N(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,P){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=St(u,m,T,P);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new tt(m,this.src,B,!!T,P),m.fa=v,u.push(m)),m};function gt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),B;(B=P>=0)&&Array.prototype.splice.call(T,P,1),B&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,T){for(let P=0;P<u.length;++P){const B=u[P];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return P}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),Oe={};function re(u,m,v,T,P){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],v,T,P);return null}return v=mo(v),u&&u[De]?u.J(m,v,p(T)?!!T.capture:!1,P):ss(u,m,v,!1,T,P)}function ss(u,m,v,T,P,B){if(!m)throw Error("Invalid event type");const W=p(P)?!!P.capture:!!P;let Tt=as(u);if(Tt||(u[Mt]=Tt=new rt(u)),v=Tt.add(m,v,T,W,B),v.proxy)return v;if(T=$s(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(P=W),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(ei(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function $s(){function u(v){return m.call(u.src,u.listener,v)}const m=ho;return u}function Zs(u,m,v,T,P){if(Array.isArray(m))for(var B=0;B<m.length;B++)Zs(u,m[B],v,T,P);else T=p(T)?!!T.capture:!!T,v=mo(v),u&&u[De]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=St(m,v,T,P),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=as(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,T,P)),(v=u>-1?m[u]:null)&&Js(v))}function Js(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[De])gt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(ei(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=as(m))?(gt(v,u),v.h==0&&(v.src=null,m[Mt]=null)):ht(u)}}}function ei(u){return u in Oe?Oe[u]:Oe[u]="on"+u}function ho(u,m){if(u.da)u=!0;else{m=new ie(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Js(u),u=v.call(T,m)}return u}function as(u){return u=u[Mt],u instanceof rt?u:null}var fo="__closure_events_fn_"+(Math.random()*1e9>>>0);function mo(u){return typeof u=="function"?u:(u[fo]||(u[fo]=function(m){return u.handleEvent(m)}),u[fo])}function pe(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}S(pe,M),pe.prototype[De]=!0,pe.prototype.removeEventListener=function(u,m,v,T){Zs(this,u,m,v,T)};function Ne(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var P=m;m=new O(T,u),et(m,P)}P=!0;let B,W;if(v)for(W=v.length-1;W>=0;W--)B=m.g=v[W],P=or(B,T,!0,m)&&P;if(B=m.g=u,P=or(B,T,!0,m)&&P,P=or(B,T,!1,m)&&P,v)for(W=0;W<v.length;W++)B=m.g=v[W],P=or(B,T,!1,m)&&P}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ht(v[T]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},pe.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function or(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==v){const Tt=W.listener,he=W.ha||W.src;W.fa&&gt(u.i,W),P=Tt.call(he,T)!==!1&&P}}return P&&!T.defaultPrevented}function Vh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Wl(u){u.g=Vh(()=>{u.g=null,u.i&&(u.i=!1,Wl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(u){M.call(this),this.h=u,this.g={}}S(os,M);var po=[];function go(u){Pt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Js(m)},u),u.g={}}os.prototype.N=function(){os.Z.N.call(this),go(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lr=d.JSON.stringify,Mh=d.JSON.parse,tu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function eu(){}function nu(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){O.call(this,"d")}S(ze,O);function bn(){O.call(this,"c")}S(bn,O);var ce={},iu=null;function Ws(){return iu=iu||new pe}ce.Ia="serverreachability";function ru(u){O.call(this,ce.Ia,u)}S(ru,O);function ni(u){const m=Ws();Ne(m,new ru(m))}ce.STAT_EVENT="statevent";function ls(u,m){O.call(this,ce.STAT_EVENT,u),this.stat=m}S(ls,O);function ge(u){const m=Ws();Ne(m,new ls(m,u))}ce.Ja="timingevent";function ii(u,m){O.call(this,ce.Ja,u),this.size=m}S(ii,O);function ri(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function xh(u,m,v,T,P,B){u.info(function(){if(u.g)if(B){var W="",Tt=B.split("&");for(let zt=0;zt<Tt.length;zt++){var he=Tt[zt].split("=");if(he.length>1){const se=he[0];he=he[1];const Cn=se.split("_");W=Cn.length>=2&&Cn[1]=="type"?W+(se+"="+he+"&"):W+(se+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+W})}function su(u,m,v,T,P,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+B+" "+W})}function si(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Uh(u,v)+(T?" "+T:"")})}function us(u,m){u.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function Uh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return lr(B)}catch{return m}}var cs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_o;function hs(){}S(hs,eu),hs.prototype.g=function(){return new XMLHttpRequest},_o=new hs;function Oi(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function qn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new os(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var ye={},xe={};function ai(u,m,v){u.M=1,u.A=fs(ve(m)),u.u=v,u.R=!0,ta(u,null)}function ta(u,m){u.F=Date.now(),oi(u),u.B=ve(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ra(v.i,"t",T),u.C=0,v=u.j.L,u.h=new jn,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new We(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(po[0]=P.toString()),P=po);for(let B=0;B<P.length;B++){const W=re(v,P[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?N(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ni(),xh(u.i,u.v,u.B,u.l,u.S,u.u)}qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=Gn(this.g),he=this.g.ya(),zt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||Tt!=4||he==7||(he==8||zt<=0?ni(3):ni(2)),li(this);var m=this.g.ca();this.X=m;var v=Ph(this);if(this.o=m==200,su(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)si(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ui(this,u);else{this.o=!1,this.m=3,ge(12),dn(this),wn(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<v.length;)if(se=lu(this,v),se==xe){Tt==4&&(this.m=4,ge(14),u=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(se==ye){this.m=4,ge(15),si(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else si(this.i,this.l,se,null),ui(this,se);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||v.length!=0||this.h.h||(this.m=1,ge(16),u=!1),this.o=this.o&&u,!u)si(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Mo(W),W.P=!0,ge(11))}}else si(this.i,this.l,v,null),ui(this,v);Tt==4&&dn(this),this.o&&!this.K&&(Tt==4?yu(this.j,this):(this.o=!1,oi(this)))}else Vi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ge(12)):(this.m=0,ge(13)),dn(this),wn(this)}}}catch{}finally{}};function Ph(u){if(!ou(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let v="";const T=m.length,P=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),wn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(P&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?xe:(v=Number(m.substring(v,T)),isNaN(v)?ye:(T+=1,T+v>m.length?xe:(m=m.slice(T,T+v),u.C=T+v,m)))}qn.prototype.cancel=function(){this.K=!0,dn(this)};function oi(u){u.T=Date.now()+u.H,ea(u,u.H)}function ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ri(_(u.aa,u),m)}function li(u){u.D&&(d.clearTimeout(u.D),u.D=null)}qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(us(this.i,this.B),this.M!=2&&(ni(),ge(17)),dn(this),this.m=2,wn(this)):ea(this,this.T-u)};function wn(u){u.j.I==0||u.K||yu(u.j,u)}function dn(u){li(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,go(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ui(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||hi(v.h,u))){if(!u.L&&hi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ua(v),gr(v);else break t;vs(v),ge(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ri(_(v.Va,v),6e3));ci(v.h)<=1&&v.ta&&(v.ta=void 0)}else yi(v,11)}else if((u.L||v.g==u)&&ua(v),!w(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let zt=P[m];const se=zt[0];if(!(se<=v.K))if(v.K=se,zt=zt[1],v.I==2)if(zt[0]=="c"){v.M=zt[1],v.ba=zt[2];const Cn=zt[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const _i=zt[4];_i!=null&&(v.za=_i,v.j.info("SVER="+v.za));const Qn=zt[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(T=1.5*Qn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Kn=u.g;if(Kn){const Es=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Es){var B=T.h;B.g||Es.indexOf("spdy")==-1&&Es.indexOf("quic")==-1&&Es.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(To(B,B.h),B.h=null))}if(T.G){const ca=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(T.wa=ca,Ht(T.J,T.G,ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=u;if(T.na=Eu(T,T.L?T.ba:null,T.W),W.L){Ao(T.h,W);var Tt=W,he=T.O;he&&(Tt.H=he),Tt.D&&(li(Tt),oi(Tt)),T.g=W}else pu(T);v.i.length>0&&gi(v)}else zt[0]!="stop"&&zt[0]!="close"||yi(v,7);else v.I==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?yi(v,7):No(v):zt[0]!="noop"&&v.l&&v.l.qa(zt),v.A=0)}}ni(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function vo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Eo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ci(u){return u.h?1:u.g?u.g.size:0}function hi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function To(u,m){u.g?u.g.add(m):u.h=m}function Ao(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vo.prototype.cancel=function(){if(this.i=So(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function So(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,B=null;T>=0?(P=u[v].substring(0,T),B=u[v].substring(T+1)):P=u[v],m(P,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,ur(this,u.u),this.h=u.h,bo(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=fi(m[2]||""),this.g=fi(m[3]||"",!0),ur(this,m[4]),this.h=fi(m[5]||"",!0),bo(this,m[6]||"",!0),this.m=fi(m[7]||"")):(this.l=!1,this.i=new hr(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ds(m,ia,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ds(m,ia,!0),"@"),u.push(Oi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ds(v,v.charAt(0)=="/"?wo:cu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ds(v,hu)),u.join("")},mn.prototype.resolve=function(u){const m=ve(this);let v=!!u.j;v?Ue(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)ur(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const B=[];for(let W=0;W<P.length;){const Tt=P[W++];Tt=="."?T&&W==P.length&&B.push(""):Tt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&W==P.length&&B.push("")):(B.push(Tt),T=!0)}T=B.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?bo(m,du(u.i)):v=!!u.m,v&&(m.m=u.m),m};function ve(u){return new mn(u)}function Ue(u,m,v){u.j=v?fi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ur(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function bo(u,m,v){m instanceof hr?(u.i=m,sa(u.i,u.l)):(v||(m=ds(m,cr)),u.i=new hr(m,u.l))}function Ht(u,m,v){u.i.set(m,v)}function fs(u){return Ht(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function fi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ds(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ia=/[#\/\?@]/g,cu=/[#\?:]/g,wo=/[#\?]/g,cr=/[#\?@]/g,hu=/#/g;function hr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&na(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=hr.prototype,r.add=function(u,m){sn(this),this.i=null,u=fr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function fu(u,m){sn(u),m=fr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ro(u,m){return sn(u),m=fr(u,m),u.g.has(m)}r.forEach=function(u,m){sn(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function Io(u,m){sn(u);let v=[];if(typeof m=="string")Ro(u,m)&&(v=v.concat(u.g.get(fr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return sn(this),this.i=null,u=fr(this,u),Ro(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Io(this,u),u.length>0?String(u[0]):m):m};function ra(u,m,v){fu(u,m),v.length>0&&(u.i=null,u.g.set(fr(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=Oi(v);v=Io(this,v);for(let B=0;B<v.length;B++){let W=P;v[B]!==""&&(W+="="+Oi(v[B])),u.push(W)}}return this.i=u.join("&")};function du(u){const m=new hr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function fr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function sa(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(fu(this,T),ra(this,P,v))},u)),u.j=m}function Hn(u,m){const v=new Bn;if(d.Image){const T=new Image;T.onload=A(Rn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Rn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Rn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Rn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Co(u,m){const v=new Bn,T=new AbortController,P=setTimeout(()=>{T.abort(),Rn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(P),B.ok?Rn(v,"TestPingServer: ok",!0,m):Rn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Rn(v,"TestPingServer: error",!1,m)})}function Rn(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function dr(){this.g=new tu}function di(u){this.i=u.Sb||null,this.h=u.ab||!1}S(di,eu),di.prototype.g=function(){return new ms(this.i,this.h)};function ms(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ms,pe),r=ms.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Fn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?mr(this):Fn(this),this.readyState==3&&aa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,mr(this))},r.Na=function(u){this.g&&(this.response=u,mr(this))},r.ga=function(){this.g&&mr(this)};function mr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Fn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function In(u){let m="";return Pt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function ps(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=In(v),typeof u=="string"?v!=null&&Oi(v):Ht(u,m,v))}function Kt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Kt,pe);var mi=/^https?$/i,Do=["POST","PUT"];r=Kt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_o.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){gs(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Do,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of v)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){gs(this,B)}};function gs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Oo(u),Ni(u)}function Oo(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Ni(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ys(this):this.Xa())},r.Xa=function(){ys(this)};function ys(u){if(u.h&&typeof c<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let W=String(u.D).match(uu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!mi.test(W?W.toLowerCase():"")}v=T}if(v)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var P=Gn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Oo(u)}}finally{Ni(u)}}}}function Ni(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ne(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Mh(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=au(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[P]||[];m[P]=B,B.push(v)}jt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function pr(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,u),this.Za=pi("retryDelaySeedMs",1e4,u),this.Ta=pi("forwardChannelMaxRetries",2,u),this.va=pi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new vo(u&&u.concurrentRequestLimit),this.Ba=new dr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=pr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){ge(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Eu(this,null,this.W),gi(this)};function No(u){if(oa(u),u.I==3){var m=u.V++,v=ve(u.J);if(Ht(v,"SID",u.M),Ht(v,"RID",m),Ht(v,"TYPE","terminate"),_s(u,v),m=new qn(u,u.j,m),m.M=2,m.A=fs(ve(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),oi(m)}vu(u)}function gr(u){u.g&&(Mo(u),u.g.cancel(),u.g=null)}function oa(u){gr(u),u.v&&(d.clearTimeout(u.v),u.v=null),ua(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function gi(u){if(!Eo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Wt||b(),Ut||(Wt(),Ut=!0),C.add(m,u),u.D=0}}function la(u,m){return ci(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ri(_(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new qn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=N(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(P.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=mu(this,P,m),v=ve(this.J),Ht(v,"RID",u),Ht(v,"CVER",22),this.G&&Ht(v,"X-HTTP-Session-Id",this.G),_s(this,v),B&&(this.R?m="headers="+Oi(In(B))+"&"+m:this.u&&ps(v,this.u,B)),To(this.h,P),this.Ra&&Ht(v,"TYPE","init"),this.S?(Ht(v,"$req",m),Ht(v,"SID","null"),P.U=!0,ai(P,v,null)):ai(P,v,m),this.I=2}}else this.I==3&&(u?Vo(this,u):this.i.length==0||Eo(this.h)||Vo(this))};function Vo(u,m){var v;m?v=m.l:v=u.V++;const T=ve(u.J);Ht(T,"SID",u.M),Ht(T,"RID",v),Ht(T,"AID",u.K),_s(u,T),u.u&&u.o&&ps(T,u.u,u.o),v=new qn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),To(u.h,v),ai(v,T,m)}function _s(u,m){u.H&&Pt(u.H,function(v,T){Ht(m,T,v)}),u.l&&Pt({},function(v,T){Ht(m,T,v)})}function mu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var P=u.i;let Tt=-1;for(;;){const he=["count="+v];Tt==-1?v>0?(Tt=P[0].g,he.push("ofs="+Tt)):Tt=0:he.push("ofs="+Tt);let zt=!0;for(let se=0;se<v;se++){var B=P[se].g;const Cn=P[se].map;if(B-=Tt,B<0)Tt=Math.max(0,P[se].g-100),zt=!1;else try{B="req"+B+"_"||"";try{var W=Cn instanceof Map?Cn:Object.entries(Cn);for(const[_i,Qn]of W){let Kn=Qn;p(Qn)&&(Kn=lr(Qn)),he.push(B+_i+"="+encodeURIComponent(Kn))}}catch(_i){throw he.push(B+"type="+encodeURIComponent("_badmap")),_i}}catch{T&&T(Cn)}}if(zt){W=he.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Wt||b(),Ut||(Wt(),Ut=!0),C.add(m,u),u.A=0}}function vs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ri(_(u.Da,u),_u(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ri(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ge(10),gr(this),gu(this))};function Mo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Ht(m,"RID","rpc"),Ht(m,"SID",u.M),Ht(m,"AID",u.K),Ht(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ht(m,"TO",u.ia),Ht(m,"TYPE","xmlhttp"),_s(u,m),u.u&&u.o&&ps(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=fs(ve(m)),v.u=null,v.R=!0,ta(v,u)}r.Va=function(){this.C!=null&&(this.C=null,gr(this),vs(this),ge(19))};function ua(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var v=null;if(u.g==m){ua(u),Mo(u),u.g=null;var T=2}else if(hi(u.h,m))v=m.G,Ao(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=Ws(),Ne(T,new ii(T,v)),gi(u)}else pu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&la(u,m)||T==2&&vs(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:yi(u,5);break;case 4:yi(u,10);break;case 3:yi(u,6);break;default:yi(u,2)}}}function _u(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function yi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const P=!T;T=new mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),fs(T),P?Hn(T.toString(),v):Co(T.toString(),v)}else ge(2);u.I=0,u.l&&u.l.pa(m),vu(u),oa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=So(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,v){var T=v instanceof mn?ve(v):new mn(v);if(T.g!="")m&&(T.g=m+"."+T.g),ur(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const B=new mn(null);T&&Ue(B,T),m&&(B.g=m),P&&ur(B,P),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Ht(T,v,m),Ht(T,"VER",u.ka),_s(u,T),T}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new di({ab:v})):new Kt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}r=Au.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function yr(){}yr.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){pe.call(this),this.g=new pr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Mi(this)}S(tn,pe),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){No(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=lr(u),u=v);m.i.push(new _e(m.Ya++,u)),m.I==3&&gi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,tn.Z.N.call(this)};function Su(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Su,ze);function bu(){bn.call(this),this.status=1}S(bu,bn);function Mi(u){this.g=u}S(Mi,Au),Mi.prototype.ra=function(){Ne(this.g,"a")},Mi.prototype.qa=function(u){Ne(this.g,new Su(u))},Mi.prototype.pa=function(u){Ne(this.g,new bu)},Mi.prototype.oa=function(){Ne(this.g,"b")},yr.prototype.createWebChannel=yr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,GE=function(){return new yr},FE=function(){return Ws()},HE=ce,tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},cs.NO_ERROR=0,cs.TIMEOUT=8,cs.HTTP_ERROR=6,xc=cs,yo.COMPLETE="complete",jE=yo,nu.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,Tl=nu,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,qE=Kt}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const rv="@firebase/firestore",sv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new Am("@firebase/firestore");function Ba(){return Hs.logLevel}function nt(r,...t){if(Hs.logLevel<=Dt.DEBUG){const i=t.map(wm);Hs.debug(`Firestore (${so}): ${r}`,...i)}}function tr(r,...t){if(Hs.logLevel<=Dt.ERROR){const i=t.map(wm);Hs.error(`Firestore (${so}): ${r}`,...i)}}function $a(r,...t){if(Hs.logLevel<=Dt.WARN){const i=t.map(wm);Hs.warn(`Firestore (${so}): ${r}`,...i)}}function wm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,QE(r,s,i)}function QE(r,t,i){let s=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw tr(s),new Error(s)}function qt(r,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||QE(t,l,s)}function Et(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends ir{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class wb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class Rb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Ib{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new zs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new zs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new zs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new KE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class Cb{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Db{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new Cb(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class av{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ob{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const s=c=>{c.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new av(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new av(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=Nb(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function Ot(r,t){return r<t?-1:r>t?1:0}function em(r,t){const i=Math.min(r.length,t.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=t.charAt(s);if(l!==c)return jd(l)===jd(c)?Ot(l,c):jd(l)?1:-1}return Ot(r.length,t.length)}const Vb=55296,Mb=57343;function jd(r){const t=r.charCodeAt(0);return t>=Vb&&t<=Mb}function Za(r,t,i){return r.length===t.length&&r.every(((s,l)=>i(s,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="__name__";class Si{constructor(t,i,s){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&pt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=Si.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ot(t.length,i.length)}static compareSegments(t,i){const s=Si.isNumericId(t),l=Si.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Si.extractNumericId(t).compare(Si.extractNumericId(i)):em(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Yr.fromString(t.substring(4,t.length-2))}}class Jt extends Si{construct(t,i,s){return new Jt(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new it(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new Jt(i)}static emptyPath(){return new Jt([])}}const xb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Si{construct(t,i,s){return new Qe(t,i,s)}static isValidIdentifier(t){return xb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ov}static keyField(){return new Qe([ov])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new it(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new it(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new it(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(c(),l++)}if(c(),d)throw new it(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.path=t}static fromPath(t){return new ct(Jt.fromString(t))}static fromName(t){return new ct(Jt.fromString(t).popFirst(5))}static empty(){return new ct(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Jt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new Jt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(r,t,i){if(!i)throw new it(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Ub(r,t,i,s){if(t===!0&&s===!0)throw new it(Y.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function lv(r){if(!ct.isDocumentKey(r))throw new it(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function uv(r){if(ct.isDocumentKey(r))throw new it(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function XE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function dh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function Xr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new it(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dh(r);throw new it(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(r,t){const i={typeString:r};return t&&(i.value=t),i}function jl(r,t){if(!XE(r))throw new it(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new it(Y.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=-62135596800,hv=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*hv);return new ne(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new it(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<cv)throw new it(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hv}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(jl(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-cv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Ie("string",ne._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new ne(0,0))}static max(){return new _t(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=-1;function Pb(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(s===1e9?new ne(i+1,0):new ne(i,s));return new Zr(l,ct.empty(),t)}function Lb(r){return new Zr(r.readTime,r.key,Vl)}class Zr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Zr(_t.min(),ct.empty(),Vl)}static max(){return new Zr(_t.max(),ct.empty(),Vl)}}function kb(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ct.comparator(r.documentKey,t.documentKey),i!==0?i:Ot(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==zb)throw r;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,s)=>{i(t)}))}static reject(t){return new X(((i,s)=>{s(t)}))}static waitFor(t){return new X(((i,s)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>s(y)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const s of t)i=i.next((l=>l?X.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new X(((s,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((A=>{d[_]=A,++p,p===c&&s(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function qb(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function oo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}mh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im=-1;function ph(r){return r==null}function Kc(r){return r===0&&1/r==-1/0}function jb(r){return typeof r=="number"&&Number.isInteger(r)&&!Kc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="";function Hb(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=fv(t)),t=Fb(r.get(i),t);return fv(t)}function Fb(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case $E:i+="";break;default:i+=c}}return i}function fv(r){return r+$E+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function is(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function ZE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dc(this.root,t,this.comparator,!0)}}class Dc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new Ge(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new mv(this.data.getIterator())}getIteratorFrom(t){return new mv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class mv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Sn([])}unionWith(t){let i=new Me(Qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Sn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new JE("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const Gb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(r){if(qt(!!r,39018),typeof r=="string"){let t=0;const i=Gb.exec(r);if(qt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:me(r.seconds),nanos:me(r.nanos)}}function me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Wr(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="server_timestamp",tT="__type__",eT="__previous_value__",nT="__local_write_time__";function Cm(r){return(r?.mapValue?.fields||{})[tT]?.stringValue===WE}function gh(r){const t=r.mapValue.fields[eT];return Cm(t)?gh(t):t}function Ml(r){const t=Jr(r.mapValue.fields[nT].timestampValue);return new ne(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(t,i,s,l,c,d,p,y,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const Yc="(default)";class xl{constructor(t,i){this.projectId=t,this.database=i||Yc}static empty(){return new xl("","")}get isDefaultDatabase(){return this.database===Yc}isEqual(t){return t instanceof xl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="__type__",Kb="__max__",Oc={mapValue:{}},rT="__vector__",Xc="value";function ts(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Cm(r)?4:Xb(r)?9007199254740991:Yb(r)?10:11:pt(28295,{value:r})}function Di(r,t){if(r===t)return!0;const i=ts(r);if(i!==ts(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ml(r).isEqual(Ml(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Jr(l.timestampValue),p=Jr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Wr(l.bytesValue).isEqual(Wr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return me(l.geoPointValue.latitude)===me(c.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return me(l.integerValue)===me(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=me(l.doubleValue),p=me(c.doubleValue);return d===p?Kc(d)===Kc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Za(r.arrayValue.values||[],t.arrayValue.values||[],Di);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(dv(d)!==dv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Di(d[y],p[y])))return!1;return!0})(r,t);default:return pt(52216,{left:r})}}function Ul(r,t){return(r.values||[]).find((i=>Di(i,t)))!==void 0}function Ja(r,t){if(r===t)return 0;const i=ts(r),s=ts(t);if(i!==s)return Ot(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=me(c.integerValue||c.doubleValue),y=me(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return pv(r.timestampValue,t.timestampValue);case 4:return pv(Ml(r),Ml(t));case 5:return em(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=Wr(c),y=Wr(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const A=Ot(p[_],y[_]);if(A!==0)return A}return Ot(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ot(me(c.latitude),me(d.latitude));return p!==0?p:Ot(me(c.longitude),me(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return gv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[Xc]?.arrayValue,A=y[Xc]?.arrayValue,S=Ot(_?.values?.length||0,A?.values?.length||0);return S!==0?S:gv(_,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Oc.mapValue&&d===Oc.mapValue)return 0;if(c===Oc.mapValue)return 1;if(d===Oc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let S=0;S<y.length&&S<A.length;++S){const V=em(y[S],A[S]);if(V!==0)return V;const F=Ja(p[y[S]],_[A[S]]);if(F!==0)return F}return Ot(y.length,A.length)})(r.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function pv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ot(r,t);const i=Jr(r),s=Jr(t),l=Ot(i.seconds,s.seconds);return l!==0?l:Ot(i.nanos,s.nanos)}function gv(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Ja(i[l],s[l]);if(c)return c}return Ot(i.length,s.length)}function Wa(r){return nm(r)}function nm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Jr(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Wr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ct.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=nm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${nm(i.fields[d])}`;return l+"}"})(r.mapValue):pt(61005,{value:r})}function Uc(r){switch(ts(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gh(r);return t?16+Uc(t):16;case 5:return 2*r.stringValue.length;case 6:return Wr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Uc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return is(s.fields,((c,d)=>{l+=c.length+Uc(d)})),l})(r.mapValue);default:throw pt(13486,{value:r})}}function yv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function im(r){return!!r&&"integerValue"in r}function Dm(r){return!!r&&"arrayValue"in r}function _v(r){return!!r&&"nullValue"in r}function vv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Pc(r){return!!r&&"mapValue"in r}function Yb(r){return(r?.mapValue?.fields||{})[iT]?.stringValue===rT}function Rl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return is(r.mapValue.fields,((i,s)=>t.mapValue.fields[i]=Rl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Rl(r.arrayValue.values[i]);return t}return{...r}}function Xb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Kb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Pc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Rl(i)}setAll(t){let i=Qe.emptyPath(),s={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,s,l),s={},l=[],i=p.popLast()}d?s[p.lastSegment()]=Rl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());Pc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Di(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Pc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){is(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new fn(Rl(this.value))}}function sT(r){const t=[];return is(r.fields,((i,s)=>{const l=new Qe([i]);if(Pc(s)){const c=sT(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Sn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t,i,s,l,c,d,p){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,_t.min(),_t.min(),_t.min(),fn.empty(),0)}static newFoundDocument(t,i,s,l){return new Ze(t,1,i,_t.min(),s,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,_t.min(),_t.min(),fn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,_t.min(),_t.min(),fn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,i){this.position=t,this.inclusive=i}}function Ev(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=ct.comparator(ct.fromName(d.referenceValue),i.key):s=Ja(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Tv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Di(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t,i="asc"){this.field=t,this.dir=i}}function $b(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{}class Re extends aT{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new Jb(t,i,s):i==="array-contains"?new ew(t,s):i==="in"?new nw(t,s):i==="not-in"?new iw(t,s):i==="array-contains-any"?new rw(t,s):new Re(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new Wb(t,s):new tw(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ja(i,this.value)):i!==null&&ts(this.value)===ts(i)&&this.matchesComparison(Ja(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends aT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ti(t,i)}matches(t){return oT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function oT(r){return r.op==="and"}function lT(r){return Zb(r)&&oT(r)}function Zb(r){for(const t of r.filters)if(t instanceof ti)return!1;return!0}function rm(r){if(r instanceof Re)return r.field.canonicalString()+r.op.toString()+Wa(r.value);if(lT(r))return r.filters.map((t=>rm(t))).join(",");{const t=r.filters.map((i=>rm(i))).join(",");return`${r.op}(${t})`}}function uT(r,t){return r instanceof Re?(function(s,l){return l instanceof Re&&s.op===l.op&&s.field.isEqual(l.field)&&Di(s.value,l.value)})(r,t):r instanceof ti?(function(s,l){return l instanceof ti&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,p)=>c&&uT(d,l.filters[p])),!0):!1})(r,t):void pt(19439)}function cT(r){return r instanceof Re?(function(i){return`${i.field.canonicalString()} ${i.op} ${Wa(i.value)}`})(r):r instanceof ti?(function(i){return i.op.toString()+" {"+i.getFilters().map(cT).join(" ,")+"}"})(r):"Filter"}class Jb extends Re{constructor(t,i,s){super(t,i,s),this.key=ct.fromName(s.referenceValue)}matches(t){const i=ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class Wb extends Re{constructor(t,i){super(t,"in",i),this.keys=hT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class tw extends Re{constructor(t,i){super(t,"not-in",i),this.keys=hT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function hT(r,t){return(t.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class ew extends Re{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Dm(i)&&Ul(i.arrayValue,this.value)}}class nw extends Re{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ul(this.value.arrayValue,i)}}class iw extends Re{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ul(this.value.arrayValue,i)}}class rw extends Re{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Dm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Ul(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t,i=null,s=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Av(r,t=null,i=[],s=[],l=null,c=null,d=null){return new sw(r,t,i,s,l,c,d)}function Om(r){const t=Et(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>rm(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),ph(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>Wa(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>Wa(s))).join(",")),t.Te=i}return t.Te}function Nm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!$b(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!uT(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Tv(r.startAt,t.startAt)&&Tv(r.endAt,t.endAt)}function sm(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(t,i=null,s=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aw(r,t,i,s,l,c,d,p){return new Hl(r,t,i,s,l,c,d,p)}function Vm(r){return new Hl(r)}function Sv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function fT(r){return r.collectionGroup!==null}function Il(r){const t=Et(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Zc(c,s))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new Zc(Qe.keyField(),s))}return t.Ie}function bi(r){const t=Et(r);return t.Ee||(t.Ee=ow(t,Il(r))),t.Ee}function ow(r,t){if(r.limitType==="F")return Av(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Zc(l.field,c)}));const i=r.endAt?new $c(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new $c(r.startAt.position,r.startAt.inclusive):null;return Av(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function am(r,t){const i=r.filters.concat([t]);return new Hl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function om(r,t,i){return new Hl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function yh(r,t){return Nm(bi(r),bi(t))&&r.limitType===t.limitType}function dT(r){return`${Om(bi(r))}|lt:${r.limitType}`}function qa(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>cT(l))).join(", ")}]`),ph(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>Wa(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>Wa(l))).join(",")),`Target(${s})`})(bi(r))}; limitType=${r.limitType})`}function _h(r,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ct.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,t)&&(function(s,l){for(const c of Il(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,p,y){const _=Ev(d,p,y);return d.inclusive?_<=0:_<0})(s.startAt,Il(s),l)||s.endAt&&!(function(d,p,y){const _=Ev(d,p,y);return d.inclusive?_>=0:_>0})(s.endAt,Il(s),l))})(r,t)}function lw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function mT(r){return(t,i)=>{let s=!1;for(const l of Il(r)){const c=uw(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function uw(r,t,i){const s=r.field.isKeyField()?ct.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Ja(y,_):pt(42886)})(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){is(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return ZE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=new oe(ct.comparator);function er(){return cw}const pT=new oe(ct.comparator);function Al(...r){let t=pT;for(const i of r)t=t.insert(i.key,i);return t}function gT(r){let t=pT;return r.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Ls(){return Cl()}function yT(){return Cl()}function Cl(){return new Ys((r=>r.toString()),((r,t)=>r.isEqual(t)))}const hw=new oe(ct.comparator),fw=new Me(ct.comparator);function Nt(...r){let t=fw;for(const i of r)t=t.add(i);return t}const dw=new Me(Ot);function mw(){return dw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(t)?"-0":t}}function _T(r){return{integerValue:""+r}}function pw(r,t){return jb(t)?_T(t):Mm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(){this._=void 0}}function gw(r,t,i){return r instanceof Jc?(function(l,c){const d={fields:{[tT]:{stringValue:WE},[nT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Cm(c)&&(c=gh(c)),c&&(d.fields[eT]=c),{mapValue:d}})(i,t):r instanceof Pl?ET(r,t):r instanceof Ll?TT(r,t):(function(l,c){const d=vT(l,c),p=bv(d)+bv(l.Ae);return im(d)&&im(l.Ae)?_T(p):Mm(l.serializer,p)})(r,t)}function yw(r,t,i){return r instanceof Pl?ET(r,t):r instanceof Ll?TT(r,t):i}function vT(r,t){return r instanceof Wc?(function(s){return im(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class Jc extends vh{}class Pl extends vh{constructor(t){super(),this.elements=t}}function ET(r,t){const i=AT(t);for(const s of r.elements)i.some((l=>Di(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Ll extends vh{constructor(t){super(),this.elements=t}}function TT(r,t){let i=AT(t);for(const s of r.elements)i=i.filter((l=>!Di(l,s)));return{arrayValue:{values:i}}}class Wc extends vh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function bv(r){return me(r.integerValue||r.doubleValue)}function AT(r){return Dm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function _w(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof Pl&&l instanceof Pl||s instanceof Ll&&l instanceof Ll?Za(s.elements,l.elements,Di):s instanceof Wc&&l instanceof Wc?Di(s.Ae,l.Ae):s instanceof Jc&&l instanceof Jc})(r.transform,t.transform)}class vw{constructor(t,i){this.version=t,this.transformResults=i}}class Jn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Jn}static exists(t){return new Jn(void 0,t)}static updateTime(t){return new Jn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Lc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Eh{}function ST(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new xm(r.key,Jn.none()):new Fl(r.key,r.data,Jn.none());{const i=r.data,s=fn.empty();let l=new Me(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new rs(r.key,s,new Sn(l.toArray()),Jn.none())}}function Ew(r,t,i){r instanceof Fl?(function(l,c,d){const p=l.value.clone(),y=Rv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof rs?(function(l,c,d){if(!Lc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Rv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(bT(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Dl(r,t,i,s){return r instanceof Fl?(function(c,d,p,y){if(!Lc(c.precondition,d))return p;const _=c.value.clone(),A=Iv(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,s):r instanceof rs?(function(c,d,p,y){if(!Lc(c.precondition,d))return p;const _=Iv(c.fieldTransforms,y,d),A=d.data;return A.setAll(bT(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,s):(function(c,d,p){return Lc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function Tw(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=vT(s.transform,l||null);c!=null&&(i===null&&(i=fn.empty()),i.set(s.field,c))}return i||null}function wv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Za(s,l,((c,d)=>_w(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Fl extends Eh{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class rs extends Eh{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function bT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}})),t}function Rv(r,t,i){const s=new Map;qt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);s.set(c.field,yw(d,p,i[l]))}return s}function Iv(r,t,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,gw(c,d,t))}return s}class xm extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Aw extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Ew(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Dl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Dl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=yT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=ST(d,p);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(_t.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Nt())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,((i,s)=>wv(i,s)))&&Za(this.baseMutations,t.baseMutations,((i,s)=>wv(i,s)))}}class Um{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){qt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return hw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Um(t,i,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,xt;function Rw(r){switch(r){case Y.OK:return pt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function wT(r){if(r===void 0)return tr("GRPC error has no .code"),Y.UNKNOWN;switch(r){case be.OK:return Y.OK;case be.CANCELLED:return Y.CANCELLED;case be.UNKNOWN:return Y.UNKNOWN;case be.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case be.INTERNAL:return Y.INTERNAL;case be.UNAVAILABLE:return Y.UNAVAILABLE;case be.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case be.NOT_FOUND:return Y.NOT_FOUND;case be.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case be.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case be.ABORTED:return Y.ABORTED;case be.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case be.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case be.DATA_LOSS:return Y.DATA_LOSS;default:return pt(39323,{code:r})}}(xt=be||(be={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=new Yr([4294967295,4294967295],0);function Cv(r){const t=Iw().encode(r),i=new BE;return i.update(t),new Uint8Array(i.digest())}function Dv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Yr([i,s],0),new Yr([l,c],0)]}class Pm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Sl(`Invalid padding: ${i}`);if(s<0)throw new Sl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Yr.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(Yr.fromNumber(s)));return l.compare(Cw)===1&&(l=new Yr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Cv(t),[s,l]=Dv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Pm(c,l,i);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Cv(t),[s,l]=Dv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,Gl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Th(_t.min(),l,new oe(Ot),er(),Nt())}}class Gl{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Gl(s,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(t,i,s,l){this.be=t,this.removedTargetIds=i,this.key=s,this.De=l}}class RT{constructor(t,i){this.targetId=t,this.Ce=i}}class IT{constructor(t,i,s=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class Ov{constructor(){this.ve=0,this.Fe=Nv(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Nt(),i=Nt(),s=Nt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:pt(38017,{changeType:c})}})),new Gl(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=Nv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Dw{constructor(t){this.Ge=t,this.ze=new Map,this.je=er(),this.Je=Nc(),this.He=Nc(),this.Ye=new oe(Ot)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(sm(c))if(s===0){const d=new ct(c.path);this.et(i,d,Ze.newNoDocument(d,_t.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Wr(s).toUint8Array()}catch(y){if(y instanceof JE)return $a("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Pm(d,l,c)}catch(y){return $a(y instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&sm(p.target)){const y=new ct(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Ze.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=Nt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Th(t,i,this.Ye,this.je,s);return this.je=er(),this.Je=Nc(),this.He=Nc(),this.Ye=new oe(Ot),l}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Ov,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Ot),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Ot),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Ov),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Nc(){return new oe(ct.comparator)}function Nv(){return new oe(ct.comparator)}const Ow={asc:"ASCENDING",desc:"DESCENDING"},Nw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vw={and:"AND",or:"OR"};class Mw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function lm(r,t){return r.useProto3Json||ph(t)?t:{value:t}}function th(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function CT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function xw(r,t){return th(r,t.toTimestamp())}function wi(r){return qt(!!r,49232),_t.fromTimestamp((function(i){const s=Jr(i);return new ne(s.seconds,s.nanos)})(r))}function Lm(r,t){return um(r,t).canonicalString()}function um(r,t){const i=(function(l){return new Jt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function DT(r){const t=Jt.fromString(r);return qt(xT(t),10190,{key:t.toString()}),t}function cm(r,t){return Lm(r.databaseId,t.path)}function Hd(r,t){const i=DT(t);if(i.get(1)!==r.databaseId.projectId)throw new it(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new it(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ct(NT(i))}function OT(r,t){return Lm(r.databaseId,t)}function Uw(r){const t=DT(r);return t.length===4?Jt.emptyPath():NT(t)}function hm(r){return new Jt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function NT(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Vv(r,t,i){return{name:cm(r,t),fields:i.value.mapValue.fields}}function Pw(r,t){let i;if("targetChange"in t){t.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Ke.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ke.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?Y.UNKNOWN:wT(_.code);return new it(A,_.message||"")})(d);i=new IT(s,l,c,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Hd(r,s.document.name),c=wi(s.document.updateTime),d=s.document.createTime?wi(s.document.createTime):_t.min(),p=new fn({mapValue:{fields:s.document.fields}}),y=Ze.newFoundDocument(l,c,d,p),_=s.targetIds||[],A=s.removedTargetIds||[];i=new kc(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Hd(r,s.document),c=s.readTime?wi(s.readTime):_t.min(),d=Ze.newNoDocument(l,c),p=s.removedTargetIds||[];i=new kc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Hd(r,s.document),c=s.removedTargetIds||[];i=new kc([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new ww(l,c),p=s.targetId;i=new RT(p,d)}}return i}function Lw(r,t){let i;if(t instanceof Fl)i={update:Vv(r,t.key,t.value)};else if(t instanceof xm)i={delete:cm(r,t.key)};else if(t instanceof rs)i={update:Vv(r,t.key,t.data),updateMask:Qw(t.fieldMask)};else{if(!(t instanceof Aw))return pt(16599,{Vt:t.type});i={verify:cm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof Jc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Pl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ll)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Wc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw pt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:xw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(r,t.precondition)),i}function kw(r,t){return r&&r.length>0?(qt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?wi(l.updateTime):wi(c);return d.isEqual(_t.min())&&(d=wi(c)),new vw(d,l.transformResults||[])})(i,t)))):[]}function zw(r,t){return{documents:[OT(r,t.path)]}}function Bw(r,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=OT(r,l);const c=(function(_){if(_.length!==0)return MT(ti.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(V){return{field:ja(V.field),direction:Hw(V.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=lm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function qw(r){let t=Uw(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){qt(s===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const V=VT(S);return V instanceof ti&&lT(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((V=>(function($){return new Zc(Ha($.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let V;return V=typeof S=="object"?S.value:S,ph(V)?null:V})(i.limit));let y=null;i.startAt&&(y=(function(S){const V=!!S.before,F=S.values||[];return new $c(F,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const V=!S.before,F=S.values||[];return new $c(F,V)})(i.endAt)),aw(t,l,d,c,p,"F",y,_)}function jw(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function VT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ha(i.unaryFilter.field);return Re.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ha(i.unaryFilter.field);return Re.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ha(i.unaryFilter.field);return Re.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ha(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Re.create(Ha(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ti.create(i.compositeFilter.filters.map((s=>VT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(r):pt(30097,{filter:r})}function Hw(r){return Ow[r]}function Fw(r){return Nw[r]}function Gw(r){return Vw[r]}function ja(r){return{fieldPath:r.canonicalString()}}function Ha(r){return Qe.fromServerFormat(r.fieldPath)}function MT(r){return r instanceof Re?(function(i){if(i.op==="=="){if(vv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NAN"}};if(_v(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(vv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NAN"}};if(_v(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(i.field),op:Fw(i.op),value:i.value}}})(r):r instanceof ti?(function(i){const s=i.getFilters().map((l=>MT(l)));return s.length===1?s[0]:{compositeFilter:{op:Gw(i.op),filters:s}}})(r):pt(54877,{filter:r})}function Qw(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function xT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(t,i,s,l,c=_t.min(),d=_t.min(),p=Ke.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Fr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(t){this.yt=t}}function Yw(r){const t=qw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?om(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.Cn=new $w}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Zr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Zr.min())}updateCollectionGroup(t,i,s){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class $w{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Me(Jt.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Me(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UT=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(UT,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new to(0)}static cr(){return new to(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="LruGarbageCollector",Zw=1048576;function Uv([r,t],[i,s]){const l=Ot(r,i);return l===0?Ot(t,s):l}class Jw{constructor(t){this.Ir=t,this.buffer=new Me(Uv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Uv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Ww{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){nt(xv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){oo(i)?nt(xv,"Ignoring IndexedDB error during garbage collection: ",i):await ao(i)}await this.Vr(3e5)}))}}class tR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(mh.ce);const s=new Jw(i);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Mv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,l,c,d,p,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(s=S,p=Date.now(),this.removeTargets(t,s,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(_=Date.now(),Ba()<=Dt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function eR(r,t){return new tR(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(){this.changes=new Ys((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&Dl(s.mutation,l,Sn.empty(),ne.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Nt()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Nt()){const l=Ls();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let d=Al();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=Ls();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Nt())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,s,l){let c=er();const d=Cl(),p=(function(){return Cl()})();return i.forEach(((y,_)=>{const A=s.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof rs)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Dl(A.mutation,_,A.mutation.getFieldMask(),ne.now())):d.set(_.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new iR(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const s=Cl();let l=new oe(((d,p)=>d-p)),c=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=s.get(y)||Sn.empty();A=p.applyToLocalView(_,A),s.set(y,A);const S=(l.get(p.batchId)||Nt()).add(y);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,A=y.value,S=yT();A.forEach((V=>{if(!c.has(V)){const F=ST(i.get(V),s.get(V));F!==null&&S.set(V,F),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return X.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):fT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):X.resolve(Ls());let p=Vl,y=c;return d.next((_=>X.forEach(_,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((V=>{y=y.insert(A,V)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Nt()))).next((A=>({batchId:p,changes:gT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ct(i)).next((s=>{let l=Al();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=Al();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(y=>{const _=(function(S,V){return new Hl(V,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next((A=>{A.forEach(((S,V)=>{d=d.insert(S,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ze.newInvalidDocument(A)))}));let p=Al();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&Dl(A.mutation,_,Sn.empty(),ne.now()),_h(i,_)&&(p=p.insert(y,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:wi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Yw(l.bundledQuery),readTime:wi(l.readTime)}})(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.overlays=new oe(ct.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Ls();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),X.resolve()}getOverlaysForCollection(t,i,s){const l=Ls(),c=i.length+1,d=new ct(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>s&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new oe(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=c.get(_.largestBatchId);A===null&&(A=Ls(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Ls(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return X.resolve(p)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new bw(i,s));let c=this.qr.get(i);c===void 0&&(c=Nt(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new Le(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((s=>this.removeReference(s,i)))}jr(t){const i=new ct(new Jt([])),s=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ct(new Jt([])),s=new Le(i,t),l=new Le(i,t+1);let c=Nt();return this.Ur.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ct.comparator(t.key,i.key)||Ot(t.Yr,i.Yr)}static Kr(t,i){return Ot(t.Yr,i.Yr)||ct.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Sw(c,i,s,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Im:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Me(Ot);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{s=s.add(p.Yr)}))})),X.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;ct.isDocumentKey(c)||(c=c.child(""));const d=new Le(new ct(c),0);let p=new Me(Ot);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,i){const s=new Le(i,0),l=this.Zr.firstAfterOrEqual(s);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t){this.ri=t,this.docs=(function(){return new oe(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let s=er();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),X.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=er();const d=i.path,p=new ct(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||kb(Lb(A),s)<=0||(l.has(A.key)||_h(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,s,l){pt(9500)}ii(t,i){return X.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new cR(this)}getSize(t){return X.resolve(this.size)}}class cR extends nR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(t){this.persistence=t,this.si=new Ys((i=>Om(i)),Nm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new km,this.targetCount=0,this.ai=to.ur()}forEachTarget(t,i){return this.si.forEach(((s,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new to(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return X.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),X.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return X.resolve(s)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(t,i){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new oR,this.referenceDelegate=t(this),this.Pi=new hR(this),this.indexManager=new Xw,this.remoteDocumentCache=(function(l){return new uR(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Kw(i),this.Ii=new sR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new aR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new lR(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){nt("MemoryPersistence","Starting transaction:",t);const l=new fR(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,i))))}}class fR extends Bb{constructor(t){super(),this.currentSequenceNumber=t}}class zm{constructor(t){this.persistence=t,this.Ri=new km,this.Vi=null}static mi(t){return new zm(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),X.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(s=>{const l=ct.fromPath(s);return this.gi(t,l).next((c=>{c||i.removeEntry(l,_t.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class eh{constructor(t,i){this.persistence=t,this.pi=new Ys((s=>Hb(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=eR(this,i)}static mi(t,i){return new eh(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}wr(t){let i=0;return this.pr(t,(s=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((s,l)=>this.br(t,s,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(s++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),X.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Uc(t.data.value)),i}br(t,i,s){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=l}static As(t,i){let s=Nt(),l=Nt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Bm(t,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return s1()?8:qb(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new dR;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,s,l){return s.documentReadCount<this.fs?(Ba()<=Dt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ba()<=Dt.DEBUG&&nt("QueryEngine","Query:",qa(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Ba()<=Dt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,bi(i))):X.resolve())}ys(t,i){if(Sv(i))return X.resolve(null);let s=bi(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=om(i,null,"F"),s=bi(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=Nt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,om(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,s,l){return Sv(i)||l.isEqual(_t.min())?X.resolve(null):this.ps.getDocuments(t,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,l)?X.resolve(null):(Ba()<=Dt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),qa(i)),this.vs(t,d,i,Pb(l,Vl)).next((p=>p)))}))}Ds(t,i){let s=new Me(mT(t));return i.forEach(((l,c)=>{_h(t,c)&&(s=s.add(c))})),s}Cs(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,s){return Ba()<=Dt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",qa(i)),this.ps.getDocumentsMatchingQuery(t,i,Zr.min(),s)}vs(t,i,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="LocalStore",pR=3e8;class gR{constructor(t,i,s,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new oe(Ot),this.xs=new Ys((c=>Om(c)),Nm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new rR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function yR(r,t,i,s){return new gR(r,t,i,s)}async function LT(r,t){const i=Et(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let y=Nt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(s,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function _R(r,t){const i=Et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,A){const S=_.batch,V=S.keys();let F=X.resolve();return V.forEach(($=>{F=F.next((()=>A.getEntry(y,$))).next((J=>{const Z=_.docVersions.get($);qt(Z!==null,48541),J.version.compareTo(Z)<0&&(S.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),A.addEntry(J)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let y=Nt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function kT(r){const t=Et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function vR(r,t){const i=Et(r),s=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,S)=>{const V=l.get(S);if(!V)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let F=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?F=F.withResumeToken(Ke.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,s)),l=l.insert(S,F),(function(J,Z,at){return J.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=pR?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0})(V,F,A)&&p.push(i.Pi.updateTargetData(c,F))}));let y=er(),_=Nt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(ER(c,d,t.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!s.isEqual(_t.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(A)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function ER(r,t,i){let s=Nt(),l=Nt();return i.forEach((c=>s=s.add(c))),t.getEntries(r,s).next((c=>{let d=er();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(_t.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):nt(qm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function TR(r,t){const i=Et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Im),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function AR(r,t){const i=Et(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(s).next((d=>(l=new Fr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s}))}async function fm(r,t,i){const s=Et(r),l=s.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!oo(d))throw d;nt(qm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function Pv(r,t,i){const s=Et(r);let l=_t.min(),c=Nt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const S=Et(y),V=S.xs.get(A);return V!==void 0?X.resolve(S.Ms.get(V)):S.Pi.getTargetData(_,A)})(s,d,bi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?c:Nt()))).next((p=>(SR(s,lw(t),p),{documents:p,Qs:c})))))}function SR(r,t,i){let s=r.Os.get(t)||_t.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(t,s)}class Lv{constructor(){this.activeTargetIds=mw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class bR{constructor(){this.Mo=new Lv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Lv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="ConnectivityMonitor";class zv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){nt(kv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){nt(kv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc=null;function dm(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="RestConnection",RR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Yc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,i,s,l,c){const d=dm(),p=this.zo(t,i.toUriEncodedString());nt(Fd,`Sending RPC '${t}' ${d}:`,p,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),A=io(_);return this.Jo(t,p,y,s,A).then((S=>(nt(Fd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw $a(Fd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",s),S}))}Ho(t,i,s,l,c,d){return this.Go(t,i,s,l,c)}jo(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+so})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const s=RR[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class DR extends IR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,l,c){const d=dm();return new Promise(((p,y)=>{const _=new qE;_.setWithCredentials(!0),_.listenOnce(jE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case xc.NO_ERROR:const S=_.getResponseJson();nt(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case xc.TIMEOUT:nt(Xe,`RPC '${t}' ${d} timed out`),y(new it(Y.DEADLINE_EXCEEDED,"Request time out"));break;case xc.HTTP_ERROR:const V=_.getStatus();if(nt(Xe,`RPC '${t}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const $=F?.error;if($&&$.status&&$.message){const J=(function(at){const yt=at.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(yt)>=0?yt:Y.UNKNOWN})($.status);y(new it(J,$.message))}else y(new it(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new it(Y.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{nt(Xe,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);nt(Xe,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,s,15)}))}T_(t,i,s){const l=dm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=GE(),p=FE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const A=c.join("");nt(Xe,`Creating RPC '${t}' stream ${l}: ${A}`,y);const S=d.createWebChannel(A,y);this.I_(S);let V=!1,F=!1;const $=new CR({Yo:Z=>{F?nt(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(V||(nt(Xe,`Opening RPC '${t}' stream ${l} transport.`),S.open(),V=!0),nt(Xe,`RPC '${t}' stream ${l} sending:`,Z),S.send(Z))},Zo:()=>S.close()}),J=(Z,at,yt)=>{Z.listen(at,(dt=>{try{yt(dt)}catch(Qt){setTimeout((()=>{throw Qt}),0)}}))};return J(S,Tl.EventType.OPEN,(()=>{F||(nt(Xe,`RPC '${t}' stream ${l} transport opened.`),$.o_())})),J(S,Tl.EventType.CLOSE,(()=>{F||(F=!0,nt(Xe,`RPC '${t}' stream ${l} transport closed`),$.a_(),this.E_(S))})),J(S,Tl.EventType.ERROR,(Z=>{F||(F=!0,$a(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),$.a_(new it(Y.UNAVAILABLE,"The operation could not be completed")))})),J(S,Tl.EventType.MESSAGE,(Z=>{if(!F){const at=Z.data[0];qt(!!at,16349);const yt=at,dt=yt?.error||yt[0]?.error;if(dt){nt(Xe,`RPC '${t}' stream ${l} received error:`,dt);const Qt=dt.status;let Wt=(function(b){const I=be[b];if(I!==void 0)return wT(I)})(Qt),Ut=dt.message;Wt===void 0&&(Wt=Y.INTERNAL,Ut="Unknown error status: "+Qt+" with message "+dt.message),F=!0,$.a_(new it(Wt,Ut)),S.close()}else nt(Xe,`RPC '${t}' stream ${l} received:`,at),$.u_(at)}})),J(p,HE.STAT_EVENT,(Z=>{Z.stat===tm.PROXY?nt(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===tm.NOPROXY&&nt(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Gd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(r){return new Mw(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&nt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="PersistentStream";class BT{constructor(t,i,s,l,c,d,p,y){this.Mi=t,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(tr(i.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new it(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return nt(Bv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(nt(Bv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OR extends BT{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Pw(this.serializer,t),s=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?wi(d.readTime):_t.min()})(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=hm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=sm(y)?{documents:zw(c,y)}:{query:Bw(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=CT(c,d.resumeToken);const _=lm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(_t.min())>0){p.readTime=th(c,d.snapshotVersion.toTimestamp());const _=lm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const s=jw(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=hm(this.serializer),i.removeTarget=t,this.q_(i)}}class NR extends BT{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=kw(t.writeResults,t.commitTime),s=wi(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=hm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>Lw(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{}class MR extends VR{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new it(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,um(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new it(Y.UNKNOWN,c.toString())}))}Ho(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,um(i,s),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class xR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(tr(i),this.aa=!1):nt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="RemoteStore";class UR{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Xs(this)&&(nt(Fs,"Restarting streams for network reachability change."),await(async function(y){const _=Et(y);_.Ea.add(4),await Ql(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Sh(_)})(this))}))})),this.Ra=new xR(s,l)}}async function Sh(r){if(Xs(r))for(const t of r.da)await t(!0)}async function Ql(r){for(const t of r.da)await t(!1)}function qT(r,t){const i=Et(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Gm(i)?Fm(i):lo(i).O_()&&Hm(i,t))}function jm(r,t){const i=Et(r),s=lo(i);i.Ia.delete(t),s.O_()&&jT(i,t),i.Ia.size===0&&(s.O_()?s.L_():Xs(i)&&i.Ra.set("Unknown"))}function Hm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}lo(r).Y_(t)}function jT(r,t){r.Va.Ue(t),lo(r).Z_(t)}function Fm(r){r.Va=new Dw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),lo(r).start(),r.Ra.ua()}function Gm(r){return Xs(r)&&!lo(r).x_()&&r.Ia.size>0}function Xs(r){return Et(r).Ea.size===0}function HT(r){r.Va=void 0}async function PR(r){r.Ra.set("Online")}async function LR(r){r.Ia.forEach(((t,i)=>{Hm(r,t)}))}async function kR(r,t){HT(r),Gm(r)?(r.Ra.ha(t),Fm(r)):r.Ra.set("Unknown")}async function zR(r,t,i){if(r.Ra.set("Online"),t instanceof IT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(s){nt(Fs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await nh(r,s)}else if(t instanceof kc?r.Va.Ze(t):t instanceof RT?r.Va.st(t):r.Va.tt(t),!i.isEqual(_t.min()))try{const s=await kT(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(Ke.EMPTY_BYTE_STRING,A.snapshotVersion)),jT(c,y);const S=new Fr(A.target,y,_,A.sequenceNumber);Hm(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){nt(Fs,"Failed to raise snapshot:",s),await nh(r,s)}}async function nh(r,t,i){if(!oo(t))throw t;r.Ea.add(1),await Ql(r),r.Ra.set("Offline"),i||(i=()=>kT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{nt(Fs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Sh(r)}))}function FT(r,t){return t().catch((i=>nh(r,i,t)))}async function bh(r){const t=Et(r),i=es(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Im;for(;BR(t);)try{const l=await TR(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,qR(t,l)}catch(l){await nh(t,l)}GT(t)&&QT(t)}function BR(r){return Xs(r)&&r.Ta.length<10}function qR(r,t){r.Ta.push(t);const i=es(r);i.O_()&&i.X_&&i.ea(t.mutations)}function GT(r){return Xs(r)&&!es(r).x_()&&r.Ta.length>0}function QT(r){es(r).start()}async function jR(r){es(r).ra()}async function HR(r){const t=es(r);for(const i of r.Ta)t.ea(i.mutations)}async function FR(r,t,i){const s=r.Ta.shift(),l=Um.from(s,t,i);await FT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await bh(r)}async function GR(r,t){t&&es(r).X_&&await(async function(s,l){if((function(d){return Rw(d)&&d!==Y.ABORTED})(l.code)){const c=s.Ta.shift();es(s).B_(),await FT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await bh(s)}})(r,t),GT(r)&&QT(r)}async function qv(r,t){const i=Et(r);i.asyncQueue.verifyOperationInProgress(),nt(Fs,"RemoteStore received new credentials");const s=Xs(i);i.Ea.add(3),await Ql(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Sh(i)}async function QR(r,t){const i=Et(r);t?(i.Ea.delete(2),await Sh(i)):t||(i.Ea.add(2),await Ql(i),i.Ra.set("Unknown"))}function lo(r){return r.ma||(r.ma=(function(i,s,l){const c=Et(i);return c.sa(),new OR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:PR.bind(null,r),t_:LR.bind(null,r),r_:kR.bind(null,r),H_:zR.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Gm(r)?Fm(r):r.Ra.set("Unknown")):(await r.ma.stop(),HT(r))}))),r.ma}function es(r){return r.fa||(r.fa=(function(i,s,l){const c=Et(i);return c.sa(),new NR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:jR.bind(null,r),r_:GR.bind(null,r),ta:HR.bind(null,r),na:FR.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await bh(r)):(await r.fa.stop(),r.Ta.length>0&&(nt(Fs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,p=new Qm(t,i,d,l,c);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Km(r,t){if(tr("AsyncQueue",`${t}: ${r}`),oo(r))return new it(Y.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{static emptySet(t){return new Fa(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ct.comparator(i.key,s.key):(i,s)=>ct.comparator(i.key,s.key),this.keyedMap=Al(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Fa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Fa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(){this.ga=new oe(ct.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class eo{constructor(t,i,s,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new eo(t,i,Fa.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class YR{constructor(){this.queries=Hv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Et(i),c=l.queries;l.queries=Hv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(s)}))})(this,new it(Y.ABORTED,"Firestore shutting down"))}}function Hv(){return new Ys((r=>dT(r)),yh)}async function XR(r,t){const i=Et(r);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(s=2):(c=new KR,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Km(d,`Initialization of query '${qa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Ym(i)}async function $R(r,t){const i=Et(r),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function ZR(r,t){const i=Et(r);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(s=!0);d.wa=l}}s&&Ym(i)}function JR(r,t,i){const s=Et(r),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(t)}function Ym(r){r.Ca.forEach((t=>{t.next()}))}var mm,Fv;(Fv=mm||(mm={})).Ma="default",Fv.Cache="cache";class WR{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new eo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=eo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==mm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(t){this.key=t}}class YT{constructor(t){this.key=t}}class tI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Nt(),this.mutatedKeys=Nt(),this.eu=mT(t),this.tu=new Fa(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new jv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const V=l.get(A),F=_h(this.query,S)?S:null,$=!!V&&this.mutatedKeys.has(V.key),J=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let Z=!1;V&&F?V.data.isEqual(F.data)?$!==J&&(s.track({type:3,doc:F}),Z=!0):this.su(V,F)||(s.track({type:2,doc:F}),Z=!0,(y&&this.eu(F,y)>0||_&&this.eu(F,_)<0)&&(p=!0)):!V&&F?(s.track({type:0,doc:F}),Z=!0):V&&!F&&(s.track({type:1,doc:V}),Z=!0,(y||_)&&(p=!0)),Z&&(F?(d=d.add(F),c=J?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(F,$){const J=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:Z})}};return J(F)-J($)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(s),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new eo(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Nt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return t.forEach((s=>{this.Xa.has(s)||i.push(new YT(s))})),this.Xa.forEach((s=>{t.has(s)||i.push(new KT(s))})),i}cu(t){this.Ya=t.Qs,this.Xa=Nt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xm="SyncEngine";class eI{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class nI{constructor(t){this.key=t,this.hu=!1}}class iI{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ys((p=>dT(p)),yh),this.Iu=new Map,this.Eu=new Set,this.du=new oe(ct.comparator),this.Au=new Map,this.Ru=new km,this.Vu={},this.mu=new Map,this.fu=to.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rI(r,t,i=!0){const s=t0(r);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await XT(s,t,i,!0),l}async function sI(r,t){const i=t0(r);await XT(i,t,!0,!1)}async function XT(r,t,i,s){const l=await AR(r.localStore,bi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await aI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&qT(r.remoteStore,l),p}async function aI(r,t,i,s,l){r.pu=(S,V,F)=>(async function(J,Z,at,yt){let dt=Z.view.ru(at);dt.Cs&&(dt=await Pv(J.localStore,Z.query,!1).then((({documents:C})=>Z.view.ru(C,dt))));const Qt=yt&&yt.targetChanges.get(Z.targetId),Wt=yt&&yt.targetMismatches.get(Z.targetId)!=null,Ut=Z.view.applyChanges(dt,J.isPrimaryClient,Qt,Wt);return Qv(J,Z.targetId,Ut.au),Ut.snapshot})(r,S,V,F);const c=await Pv(r.localStore,t,!0),d=new tI(t,c.Qs),p=d.ru(c.documents),y=Gl.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);Qv(r,i,_.au);const A=new eI(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function oI(r,t,i){const s=Et(r),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!yh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await fm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&jm(s.remoteStore,l.targetId),pm(s,l.targetId)})).catch(ao)):(pm(s,l.targetId),await fm(s.localStore,l.targetId,!0))}async function lI(r,t){const i=Et(r),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),jm(i.remoteStore,s.targetId))}async function uI(r,t,i){const s=gI(r);try{const l=await(function(d,p){const y=Et(d),_=ne.now(),A=p.reduce(((F,$)=>F.add($.key)),Nt());let S,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let $=er(),J=Nt();return y.Ns.getEntries(F,A).next((Z=>{$=Z,$.forEach(((at,yt)=>{yt.isValidDocument()||(J=J.add(at))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,$))).next((Z=>{S=Z;const at=[];for(const yt of p){const dt=Tw(yt,S.get(yt.key).overlayedDocument);dt!=null&&at.push(new rs(yt.key,dt,sT(dt.value.mapValue),Jn.exists(!0)))}return y.mutationQueue.addMutationBatch(F,_,at,p)})).next((Z=>{V=Z;const at=Z.applyToLocalDocumentSet(S,J);return y.documentOverlayCache.saveOverlays(F,Z.batchId,at)}))})).then((()=>({batchId:V.batchId,changes:gT(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new oe(Ot)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(s,l.batchId,i),await Kl(s,l.changes),await bh(s.remoteStore)}catch(l){const c=Km(l,"Failed to persist write");i.reject(c)}}async function $T(r,t){const i=Et(r);try{const s=await vR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?qt(d.hu,14607):l.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await Kl(i,s,t)}catch(s){await ao(s)}}function Gv(r,t,i){const s=Et(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Et(d);y.onlineState=p;let _=!1;y.queries.forEach(((A,S)=>{for(const V of S.Sa)V.va(p)&&(_=!0)})),_&&Ym(y)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function cI(r,t,i){const s=Et(r);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new oe(ct.comparator);d=d.insert(c,Ze.newNoDocument(c,_t.min()));const p=Nt().add(c),y=new Th(_t.min(),new Map,new oe(Ot),d,p);await $T(s,y),s.du=s.du.remove(c),s.Au.delete(t),$m(s)}else await fm(s.localStore,t,!1).then((()=>pm(s,t,i))).catch(ao)}async function hI(r,t){const i=Et(r),s=t.batch.batchId;try{const l=await _R(i.localStore,t);JT(i,s,null),ZT(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Kl(i,l)}catch(l){await ao(l)}}async function fI(r,t,i){const s=Et(r);try{const l=await(function(d,p){const y=Et(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,p).next((S=>(qt(S!==null,37113),A=S.keys(),y.mutationQueue.removeMutationBatch(_,S)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(s.localStore,t);JT(s,t,i),ZT(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Kl(s,l)}catch(l){await ao(l)}}function ZT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function JT(r,t,i){const s=Et(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function pm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||WT(r,s)}))}function WT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(jm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),$m(r))}function Qv(r,t,i){for(const s of i)s instanceof KT?(r.Ru.addReference(s.key,t),dI(r,s)):s instanceof YT?(nt(Xm,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||WT(r,s.key)):pt(19791,{wu:s})}function dI(r,t){const i=t.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(nt(Xm,"New document in limbo: "+i),r.Eu.add(s),$m(r))}function $m(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ct(Jt.fromString(t)),s=r.fu.next();r.Au.set(s,new nI(i)),r.du=r.du.insert(i,s),qT(r.remoteStore,new Fr(bi(Vm(i.path)),s,"TargetPurposeLimboResolution",mh.ce))}}async function Kl(r,t,i){const s=Et(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,y)=>{d.push(s.pu(y,t,i).then((_=>{if((_||i)&&s.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Bm.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(y,_){const A=Et(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(_,(V=>X.forEach(V.Es,(F=>A.persistence.referenceDelegate.addReference(S,V.targetId,F))).next((()=>X.forEach(V.ds,(F=>A.persistence.referenceDelegate.removeReference(S,V.targetId,F)))))))))}catch(S){if(!oo(S))throw S;nt(qm,"Failed to update sequence numbers: "+S)}for(const S of _){const V=S.targetId;if(!S.fromCache){const F=A.Ms.get(V),$=F.snapshotVersion,J=F.withLastLimboFreeSnapshotVersion($);A.Ms=A.Ms.insert(V,J)}}})(s.localStore,c))}async function mI(r,t){const i=Et(r);if(!i.currentUser.isEqual(t)){nt(Xm,"User change. New user:",t.toKey());const s=await LT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new it(Y.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Kl(i,s.Ls)}}function pI(r,t){const i=Et(r),s=i.Au.get(t);if(s&&s.hu)return Nt().add(s.key);{let l=Nt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function t0(r){const t=Et(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=$T.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cI.bind(null,t),t.Pu.H_=ZR.bind(null,t.eventManager),t.Pu.yu=JR.bind(null,t.eventManager),t}function gI(r){const t=Et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fI.bind(null,t),t}class ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ah(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return yR(this.persistence,new mR,t.initialUser,this.serializer)}Cu(t){return new PT(zm.mi,this.serializer)}Du(t){return new bR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ih.provider={build:()=>new ih};class yI extends ih{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){qt(this.persistence.referenceDelegate instanceof eh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Ww(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new PT((s=>eh.mi(s,i)),this.serializer)}}class gm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Gv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=mI.bind(null,this.syncEngine),await QR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new YR})()}createDatastore(t){const i=Ah(t.databaseInfo.databaseId),s=(function(c){return new DR(c)})(t.databaseInfo);return(function(c,d,p,y){return new MR(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,d,p){return new UR(s,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Gv(this.syncEngine,i,0)),(function(){return zv.v()?new zv:new wR})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,A){const S=new iI(l,c,d,p,y,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Et(i);nt(Fs,"RemoteStore shutting down."),s.Ea.add(5),await Ql(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):tr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="FirestoreClient";class vI{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=Rm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{nt(ns,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(nt(ns,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=Km(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Qd(r,t){r.asyncQueue.verifyOperationInProgress(),nt(ns,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await LT(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Kv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await EI(r);nt(ns,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((s=>qv(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>qv(t.remoteStore,l))),r._onlineComponents=t}async function EI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){nt(ns,"Using user provided OfflineComponentProvider");try{await Qd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;$a("Error using user provided cache. Falling back to memory cache: "+i),await Qd(r,new ih)}}else nt(ns,"Using default OfflineComponentProvider"),await Qd(r,new yI(void 0));return r._offlineComponents}async function e0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(nt(ns,"Using user provided OnlineComponentProvider"),await Kv(r,r._uninitializedComponentsProvider._online)):(nt(ns,"Using default OnlineComponentProvider"),await Kv(r,new gm))),r._onlineComponents}function TI(r){return e0(r).then((t=>t.syncEngine))}async function Yv(r){const t=await e0(r),i=t.eventManager;return i.onListen=rI.bind(null,t.syncEngine),i.onUnlisten=oI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=sI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=lI.bind(null,t.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="firestore.googleapis.com",$v=!0;class Zv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=i0,this.ssl=$v}else this.host=t.host,this.ssl=t.ssl??$v;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=UT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Zw)throw new it(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Ub("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n0(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class wh{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new wb;switch(s.type){case"firstParty":return new Db(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new it(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=Xv.get(i);s&&(nt("ComponentProvider","Removing Datastore"),Xv.delete(i),s.terminate())})(this),Promise.resolve()}}function AI(r,t,i,s={}){r=Xr(r,wh);const l=io(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(VE(`https://${p}`),ME("Firestore",!0)),c.host!==i0&&c.host!==p&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:s};if(!qs(y,d)&&(r._setSettings(y),s.mockUserToken)){let _,A;if(typeof s.mockUserToken=="string")_=s.mockUserToken,A=$e.MOCK_USER;else{_=$S(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new it(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new $e(S)}r._authCredentials=new Rb(new KE(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new uo(this.firestore,t,this._query)}}class Ce{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ce(this.firestore,t,this._key)}toJSON(){return{type:Ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(jl(i,Ce._jsonSchema))return new Ce(t,s||null,new ct(Jt.fromString(i.referencePath)))}}Ce._jsonSchemaVersion="firestore/documentReference/1.0",Ce._jsonSchema={type:Ie("string",Ce._jsonSchemaVersion),referencePath:Ie("string")};class $r extends uo{constructor(t,i,s){super(t,i,Vm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ce(this.firestore,null,new ct(t))}withConverter(t){return new $r(this.firestore,t,this._path)}}function Jv(r,t,...i){if(r=ke(r),YE("collection","path",t),r instanceof wh){const s=Jt.fromString(t,...i);return uv(s),new $r(r,null,s)}{if(!(r instanceof Ce||r instanceof $r))throw new it(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(t,...i));return uv(s),new $r(r.firestore,null,s)}}function zc(r,t,...i){if(r=ke(r),arguments.length===1&&(t=Rm.newId()),YE("doc","path",t),r instanceof wh){const s=Jt.fromString(t,...i);return lv(s),new Ce(r,null,new ct(s))}{if(!(r instanceof Ce||r instanceof $r))throw new it(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(t,...i));return lv(s),new Ce(r.firestore,r instanceof $r?r.converter:null,new ct(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="AsyncQueue";class tE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zT(this,"async_queue_retry"),this._c=()=>{const s=Gd();s&&nt(Wv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=Gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new zs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!oo(t))throw t;nt(Wv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,tr("INTERNAL UNHANDLED ERROR: ",eE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Qm.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:eE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function eE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class no extends wh{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new tE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new tE(t),this._firestoreClient=void 0,await t}}}function SI(r,t){const i=typeof r=="object"?r:LE(),s=typeof r=="string"?r:Yc,l=bm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=YS("firestore");c&&AI(l,...c)}return l}function r0(r){if(r._terminated)throw new it(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||bI(r),r._firestoreClient}function bI(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new Qb(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,n0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new vI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Ke.fromBase64String(t))}catch(i){throw new it(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ln(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(jl(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ie("string",Ln._jsonSchemaVersion),bytes:Ie("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new it(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new it(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new it(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(t){if(jl(t,Ri._jsonSchema))return new Ri(t.latitude,t.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:Ie("string",Ri._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(jl(t,Ii._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ii(t.vectorValues);throw new it(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:Ie("string",Ii._jsonSchemaVersion),vectorValues:Ie("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=/^__.*__$/;class RI{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new rs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Fl(t,this.data,i,this.fieldTransforms)}}class s0{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new rs(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function a0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:r})}}class Jm{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Jm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return rh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(a0(this.Ac)&&wI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class II{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Ah(t)}Cc(t,i,s,l=!1){return new Jm({Ac:t,methodName:i,Dc:s,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wm(r){const t=r._freezeSettings(),i=Ah(r._databaseId);return new II(r._databaseId,!!t.ignoreUndefinedProperties,i)}function CI(r,t,i,s,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);tp("Data must be an object, but it was:",d,s);const p=o0(s,d);let y,_;if(c.merge)y=new Sn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const V=ym(t,S,i);if(!d.contains(V))throw new it(Y.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);u0(A,V)||A.push(V)}y=new Sn(A),_=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,_=d.fieldTransforms;return new RI(new fn(p),y,_)}class Ih extends Zm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ih}}function DI(r,t,i,s){const l=r.Cc(1,t,i);tp("Data must be an object, but it was:",l,s);const c=[],d=fn.empty();is(s,((y,_)=>{const A=ep(t,y,i);_=ke(_);const S=l.yc(A);if(_ instanceof Ih)c.push(A);else{const V=Yl(_,S);V!=null&&(c.push(A),d.set(A,V))}}));const p=new Sn(c);return new s0(d,p,l.fieldTransforms)}function OI(r,t,i,s,l,c){const d=r.Cc(1,t,i),p=[ym(t,s,i)],y=[l];if(c.length%2!=0)throw new it(Y.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)p.push(ym(t,c[V])),y.push(c[V+1]);const _=[],A=fn.empty();for(let V=p.length-1;V>=0;--V)if(!u0(_,p[V])){const F=p[V];let $=y[V];$=ke($);const J=d.yc(F);if($ instanceof Ih)_.push(F);else{const Z=Yl($,J);Z!=null&&(_.push(F),A.set(F,Z))}}const S=new Sn(_);return new s0(A,S,d.fieldTransforms)}function NI(r,t,i,s=!1){return Yl(i,r.Cc(s?4:3,t))}function Yl(r,t){if(l0(r=ke(r)))return tp("Unsupported field value:",t,r),o0(r,t);if(r instanceof Zm)return(function(s,l){if(!a0(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const p of s){let y=Yl(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(s,l){if((s=ke(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return pw(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ne.fromDate(s);return{timestampValue:th(l.serializer,c)}}if(s instanceof ne){const c=new ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:th(l.serializer,c)}}if(s instanceof Ri)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ln)return{bytesValue:CT(l.serializer,s._byteString)};if(s instanceof Ce){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Lm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Ii)return(function(d,p){return{mapValue:{fields:{[iT]:{stringValue:rT},[Xc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Mm(p.serializer,_)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${dh(s)}`)})(r,t)}function o0(r,t){const i={};return ZE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):is(r,((s,l)=>{const c=Yl(l,t.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function l0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ne||r instanceof Ri||r instanceof Ln||r instanceof Ce||r instanceof Zm||r instanceof Ii)}function tp(r,t,i){if(!l0(i)||!XE(i)){const s=dh(i);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function ym(r,t,i){if((t=ke(t))instanceof Rh)return t._internalPath;if(typeof t=="string")return ep(r,t);throw rh("Field path arguments must be of type string or ",r,!1,void 0,i)}const VI=new RegExp("[~\\*/\\[\\]]");function ep(r,t,i){if(t.search(VI)>=0)throw rh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Rh(...t.split("."))._internalPath}catch{throw rh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function rh(r,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new it(Y.INVALID_ARGUMENT,p+r+y)}function u0(r,t){return r.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(np("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class MI extends c0{data(){return super.data()}}function np(r,t){return typeof t=="string"?ep(r,t):t instanceof Rh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new it(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ip{}class UI extends ip{}function PI(r,t,...i){let s=[];t instanceof ip&&s.push(t),s=s.concat(i),(function(c){const d=c.filter((y=>y instanceof rp)).length,p=c.filter((y=>y instanceof Ch)).length;if(d>1||d>0&&p>0)throw new it(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Ch extends UI{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new Ch(t,i,s)}_apply(t){const i=this._parse(t);return h0(t._query,i),new uo(t.firestore,t.converter,am(t._query,i))}_parse(t){const i=Wm(t.firestore);return(function(c,d,p,y,_,A,S){let V;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new it(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){rE(S,A);const $=[];for(const J of S)$.push(iE(y,c,J));V={arrayValue:{values:$}}}else V=iE(y,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||rE(S,A),V=NI(p,d,S,A==="in"||A==="not-in");return Re.create(_,A,V)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function LI(r,t,i){const s=t,l=np("where",r);return Ch._create(l,s,i)}class rp extends ip{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new rp(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ti.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)h0(d,y),d=am(d,y)})(t._query,i),new uo(t.firestore,t.converter,am(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function iE(r,t,i){if(typeof(i=ke(i))=="string"){if(i==="")throw new it(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fT(t)&&i.indexOf("/")!==-1)throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(Jt.fromString(i));if(!ct.isDocumentKey(s))throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return yv(r,new ct(s))}if(i instanceof Ce)return yv(r,i._key);throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(i)}.`)}function rE(r,t){if(!Array.isArray(r)||r.length===0)throw new it(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function h0(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new it(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class kI{convertValue(t,i="none"){switch(ts(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Wr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return is(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[Xc].arrayValue?.values?.map((s=>me(s.doubleValue)));return new Ii(i)}convertGeoPoint(t){return new Ri(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=gh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Ml(t));default:return null}}convertTimestamp(t){const i=Jr(t);return new ne(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=Jt.fromString(t);qt(xT(s),9688,{name:t});const l=new xl(s.get(1),s.get(3)),c=new ct(s.popFirst(5));return l.isEqual(i)||tr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(r,t,i){let s;return s=r?r.toFirestore(t):t,s}class bl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Bs extends c0{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(np("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Bs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bs._jsonSchema={type:Ie("string",Bs._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Bc extends Bs{data(t={}){return super.data(t)}}class Ga{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new bl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new Bc(this._firestore,this._userDataWriter,s.key,s,new bl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new bl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new bl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:BI(p.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ga._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Rm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function BI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}Ga._jsonSchemaVersion="firestore/querySnapshot/1.0",Ga._jsonSchema={type:Ie("string",Ga._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class f0 extends kI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ce(this.firestore,null,i)}}function sE(r,t,i,...s){r=Xr(r,Ce);const l=Xr(r.firestore,no),c=Wm(l);let d;return d=typeof(t=ke(t))=="string"||t instanceof Rh?OI(c,"updateDoc",r._key,t,i,s):DI(c,"updateDoc",r._key,t),sp(l,[d.toMutation(r._key,Jn.exists(!0))])}function qI(r){return sp(Xr(r.firestore,no),[new xm(r._key,Jn.none())])}function jI(r,t){const i=Xr(r.firestore,no),s=zc(r),l=zI(r.converter,t);return sp(i,[CI(Wm(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Jn.exists(!1))]).then((()=>s))}function HI(r,...t){r=ke(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||nE(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(nE(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Ce)d=Xr(r.firestore,no),p=Vm(r._key.path),c={next:y=>{t[s]&&t[s](FI(d,r,y))},error:t[s+1],complete:t[s+2]};else{const y=Xr(r,uo);d=Xr(y.firestore,no),p=y._query;const _=new f0(d);c={next:A=>{t[s]&&t[s](new Ga(d,_,y,A))},error:t[s+1],complete:t[s+2]},xI(r._query)}return(function(_,A,S,V){const F=new _I(V),$=new WR(A,F,S);return _.asyncQueue.enqueueAndForget((async()=>XR(await Yv(_),$))),()=>{F.Nu(),_.asyncQueue.enqueueAndForget((async()=>$R(await Yv(_),$)))}})(r0(d),p,l,c)}function sp(r,t){return(function(s,l){const c=new zs;return s.asyncQueue.enqueueAndForget((async()=>uI(await TI(s),l,c))),c.promise})(r0(r),t)}function FI(r,t,i){const s=i.docs.get(t._key),l=new f0(r);return new Bs(r,l,t._key,s,new bl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){so=l})(ro),Xa(new js("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new no(new Ib(s.getProvider("auth-internal")),new Ob(d,s.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new it(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Kr(rv,sv,t),Kr(rv,sv,"esm2020")})();function d0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GI=d0,m0=new Bl("auth","Firebase",d0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new Am("@firebase/auth");function QI(r,...t){sh.logLevel<=Dt.WARN&&sh.warn(`Auth (${ro}): ${r}`,...t)}function qc(r,...t){sh.logLevel<=Dt.ERROR&&sh.error(`Auth (${ro}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(r,...t){throw op(r,...t)}function Wn(r,...t){return op(r,...t)}function ap(r,t,i){const s={...GI(),[t]:i};return new Bl("auth","Firebase",s).create(t,{appName:r.name})}function Ji(r){return ap(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KI(r,t,i){const s=i;if(!(t instanceof s))throw s.name!==t.constructor.name&&kn(r,"argument-error"),ap(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function op(r,...t){if(typeof r!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return m0.create(r,...t)}function mt(r,t,...i){if(!r)throw op(t,...i)}function $i(r){const t="INTERNAL ASSERTION FAILED: "+r;throw qc(t),new Error(t)}function nr(r,t){r||$i(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(){return typeof self<"u"&&self.location?.href||""}function YI(){return aE()==="http:"||aE()==="https:"}function aE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YI()||n1()||"connection"in navigator)?navigator.onLine:!0}function $I(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(t,i){this.shortDelay=t,this.longDelay=i,nr(i>t,"Short delay should be less than long delay!"),this.isMobile=WS()||i1()}get(){return XI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(r,t){nr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WI=new Xl(3e4,6e4);function rr(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function sr(r,t,i,s,l={}){return g0(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const p=ql({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return e1()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&io(r.emulatorConfig.host)&&(_.credentials="include"),p0.fetch()(await y0(r,r.config.apiHost,i,p),_)})}async function g0(r,t,i){r._canInitEmulator=!1;const s={...ZI,...t};try{const l=new eC(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Mc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Mc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Mc(r,"user-disabled",d);const A=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw ap(r,A,_);kn(r,A)}}catch(l){if(l instanceof ir)throw l;kn(r,"network-request-failed",{message:String(l)})}}async function $l(r,t,i,s,l={}){const c=await sr(r,t,i,s,l);return"mfaPendingCredential"in c&&kn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function y0(r,t,i,s){const l=`${t}${i}?${s}`,c=r,d=c.config.emulator?lp(r.config,l):`${r.config.apiScheme}://${l}`;return JI.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function tC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Wn(this.auth,"network-request-failed")),WI.get())})}}function Mc(r,t,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Wn(r,t,s);return l.customData._tokenResponse=i,l}function oE(r){return r!==void 0&&r.enterprise!==void 0}class nC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return tC(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iC(r,t){return sr(r,"GET","/v2/recaptchaConfig",rr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(r,t){return sr(r,"POST","/v1/accounts:delete",t)}async function ah(r,t){return sr(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function sC(r,t=!1){const i=ke(r),s=await i.getIdToken(t),l=up(s);mt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:Ol(Kd(l.auth_time)),issuedAtTime:Ol(Kd(l.iat)),expirationTime:Ol(Kd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Kd(r){return Number(r)*1e3}function up(r){const[t,i,s]=r.split(".");if(t===void 0||i===void 0||s===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const l=CE(i);return l?JSON.parse(l):(qc("Failed to decode base64 JWT payload"),null)}catch(l){return qc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function lE(r){const t=up(r);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(r,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof ir&&aC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function aC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oh(r){const t=r.auth,i=await r.getIdToken(),s=await kl(r,ah(t,{idToken:i}));mt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?_0(l.providerUserInfo):[],d=uC(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new vm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,A)}async function lC(r){const t=ke(r);await oh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function uC(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function _0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(r,t){const i=await g0(r,{},async()=>{const s=ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await y0(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:s};return r.emulatorConfig&&io(r.emulatorConfig.host)&&(y.credentials="include"),p0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function hC(r,t){return sr(r,"POST","/v2/accounts:revokeToken",rr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):lE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const i=lE(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await cC(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new Qa;return s&&(mt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(mt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(mt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(r,t){mt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Zn{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new oC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new vm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await kl(this,this.stsTokenManager.getToken(this.auth,t));return mt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return sC(this,t)}reload(){return lC(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await oh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(Ji(this.auth));const t=await this.getIdToken();return await kl(this,rC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:V,isAnonymous:F,providerData:$,stsTokenManager:J}=i;mt(S&&J,t,"internal-error");const Z=Qa.fromJSON(this.name,J);mt(typeof S=="string",t,"internal-error"),Br(s,t.name),Br(l,t.name),mt(typeof V=="boolean",t,"internal-error"),mt(typeof F=="boolean",t,"internal-error"),Br(c,t.name),Br(d,t.name),Br(p,t.name),Br(y,t.name),Br(_,t.name),Br(A,t.name);const at=new Zn({uid:S,auth:t,email:l,emailVerified:V,displayName:s,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:Z,createdAt:_,lastLoginAt:A});return $&&Array.isArray($)&&(at.providerData=$.map(yt=>({...yt}))),y&&(at._redirectEventId=y),at}static async _fromIdTokenResponse(t,i,s=!1){const l=new Qa;l.updateFromServerResponse(i);const c=new Zn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await oh(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];mt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?_0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Qa;p.updateFromIdToken(s);const y=new Zn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new vm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=new Map;function Zi(r){nr(r instanceof Function,"Expected a class definition");let t=uE.get(r);return t?(nr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,uE.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}v0.type="NONE";const cE=v0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ka{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=jc(this.userKey,l.apiKey,c),this.fullPersistenceKey=jc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await ah(this.auth,{idToken:t}).catch(()=>{});return i?Zn._fromGetAccountInfoResponse(this.auth,i,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new Ka(Zi(cE),t,s);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Zi(cE);const d=jc(s,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const V=await ah(t,{idToken:A}).catch(()=>{});if(!V)break;S=await Zn._fromGetAccountInfoResponse(t,V,A)}else S=Zn._fromJSON(t,A);_!==c&&(p=S),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Ka(c,t,s):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ka(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(S0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(E0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(w0(t))return"Blackberry";if(R0(t))return"Webos";if(T0(t))return"Safari";if((t.includes("chrome/")||A0(t))&&!t.includes("edge/"))return"Chrome";if(b0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function E0(r=Je()){return/firefox\//i.test(r)}function T0(r=Je()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function A0(r=Je()){return/crios\//i.test(r)}function S0(r=Je()){return/iemobile/i.test(r)}function b0(r=Je()){return/android/i.test(r)}function w0(r=Je()){return/blackberry/i.test(r)}function R0(r=Je()){return/webos/i.test(r)}function cp(r=Je()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function fC(r=Je()){return cp(r)&&!!window.navigator?.standalone}function dC(){return r1()&&document.documentMode===10}function I0(r=Je()){return cp(r)||b0(r)||R0(r)||w0(r)||/windows phone/i.test(r)||S0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(r,t=[]){let i;switch(r){case"Browser":i=hE(Je());break;case"Worker":i=`${hE(Je())}-${r}`;break;default:i=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ro}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(r,t={}){return sr(r,"GET","/v2/passwordPolicy",rr(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=6;class yC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??gC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fE(this),this.idTokenSubscription=new fE(this),this.beforeStateQueue=new mC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Zi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await ah(this,{idToken:t}),s=await Zn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(An(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await oh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=$I()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(An(this.app))return Promise.reject(Ji(this));const i=t?ke(t):null;return i&&mt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return An(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await pC(this),i=new yC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Bl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await hC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Zi(t)||this._popupRedirectResolver;mt(i,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[Zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,s,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=C0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&QI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ar(r){return ke(r)}class fE{constructor(t){this.auth=t,this.observer=null,this.addObserver=f1(i=>this.observer=i)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vC(r){Dh=r}function D0(r){return Dh.loadJS(r)}function EC(){return Dh.recaptchaEnterpriseScript}function TC(){return Dh.gapiScript}function AC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class SC{constructor(){this.enterprise=new bC}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class bC{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const wC="recaptcha-enterprise",O0="NO_RECAPTCHA";class RC{constructor(t){this.type=wC,this.auth=ar(t)}async verify(t="verify",i=!1){async function s(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{iC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new nC(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(y=>{p(y)})})}function l(c,d,p){const y=window.grecaptcha;oE(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(O0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new SC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(p=>{if(!i&&oE(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=EC();y.length!==0&&(y+=p),D0(y).then(()=>{l(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function dE(r,t,i,s=!1,l=!1){const c=new RC(r);let d;if(l)d=O0;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function lh(r,t,i,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await dE(r,t,i,i==="getOobCode");return s(r,c)}else return s(r,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await dE(r,t,i,i==="getOobCode");return s(r,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(r,t){const i=bm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(qs(c,t??{}))return l;kn(l,"already-initialized")}return i.initialize({options:t})}function CC(r,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map(Zi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function DC(r,t,i){const s=ar(r);mt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=N0(t),{host:d,port:p}=OC(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){mt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),mt(qs(_,s.config.emulator)&&qs(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,io(d)?(VE(`${c}//${d}${y}`),ME("Auth",!0)):NC()}function N0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function OC(r){const t=N0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:mE(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:mE(d)}}}function mE(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function NC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return $i("not implemented")}_getIdTokenResponse(t){return $i("not implemented")}_linkToIdToken(t,i){return $i("not implemented")}_getReauthenticationResolver(t){return $i("not implemented")}}async function VC(r,t){return sr(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(r,t){return $l(r,"POST","/v1/accounts:signInWithPassword",rr(r,t))}async function xC(r,t){return sr(r,"POST","/v1/accounts:sendOobCode",rr(r,t))}async function UC(r,t){return xC(r,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(r,t){return $l(r,"POST","/v1/accounts:signInWithEmailLink",rr(r,t))}async function LC(r,t){return $l(r,"POST","/v1/accounts:signInWithEmailLink",rr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends hp{constructor(t,i,s,l=null){super("password",s),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new zl(t,i,"password")}static _fromEmailAndCode(t,i,s=null){return new zl(t,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lh(t,i,"signInWithPassword",MC);case"emailLink":return PC(t,{email:this._email,oobCode:this._password});default:kn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lh(t,s,"signUpPassword",VC);case"emailLink":return LC(t,{idToken:i,email:this._email,oobCode:this._password});default:kn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(r,t){return $l(r,"POST","/v1/accounts:signInWithIdp",rr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="http://localhost";class Gs extends hp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Gs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):kn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new Gs(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ya(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Ya(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ya(t,i)}buildRequest(){const t={requestUri:kC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ql(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BC(r){const t=vl(El(r)).link,i=t?vl(El(t)).deep_link_id:null,s=vl(El(r)).deep_link_id;return(s?vl(El(s)).link:null)||s||i||t||r}class fp{constructor(t){const i=vl(El(t)),s=i.apiKey??null,l=i.oobCode??null,c=zC(i.mode??null);mt(s&&l&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=BC(t);try{return new fp(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.providerId=co.PROVIDER_ID}static credential(t,i){return zl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const s=fp.parseLink(i);return mt(s,"argument-error"),zl._fromEmailAndCode(t,s.code,s.tenantId)}}co.PROVIDER_ID="password";co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends dp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Zl{constructor(){super("facebook.com")}static credential(t){return Gs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qr.credential(t.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Zl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Gs._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Xi.credentialFromTaggedObject(t)}static credentialFromError(t){return Xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Xi.credential(i,s)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Zl{constructor(){super("github.com")}static credential(t){return Gs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return jr.credential(t.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends Zl{constructor(){super("twitter.com")}static credential(t,i){return Gs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Hr.credential(i,s)}catch{return null}}}Hr.TWITTER_SIGN_IN_METHOD="twitter.com";Hr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(r,t){return $l(r,"POST","/v1/accounts:signUp",rr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await Zn._fromIdTokenResponse(t,s,l),d=pE(s);return new Qs({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=pE(s);return new Qs({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function pE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends ir{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new uh(t,i,s,l)}}function V0(r,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(r,c,t,s):c})}async function jC(r,t,i=!1){const s=await kl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Qs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(r,t,i=!1){const{auth:s}=r;if(An(s.app))return Promise.reject(Ji(s));const l="reauthenticate";try{const c=await kl(r,V0(s,l,t,r),i);mt(c.idToken,s,"internal-error");const d=up(c.idToken);mt(d,s,"internal-error");const{sub:p}=d;return mt(r.uid===p,s,"user-mismatch"),Qs._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&kn(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M0(r,t,i=!1){if(An(r.app))return Promise.reject(Ji(r));const s="signIn",l=await V0(r,s,t),c=await Qs._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function FC(r,t){return M0(ar(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x0(r){const t=ar(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function GC(r,t,i){const s=ar(r);await lh(s,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",UC)}async function QC(r,t,i){if(An(r.app))return Promise.reject(Ji(r));const s=ar(r),d=await lh(s,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qC).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&x0(r),y}),p=await Qs._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function KC(r,t,i){return An(r.app)?Promise.reject(Ji(r)):FC(ke(r),co.credential(t,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&x0(r),s})}function YC(r,t,i,s){return ke(r).onIdTokenChanged(t,i,s)}function XC(r,t,i){return ke(r).beforeAuthStateChanged(t,i)}function $C(r){return ke(r).signOut()}const ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=1e3,JC=10;class P0 extends U0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=I0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);dC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,JC):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},ZC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}P0.type="LOCAL";const WC=P0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0 extends U0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}L0.type="SESSION";const k0=L0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new Oh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await t2(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(r="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=mp("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(S){const V=S;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return window}function n2(r){Ci().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function i2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function r2(){return navigator?.serviceWorker?.controller||null}function s2(){return z0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="firebaseLocalStorageDb",a2=1,hh="firebaseLocalStorage",q0="fbase_key";class Jl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Nh(r,t){return r.transaction([hh],t?"readwrite":"readonly").objectStore(hh)}function o2(){const r=indexedDB.deleteDatabase(B0);return new Jl(r).toPromise()}function Em(){const r=indexedDB.open(B0,a2);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(hh,{keyPath:q0})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(hh)?t(s):(s.close(),await o2(),t(await Em()))})})}async function gE(r,t,i){const s=Nh(r,!0).put({[q0]:t,value:i});return new Jl(s).toPromise()}async function l2(r,t){const i=Nh(r,!1).get(t),s=await new Jl(i).toPromise();return s===void 0?null:s.value}function yE(r,t){const i=Nh(r,!0).delete(t);return new Jl(i).toPromise()}const u2=800,c2=3;class j0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>c2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return z0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(s2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await i2(),!this.activeServiceWorker)return;this.sender=new e2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||r2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Em();return await gE(t,ch,"1"),await yE(t,ch),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>gE(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>l2(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>yE(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Nh(l,!1).getAll();return new Jl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),u2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}j0.type="LOCAL";const h2=j0;new Xl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(r,t){return t?Zi(t):(mt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp extends hp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ya(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ya(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ya(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function f2(r){return M0(r.auth,new pp(r),r.bypassAuthState)}function d2(r){const{auth:t,user:i}=r;return mt(i,t,"internal-error"),HC(i,new pp(r),r.bypassAuthState)}async function m2(r){const{auth:t,user:i}=r;return mt(i,t,"internal-error"),jC(i,new pp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return f2;case"linkViaPopup":case"linkViaRedirect":return m2;case"reauthViaPopup":case"reauthViaRedirect":return d2;default:kn(this.auth,"internal-error")}}resolve(t){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=new Xl(2e3,1e4);async function g2(r,t,i){if(An(r.app))return Promise.reject(Wn(r,"operation-not-supported-in-this-environment"));const s=ar(r);KI(r,t,dp);const l=H0(s,i);return new ks(s,"signInViaPopup",t,l).executeNotNull()}class ks extends F0{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,ks.currentPopupAction&&ks.currentPopupAction.cancel(),ks.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){nr(this.filter.length===1,"Popup operations only handle one event");const t=mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ks.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,p2.get())};t()}}ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="pendingRedirect",Hc=new Map;class _2 extends F0{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Hc.get(this.auth._key());if(!t){try{const s=await v2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Hc.set(this.auth._key(),t)}return this.bypassAuthState||Hc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v2(r,t){const i=A2(t),s=T2(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function E2(r,t){Hc.set(r._key(),t)}function T2(r){return Zi(r._redirectPersistence)}function A2(r){return jc(y2,r.config.apiKey,r.name)}async function S2(r,t,i=!1){if(An(r.app))return Promise.reject(Ji(r));const s=ar(r),l=H0(s,t),d=await new _2(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=600*1e3;class w2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!R2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!G0(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Wn(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=b2&&this.cachedEventUids.clear(),this.cachedEventUids.has(_E(t))}saveEventToCache(t){this.cachedEventUids.add(_E(t)),this.lastProcessedEventTime=Date.now()}}function _E(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function G0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function R2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(r,t={}){return sr(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,D2=/^https?/;async function O2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await I2(r);for(const i of t)try{if(N2(i))return}catch{}kn(r,"unauthorized-domain")}function N2(r){const t=_m(),{protocol:i,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!D2.test(i))return!1;if(C2.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=new Xl(3e4,6e4);function vE(){const r=Ci().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function M2(r){return new Promise((t,i)=>{function s(){vE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{vE(),i(Wn(r,"network-request-failed"))},timeout:V2.get()})}if(Ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ci().gapi?.load)s();else{const l=AC("iframefcb");return Ci()[l]=()=>{gapi.load?s():i(Wn(r,"network-request-failed"))},D0(`${TC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Fc=null,t})}let Fc=null;function x2(r){return Fc=Fc||M2(r),Fc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=new Xl(5e3,15e3),P2="__/auth/iframe",L2="emulator/auth/iframe",k2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B2(r){const t=r.config;mt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?lp(t,L2):`https://${r.config.authDomain}/${P2}`,s={apiKey:t.apiKey,appName:r.name,v:ro},l=z2.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${ql(s).slice(1)}`}async function q2(r){const t=await x2(r),i=Ci().gapi;return mt(i,r,"internal-error"),t.open({where:document.body,url:B2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:k2,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Wn(r,"network-request-failed"),p=Ci().setTimeout(()=>{c(d)},U2.get());function y(){Ci().clearTimeout(p),l(s)}s.ping(y).then(y,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H2=500,F2=600,G2="_blank",Q2="http://localhost";class EE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K2(r,t,i,s=H2,l=F2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const y={...j2,width:s.toString(),height:l.toString(),top:c,left:d},_=Je().toLowerCase();i&&(p=A0(_)?G2:i),E0(_)&&(t=t||Q2,y.scrollbars="yes");const A=Object.entries(y).reduce((V,[F,$])=>`${V}${F}=${$},`,"");if(fC(_)&&p!=="_self")return Y2(t||"",p),new EE(null);const S=window.open(t||"",p,A);mt(S,r,"popup-blocked");try{S.focus()}catch{}return new EE(S)}function Y2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="__/auth/handler",$2="emulator/auth/handler",Z2=encodeURIComponent("fac");async function TE(r,t,i,s,l,c){mt(r.config.authDomain,r,"auth-domain-config-required"),mt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:ro,eventId:l};if(t instanceof dp){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",h1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Zl){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await r._getAppCheckToken(),_=y?`#${Z2}=${encodeURIComponent(y)}`:"";return`${J2(r)}?${ql(p).slice(1)}${_}`}function J2({config:r}){return r.emulator?lp(r,$2):`https://${r.authDomain}/${X2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="webStorageSupport";class W2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k0,this._completeRedirectFn=S2,this._overrideRedirectResult=E2}async _openPopup(t,i,s,l){nr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await TE(t,i,s,_m(),l);return K2(t,c,mp())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await TE(t,i,s,_m(),l);return n2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(nr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await q2(t),s=new w2(t);return i.register("authEvent",l=>(mt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Yd,{type:Yd},l=>{const c=l?.[0]?.[Yd];c!==void 0&&i(!!c),kn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=O2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return I0()||T0()||cp()}}const tD=W2;var AE="@firebase/auth",SE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iD(r){Xa(new js("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C0(r)},_=new _C(s,l,c,y);return CC(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),Xa(new js("auth-internal",t=>{const i=ar(t.getProvider("auth").getImmediate());return(s=>new eD(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(AE,SE,nD(r)),Kr(AE,SE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=300,sD=NE("authIdTokenMaxAge")||rD;let bE=null;const aD=r=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>sD)return;const l=i?.token;bE!==l&&(bE=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function oD(r=LE()){const t=bm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=IC(r,{popupRedirectResolver:tD,persistence:[h2,WC,k0]}),s=NE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=aD(c.toString());XC(i,d,()=>d(i.currentUser)),YC(i,p=>d(p))}}const l=DE("auth");return l&&DC(i,`http://${l}`),i}function lD(){return document.getElementsByTagName("head")?.[0]??document}vC({loadJS(r){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=Wn("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",lD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iD("Browser");const uD={apiKey:"AIzaSyCbLG_vFutFaEwPjjY8u0mQZUs6TwDKRj8",authDomain:"smarttodoapp-91ddf.firebaseapp.com",projectId:"smarttodoapp-91ddf",storageBucket:"smarttodoapp-91ddf.appspot.com",messagingSenderId:"746414972471",appId:"1:746414972471:web:2d695bba0c5d7629b1e9b2",measurementId:"G-L9N31BHH38"},Q0=PE(uD),_l=SI(Q0),Ks=oD(Q0),cD=new Xi,hD=()=>g2(Ks,cD),fD=(r,t)=>QC(Ks,r,t),dD=(r,t)=>KC(Ks,r,t),mD=r=>GC(Ks,r),pD=()=>$C(Ks);function gD({onAuthSuccess:r}){const[t,i]=nn.useState(""),[s,l]=nn.useState(""),[c,d]=nn.useState(!0),[p,y]=nn.useState(""),[_,A]=nn.useState(!1),[S,V]=nn.useState(!1),F=async J=>{if(J.preventDefault(),y(""),A(!0),!t||!S&&!s){y("Please fill all required fields."),A(!1);return}try{S?(await mD(t.trim()),y(" Password reset email sent!"),V(!1)):c?(await dD(t.trim(),s),r()):(await fD(t.trim(),s),r())}catch(Z){let at="Something went wrong.";switch(Z.code){case"auth/invalid-email":at="Invalid email format.";break;case"auth/user-not-found":at="No account found for this email.";break;case"auth/wrong-password":at="Incorrect password.";break;case"auth/weak-password":at="Password must be at least 6 characters.";break;case"auth/email-already-in-use":at="Email already in use.";break;default:at=Z.message}y(at)}finally{A(!1)}},$=async()=>{try{await hD(),r()}catch{y("Google sign-in failed. Please try again.")}};return lt.jsx("div",{style:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(135deg, #eef2ff, #dbeafe)"},children:lt.jsxs("div",{style:{width:"100%",maxWidth:"380px",padding:"2rem",background:"#fff",borderRadius:"1rem",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",textAlign:"center"},children:[lt.jsx("h2",{style:{marginBottom:"1rem"},children:S?"Reset Password":c?"Welcome Back ":"Create Account"}),lt.jsxs("form",{onSubmit:F,style:{marginBottom:"1rem"},children:[lt.jsx("input",{type:"email",placeholder:"Email address",value:t,onChange:J=>i(J.target.value),required:!0,style:{width:"100%",padding:"10px",marginBottom:"10px",borderRadius:"6px",border:"1px solid #ccc"}}),!S&&lt.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:J=>l(J.target.value),required:!0,style:{width:"100%",padding:"10px",marginBottom:"10px",borderRadius:"6px",border:"1px solid #ccc"}}),lt.jsx("button",{type:"submit",disabled:_,style:{width:"100%",background:"#3b82f6",color:"#fff",padding:"10px",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",marginTop:"5px"},children:_?"Please wait...":S?"Send Reset Email":c?"Login":"Sign Up"})]}),!S&&lt.jsxs(lt.Fragment,{children:[lt.jsx("div",{style:{margin:"10px 0",color:"#666"},children:"or"}),lt.jsxs("button",{onClick:$,style:{width:"100%",background:"#fff",color:"#444",border:"1px solid #ddd",borderRadius:"6px",padding:"10px",cursor:"pointer",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[lt.jsx("img",{src:"https://www.svgrepo.com/show/355037/google.svg",alt:"Google",style:{width:"20px",height:"20px"}}),"Continue with Google"]}),lt.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginTop:"10px"},children:[lt.jsx("img",{src:"https://www.svgrepo.com/show/452210/apple.svg",alt:"Apple",style:{width:"25px",cursor:"pointer"}}),lt.jsx("img",{src:"https://www.svgrepo.com/show/452228/github.svg",alt:"GitHub",style:{width:"25px",cursor:"pointer"}})]})]}),lt.jsx("p",{style:{marginTop:"15px",color:"#555",fontSize:"0.9rem"},children:S?lt.jsx("span",{style:{color:"#3b82f6",cursor:"pointer"},onClick:()=>{V(!1),y("")},children:"Back to Login"}):lt.jsxs(lt.Fragment,{children:[c?"No account?":"Already have one?"," ",lt.jsx("span",{style:{color:"#3b82f6",cursor:"pointer"},onClick:()=>{d(!c),y("")},children:c?"Sign up":"Login"})," ","|"," ",lt.jsx("span",{style:{color:"#3b82f6",cursor:"pointer"},onClick:()=>{V(!0),y("")},children:"Forgot password?"})]})}),p&&lt.jsx("p",{style:{color:p.includes("")?"green":"red",marginTop:"10px",fontSize:"0.9rem"},children:p})]})})}function yD(){const[r,t]=nn.useState([]),[i,s]=nn.useState("all"),[l,c]=nn.useState(""),[d,p]=nn.useState(null);nn.useEffect(()=>{const $=localStorage.getItem("todos");$&&t(JSON.parse($));const J=Ks.onAuthStateChanged(Z=>{if(p(Z),Z){const at=y(Z.uid);return()=>at()}});return()=>J()},[]);const y=$=>{const J=PI(Jv(_l,"todos"),LI("uid","==",$));return HI(J,at=>{const yt=at.docs.map(dt=>({id:dt.id,...dt.data()}));t(yt),localStorage.setItem("todos",JSON.stringify(yt))})},_=async($,J="other")=>{if(!$.trim()||!d)return;const Z={uid:d.uid,text:$,category:J,completed:!1,createdAt:new Date().toISOString(),sharedWith:[]};await jI(Jv(_l,"todos"),Z)},A=async($,J)=>{await sE(zc(_l,"todos",$),{completed:!J})},S=async($,J)=>{await sE(zc(_l,"todos",$),{text:J})},V=async $=>{await qI(zc(_l,"todos",$))},F=r.filter($=>i==="completed"?$.completed:i==="pending"?!$.completed:!0).filter($=>$.text.toLowerCase().includes(l.toLowerCase()));return lt.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #eef2ff, #dbeafe)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:d?"flex-start":"center",padding:"1rem"},children:d?lt.jsxs("div",{style:{width:"100%",maxWidth:"600px",background:"#fff",borderRadius:"1rem",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",padding:"1.5rem",marginTop:"2rem"},children:[lt.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.2rem"},children:[lt.jsx("h2",{style:{color:"#2563eb",margin:0},children:" Smart To-Do List"}),lt.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[lt.jsx("span",{style:{fontSize:"0.9rem",color:"#555"},children:d.displayName||d.email}),lt.jsx("button",{onClick:pD,style:{background:"#ef4444",color:"white",border:"none",borderRadius:"6px",padding:"6px 10px",cursor:"pointer",fontSize:"0.85rem"},children:"Logout"})]})]}),lt.jsx(US,{onAdd:_}),lt.jsx(kS,{filter:i,setFilter:s}),lt.jsx(zS,{searchTerm:l,setSearchTerm:c}),lt.jsx(LS,{todos:F,onToggle:$=>{const J=r.find(Z=>Z.id===$);A($,J.completed)},onDelete:V,onEdit:S})]}):lt.jsx(gD,{onAuthSuccess:()=>p(Ks.currentUser)})})}xS.createRoot(document.getElementById("root")).render(lt.jsx(RS.StrictMode,{children:lt.jsx(yD,{})}));
